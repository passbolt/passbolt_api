/*! For license information please see api-app.js.LICENSE.txt */
(()=>{"use strict";var e,t,a,s={23:(e,t,a)=>{var s=a(7294),n=a(3935),r=a(5697),i=a.n(r),o=a(2045);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},l.apply(this,arguments)}const c=s.createContext({feedbacks:[],displaySuccess:()=>{},displayError:()=>{},remove:()=>{}});class d extends s.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{feedbacks:[],displaySuccess:this.displaySuccess.bind(this),displayError:this.displayError.bind(this),remove:this.remove.bind(this)}}async displaySuccess(e){await this.setState({feedbacks:[...this.state.feedbacks,{id:(0,o.Z)(),type:"success",message:e}]})}async displayError(e){await this.setState({feedbacks:[...this.state.feedbacks,{id:(0,o.Z)(),type:"error",message:e}]})}async remove(e){await this.setState({feedbacks:this.state.feedbacks.filter((t=>e.id!==t.id))})}render(){return s.createElement(c.Provider,{value:this.state},this.props.children)}}function u(e){return class extends s.Component{render(){return s.createElement(c.Consumer,null,(t=>s.createElement(e,l({actionFeedbackContext:t},this.props))))}}}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},h.apply(this,arguments)}d.displayName="ActionFeedbackContextProvider",d.propTypes={children:i().any};const p=s.createContext({dialogs:[],open:()=>{},close:()=>{}});class m extends s.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{dialogs:[],open:(e,t)=>{const a=(0,o.Z)();return this.setState({dialogs:[...this.state.dialogs,{key:a,Dialog:e,DialogProps:t}]}),a},close:async e=>await this.setState({dialogs:this.state.dialogs.filter((t=>e!==t.key))})}}render(){return s.createElement(p.Provider,{value:this.state},this.props.children)}}function g(e){return class extends s.Component{render(){return s.createElement(p.Consumer,null,(t=>s.createElement(e,h({dialogContext:t},this.props))))}}}function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},y.apply(this,arguments)}m.displayName="DialogContextProvider",m.propTypes={children:i().any};const b=s.createContext({ContextualMenu:null,show:()=>{},hide:()=>{}});class f extends s.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{contextualMenus:[],show:(e,t)=>this.setState({contextualMenus:[...this.state.contextualMenus,{ContextualMenuComponent:e,componentProps:t}]}),hide:e=>this.setState({contextualMenus:this.state.contextualMenus.filter(((t,a)=>a!==e))})}}render(){return s.createElement(b.Provider,{value:this.state},this.props.children)}}f.displayName="ContextualMenuContextProvider",f.propTypes={children:i().any};var v=a(5444),E=a(6341);class w extends s.Component{static get DEFAULT_WAIT_TO_CLOSE_TIME_IN_MS(){return 500}constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{shouldRender:!0,isPersisted:!1,timeoutId:null}}componentDidMount(){this.displayWithTimer(this.props.displayTimeInMs)}componentDidUpdate(e){const t=e&&e.feedback.id!==this.props.feedback.id,a=e&&this.props.displayTimeInMs&&e.displayTimeInMs!==this.props.displayTimeInMs;t?(this.setState({shouldRender:!0}),this.displayWithTimer(this.props.displayTimeInMs)):a&&this.updateTimer(this.props.displayTimeInMs)}componentWillUnmount(){this.state.timeoutId&&clearTimeout(this.state.timeoutId)}bindCallbacks(){this.persist=this.persist.bind(this),this.displayWithTimer=this.displayWithTimer.bind(this),this.close=this.close.bind(this)}displayWithTimer(e){this.state.timeoutId&&clearTimeout(this.state.timeoutId);const t=setTimeout(this.close,e),a=Date.now();this.setState({timeoutId:t,time:a})}updateTimer(e){const t=e-(Date.now()-this.state.time);t>0?this.displayWithTimer(t):(clearTimeout(this.state.timeoutId),this.close())}persist(){this.state.timeoutId&&!this.state.isPersisted&&(clearTimeout(this.state.timeoutId),this.setState({isPersisted:!0}))}close(){this.setState({shouldRender:!1}),setTimeout(this.props.onClose,w.DEFAULT_WAIT_TO_CLOSE_TIME_IN_MS)}render(){return s.createElement(s.Fragment,null,s.createElement("div",{className:"notification",onMouseOver:this.persist,onMouseLeave:this.displayWithTimer,onClick:this.close},s.createElement("div",{className:`message animated ${this.state.shouldRender?"fadeInUp":"fadeOutUp"} warning`},s.createElement("span",{className:"content"},s.createElement("strong",null,"success"===this.props.feedback.type&&s.createElement(s.Fragment,null,s.createElement(v.c,null,"Success"),": "),"error"===this.props.feedback.type&&s.createElement(s.Fragment,null,s.createElement(v.c,null,"Error"),": ")),this.props.feedback.message))))}}w.propTypes={feedback:i().object,onClose:i().func,displayTimeInMs:i().number};const k=(0,E.Z)("common")(w);class C extends s.Component{constructor(e){super(e),this.bindCallbacks()}static get DEFAULT_DISPLAY_TIME_IN_MS(){return 5e3}static get DEFAULT_DISPLAY_MIN_TIME_IN_MS(){return 1200}bindCallbacks(){this.close=this.close.bind(this)}get feedbackToDisplay(){return this.props.actionFeedbackContext.feedbacks[0]}get length(){return this.props.actionFeedbackContext.feedbacks.length}get hasFeedbacks(){return this.length>0}async close(e){await this.props.actionFeedbackContext.remove(e)}render(){const e=this.length>1?C.DEFAULT_DISPLAY_MIN_TIME_IN_MS:C.DEFAULT_DISPLAY_TIME_IN_MS;return s.createElement(s.Fragment,null,this.hasFeedbacks&&s.createElement("div",{className:"notification-container"},s.createElement(k,{feedback:this.feedbackToDisplay,onClose:()=>this.close(this.feedbackToDisplay),displayTimeInMs:e})))}}C.propTypes={actionFeedbackContext:i().any};const x=u(C);var S=a(3727),N=a(5977);function q(){return q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},q.apply(this,arguments)}const R=s.createContext({user:null,users:null,roles:null,rememberMeOptions:{},resources:null,resource:null,shareResources:null,selectedResources:null,selectedUser:null,folders:null,resourceCommentId:null,mustRefreshComments:!1,siteSettings:null,userSettings:null,onCheckIsAuthenticatedRequested:null});function A(e){return class extends s.Component{render(){return s.createElement(R.Consumer,null,(t=>s.createElement(e,q({context:t},this.props))))}}}const I=R;function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},T.apply(this,arguments)}const U=s.createContext({counter:[],add:()=>{},remove:()=>{}});class z extends s.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{counter:0,add:()=>{this.setState({counter:this.state.counter+1})},remove:()=>{this.setState({counter:Math.min(this.state.counter-1,0)})}}}render(){return s.createElement(U.Provider,{value:this.state},this.props.children)}}z.propTypes={children:i().any};class D extends Error{constructor(e,t){super(e),this.name="PassboltApiFetchError",this.data=t||{}}}const P=D;class _ extends Error{constructor(){super("An internal error occurred. The server response could not be parsed. Please contact your administrator."),this.name="PassboltBadResponseError"}}const O=_;class F extends Error{constructor(e){super(e=e||"The service is unavailable"),this.name="PassboltServiceUnavailableError"}}const K=F;class M{constructor(e){if(this.options=e,!this.options.getBaseUrl())throw new TypeError("ApiClient constructor error: baseUrl is required.");if(!this.options.getResourceName())throw new TypeError("ApiClient constructor error: resourceName is required.");try{let e=this.options.getBaseUrl().toString();e.endsWith("/")&&(e=e.slice(0,-1)),this.baseUrl=`${e}/${this.options.getResourceName()}`,this.baseUrl=new URL(this.baseUrl)}catch(e){throw new TypeError("ApiClient constructor error: b.")}this.apiVersion="api-version=v2"}getDefaultHeaders(){return{Accept:"application/json","content-type":"application/json"}}buildFetchOptions(){return{credentials:"include",headers:{...this.getDefaultHeaders(),...this.options.getHeaders()}}}async get(e,t){this.assertValidId(e);const a=this.buildUrl(`${this.baseUrl}/${e}`,t||{});return this.fetchAndHandleResponse("GET",a)}async delete(e,t,a,s){let n;this.assertValidId(e),void 0===s&&(s=!1),n=s?this.buildUrl(`${this.baseUrl}/${e}/dry-run`,a||{}):this.buildUrl(`${this.baseUrl}/${e}`,a||{});let r=null;return t&&(r=this.buildBody(t)),this.fetchAndHandleResponse("DELETE",n,r)}async findAll(e){const t=this.buildUrl(this.baseUrl.toString(),e||{});return await this.fetchAndHandleResponse("GET",t)}async create(e,t){const a=this.buildUrl(this.baseUrl.toString(),t||{}),s=this.buildBody(e);return this.fetchAndHandleResponse("POST",a,s)}async update(e,t,a,s){let n;this.assertValidId(e),void 0===s&&(s=!1),n=s?this.buildUrl(`${this.baseUrl}/${e}/dry-run`,a||{}):this.buildUrl(`${this.baseUrl}/${e}`,a||{});let r=null;return t&&(r=this.buildBody(t)),this.fetchAndHandleResponse("PUT",n,r)}assertValidId(e){if(!e)throw new TypeError("ApiClient.assertValidId error: id cannot be empty");if("string"!=typeof e)throw new TypeError("ApiClient.assertValidId error: id should be a string")}assertMethod(e){"string"!=typeof e&&new TypeError("ApiClient.assertValidMethod method should be a string."),["GET","POST","PUT","DELETE"].indexOf(e)<0&&new TypeError(`ApiClient.assertValidMethod error: method ${e} is not supported.`)}assertUrl(e){if(!e)throw new TypeError("ApliClient.assertUrl error: url is required.");if(!(e instanceof URL))throw new TypeError("ApliClient.assertUrl error: url should be a valid URL object.")}assertBody(e){"string"!=typeof e&&new TypeError("ApiClient.assertBody error: body should be a string.")}buildBody(e){return JSON.stringify(e)}buildUrl(e,t){if("string"!=typeof e)throw new TypeError("ApiClient.buildUrl error: url should be a string.");const a=new URL(`${e}.json?${this.apiVersion}`);t=t||{};for(const[e,s]of Object.entries(t)){if("string"!=typeof e)throw new TypeError("ApiClient.buildUrl error: urlOptions key should be a string.");if("string"==typeof s)a.searchParams.append(e,s);else{if(!Array.isArray(s))throw new TypeError("ApiClient.buildUrl error: urlOptions value should be a string or array.");s.forEach((t=>{a.searchParams.append(e,t)}))}}return a}async fetchAndHandleResponse(e,t,a,s){let n,r;this.assertUrl(t),this.assertMethod(e),a&&this.assertBody(a);const i={...this.buildFetchOptions(),...s};i.method=e,a&&(i.body=a);try{n=await fetch(t.toString(),i)}catch(e){throw new K(e.message)}try{r=await n.json()}catch(e){throw new O}if(!n.ok){const e=r.header.message;throw new P(e,{code:n.status,body:r.body})}return r}}class j extends s.Component{getClassName(){let e=`svg-icon ${this.props.name}`;return this.props.big&&(e+=" icon-only"),this.props.baseline&&(e+=" baseline"),this.props.dim&&(e+=" dim"),e}render(){return s.createElement("span",{className:this.getClassName(),onClick:this.props.onClick},"add"===this.props.name&&s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"plus-circle",role:"img",viewBox:"0 0 512 512"},s.createElement("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"})),"ban"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1440 893q0-161-87-295l-754 753q137 89 297 89 111 0 211.5-43.5t173.5-116.5 116-174.5 43-212.5zm-999 299l755-754q-135-91-300-91-148 0-273 73t-198 199-73 274q0 162 89 299zm1223-299q0 157-61 300t-163.5 246-245 164-298.5 61-298.5-61-245-164-163.5-246-61-300 61-299.5 163.5-245.5 245-164 298.5-61 298.5 61 245 164 163.5 245.5 61 299.5z"})),"camera"===this.props.name&&s.createElement("svg",{width:"2048",height:"1792",viewBox:"0 0 2048 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1024 672q119 0 203.5 84.5t84.5 203.5-84.5 203.5-203.5 84.5-203.5-84.5-84.5-203.5 84.5-203.5 203.5-84.5zm704-416q106 0 181 75t75 181v896q0 106-75 181t-181 75h-1408q-106 0-181-75t-75-181v-896q0-106 75-181t181-75h224l51-136q19-49 69.5-84.5t103.5-35.5h512q53 0 103.5 35.5t69.5 84.5l51 136h224zm-704 1152q185 0 316.5-131.5t131.5-316.5-131.5-316.5-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5z"})),"caret-right"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1152 896q0 26-19 45l-448 448q-19 19-45 19t-45-19-19-45v-896q0-26 19-45t45-19 45 19l448 448q19 19 19 45z"})),"caret-down"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1408 704q0 26-19 45l-448 448q-19 19-45 19t-45-19l-448-448q-19-19-19-45t19-45 45-19h896q26 0 45 19t19 45z"})),"caret-up"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1408 1216q0 26-19 45t-45 19h-896q-26 0-45-19t-19-45 19-45l448-448q19-19 45-19t45 19l448 448q19 19 19 45z"})),"chevron-left"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1427 301l-531 531 531 531q19 19 19 45t-19 45l-166 166q-19 19-45 19t-45-19l-742-742q-19-19-19-45t19-45l742-742q19-19 45-19t45 19l166 166q19 19 19 45t-19 45z"})),"chevron-right"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45l166-166q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"})),"close"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1490 1322q0 40-28 68l-136 136q-28 28-68 28t-68-28l-294-294-294 294q-28 28-68 28t-68-28l-136-136q-28-28-28-68t28-68l294-294-294-294q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 294 294-294q28-28 68-28t68 28l136 136q28 28 28 68t-28 68l-294 294 294 294q28 28 28 68z"})),"close-circle"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1277 1122q0-26-19-45l-181-181 181-181q19-19 19-45 0-27-19-46l-90-90q-19-19-46-19-26 0-45 19l-181 181-181-181q-19-19-45-19-27 0-46 19l-90 90q-19 19-19 46 0 26 19 45l181 181-181 181q-19 19-19 45 0 27 19 46l90 90q19 19 46 19 26 0 45-19l181-181 181 181q19 19 45 19 27 0 46-19l90-90q19-19 19-46zm387-226q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"})),"cog"===this.props.name&&s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"cog",viewBox:"0 0 512 512"},s.createElement("path",{fill:"currentColor",d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"})),"copy-to-clipboard"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M768 1664h896v-640h-416q-40 0-68-28t-28-68v-416h-384v1152zm256-1440v-64q0-13-9.5-22.5t-22.5-9.5h-704q-13 0-22.5 9.5t-9.5 22.5v64q0 13 9.5 22.5t22.5 9.5h704q13 0 22.5-9.5t9.5-22.5zm256 672h299l-299-299v299zm512 128v672q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-160h-544q-40 0-68-28t-28-68v-1344q0-40 28-68t68-28h1088q40 0 68 28t28 68v328q21 13 36 28l408 408q28 28 48 76t20 88z"})),"download"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1344 1344q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm256 0q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm128-224v320q0 40-28 68t-68 28h-1472q-40 0-68-28t-28-68v-320q0-40 28-68t68-28h465l135 136q58 56 136 56t136-56l136-136h464q40 0 68 28t28 68zm-325-569q17 41-14 70l-448 448q-18 19-45 19t-45-19l-448-448q-31-29-14-70 17-39 59-39h256v-448q0-26 19-45t45-19h256q26 0 45 19t19 45v448h256q42 0 59 39z"})),"edit"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M888 1184l116-116-152-152-116 116v56h96v96h56zm440-720q-16-16-33 1l-350 350q-17 17-1 33t33-1l350-350q17-17 1-33zm80 594v190q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q63 0 117 25 15 7 18 23 3 17-9 29l-49 49q-14 14-32 8-23-6-45-6h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-126q0-13 9-22l64-64q15-15 35-7t20 29zm-96-738l288 288-672 672h-288v-288zm444 132l-92 92-288-288 92-92q28-28 68-28t68 28l152 152q28 28 28 68t-28 68z"})),"envelope"===this.props.name&&s.createElement("svg",{width:"512",height:"512",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{fill:"currentColor",d:"M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z"}),"        "),"exclamation"===this.props.name&&s.createElement("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M6.83979 0.680176C5.62146 0.680176 4.43043 1.04145 3.41743 1.71832C2.40442 2.39519 1.61486 3.35726 1.14863 4.48285C0.682391 5.60844 0.560356 6.84701 0.798041 8.04193C1.03573 9.23685 1.62258 10.3345 2.48408 11.196C3.34557 12.0575 4.44296 12.6442 5.63788 12.8818C6.83281 13.1195 8.07162 12.9975 9.19721 12.5312C10.3228 12.065 11.2847 11.2755 11.9616 10.2625C12.6385 9.24951 12.9997 8.05848 12.9997 6.84015C12.9997 5.20642 12.3507 3.6396 11.1955 2.48438C10.0403 1.32915 8.47352 0.680176 6.83979 0.680176Z",fill:"currentColor"}),s.createElement("path",{d:"M6.8398 2.95996C6.96762 2.96106 7.09393 2.98819 7.2109 3.03974C7.32786 3.09129 7.43293 3.16617 7.51998 3.25977C7.60703 3.35337 7.67406 3.46372 7.717 3.58411C7.75994 3.7045 7.7779 3.83241 7.76974 3.95996L7.56978 7.34992C7.56978 7.54353 7.49282 7.72925 7.35592 7.86615C7.21902 8.00306 7.03341 8.07996 6.8398 8.07996C6.6462 8.07996 6.46059 8.00306 6.32369 7.86615C6.18679 7.72925 6.10982 7.54353 6.10982 7.34992L5.90987 3.95996C5.90022 3.83208 5.91704 3.70356 5.95943 3.58252C6.00183 3.46148 6.06887 3.35051 6.15621 3.2566C6.24355 3.16268 6.34935 3.08786 6.467 3.03681C6.58465 2.98576 6.71155 2.9596 6.8398 2.95996Z",fill:"white"}),s.createElement("path",{d:"M6.83978 10.71C6.642 10.71 6.44856 10.6513 6.28411 10.5414C6.11966 10.4315 5.99164 10.2754 5.91595 10.0926C5.84026 9.9099 5.82048 9.70885 5.85906 9.51487C5.89765 9.32089 5.99289 9.1427 6.13275 9.00285C6.2726 8.86299 6.45073 8.76775 6.64471 8.72917C6.83869 8.69058 7.03962 8.71042 7.22235 8.78611C7.40507 8.8618 7.56144 8.98995 7.67132 9.1544C7.7812 9.31885 7.83978 9.51222 7.83978 9.71C7.83978 9.97522 7.73434 10.2296 7.54681 10.4171C7.35927 10.6046 7.10499 10.71 6.83978 10.71Z",fill:"white"})),"eye-open"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1664 960q-152-236-381-353 61 104 61 225 0 185-131.5 316.5t-316.5 131.5-316.5-131.5-131.5-316.5q0-121 61-225-229 117-381 353 133 205 333.5 326.5t434.5 121.5 434.5-121.5 333.5-326.5zm-720-384q0-20-14-34t-34-14q-125 0-214.5 89.5t-89.5 214.5q0 20 14 34t34 14 34-14 14-34q0-86 61-147t147-61q20 0 34-14t14-34zm848 384q0 34-20 69-140 230-376.5 368.5t-499.5 138.5-499.5-139-376.5-368q-20-35-20-69t20-69q140-229 376.5-368t499.5-139 499.5 139 376.5 368q20 35 20 69z"})),"eye-close"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M555 1335l78-141q-87-63-136-159t-49-203q0-121 61-225-229 117-381 353 167 258 427 375zm389-759q0-20-14-34t-34-14q-125 0-214.5 89.5t-89.5 214.5q0 20 14 34t34 14 34-14 14-34q0-86 61-147t147-61q20 0 34-14t14-34zm363-191q0 7-1 9-106 189-316 567t-315 566l-49 89q-10 16-28 16-12 0-134-70-16-10-16-28 0-12 44-87-143-65-263.5-173t-208.5-245q-20-31-20-69t20-69q153-235 380-371t496-136q89 0 180 17l54-97q10-16 28-16 5 0 18 6t31 15.5 33 18.5 31.5 18.5 19.5 11.5q16 10 16 27zm37 447q0 139-79 253.5t-209 164.5l280-502q8 45 8 84zm448 128q0 35-20 69-39 64-109 145-150 172-347.5 267t-419.5 95l74-132q212-18 392.5-137t301.5-307q-115-179-282-294l63-112q95 64 182.5 153t144.5 184q20 34 20 69z"})),"external-link"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1408 928v-480q0-26-19-45t-45-19h-480q-42 0-59 39-17 41 14 70l144 144-534 534q-19 19-19 45t19 45l102 102q19 19 45 19t45-19l534-534 144 144q18 19 45 19 12 0 25-5 39-17 39-59zm256-512v960q0 119-84.5 203.5t-203.5 84.5h-960q-119 0-203.5-84.5t-84.5-203.5v-960q0-119 84.5-203.5t203.5-84.5h960q119 0 203.5 84.5t84.5 203.5z"})),"folder"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1728 608v704q0 92-66 158t-158 66h-1216q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h672q92 0 158 66t66 158z"})),"folder-shared"===this.props.name&&s.createElement("svg",{viewBox:"2 2 20 20",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-5 3c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm4 8h-8v-1c0-1.33 2.67-2 4-2s4 .67 4 2v1z"})),"heart"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M896 1664q-26 0-44-18l-624-602q-10-8-27.5-26t-55.5-65.5-68-97.5-53.5-121-23.5-138q0-220 127-344t351-124q62 0 126.5 21.5t120 58 95.5 68.5 76 68q36-36 76-68t95.5-68.5 120-58 126.5-21.5q224 0 351 124t127 344q0 221-229 450l-623 600q-18 18-44 18z"})),"heart-o"===this.props.name&&s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},s.createElement("path",{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"})),"heartbeat"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1280 1024h305q-5 6-10 10.5t-9 7.5l-3 4-623 600q-18 18-44 18t-44-18l-624-602q-5-2-21-20h369q22 0 39.5-13.5t22.5-34.5l70-281 190 667q6 20 23 33t39 13q21 0 38-13t23-33l146-485 56 112q18 35 57 35zm512-428q0 145-103 300h-369l-111-221q-8-17-25.5-27t-36.5-8q-45 5-56 46l-129 430-196-686q-6-20-23.5-33t-39.5-13-39 13.5-22 34.5l-116 464h-423q-103-155-103-300 0-220 127-344t351-124q62 0 126.5 21.5t120 58 95.5 68.5 76 68q36-36 76-68t95.5-68.5 120-58 126.5-21.5q224 0 351 124t127 344z"})),"info-circle"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1152 1376v-160q0-14-9-23t-23-9h-96v-512q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v160q0 14 9 23t23 9h96v320h-96q-14 0-23 9t-9 23v160q0 14 9 23t23 9h448q14 0 23-9t9-23zm-128-896v-160q0-14-9-23t-23-9h-192q-14 0-23 9t-9 23v160q0 14 9 23t23 9h192q14 0 23-9t9-23zm640 416q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"})),"key"===this.props.name&&s.createElement("svg",{width:"512",height:"512",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},s.createElement("path",{fill:"currentColor",d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"})),"link"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1520 1216q0-40-28-68l-208-208q-28-28-68-28-42 0-72 32 3 3 19 18.5t21.5 21.5 15 19 13 25.5 3.5 27.5q0 40-28 68t-68 28q-15 0-27.5-3.5t-25.5-13-19-15-21.5-21.5-18.5-19q-33 31-33 73 0 40 28 68l206 207q27 27 68 27 40 0 68-26l147-146q28-28 28-67zm-703-705q0-40-28-68l-206-207q-28-28-68-28-39 0-68 27l-147 146q-28 28-28 67 0 40 28 68l208 208q27 27 68 27 42 0 72-31-3-3-19-18.5t-21.5-21.5-15-19-13-25.5-3.5-27.5q0-40 28-68t68-28q15 0 27.5 3.5t25.5 13 19 15 21.5 21.5 18.5 19q33-31 33-73zm895 705q0 120-85 203l-147 146q-83 83-203 83-121 0-204-85l-206-207q-83-83-83-203 0-123 88-209l-88-88q-86 88-208 88-120 0-204-84l-208-208q-84-84-84-204t85-203l147-146q83-83 203-83 121 0 204 85l206 207q83 83 83 203 0 123-88 209l88 88q86-88 208-88 120 0 204 84l208 208q84 84 84 204z"})),"lock"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),"lock-open"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1376 768q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-320q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45q0-106-75-181t-181-75-181 75-75 181v320h736z"})),"magic-wand"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1254 581l293-293-107-107-293 293zm447-293q0 27-18 45l-1286 1286q-18 18-45 18t-45-18l-198-198q-18-18-18-45t18-45l1286-1286q18-18 45-18t45 18l198 198q18 18 18 45zm-1351-190l98 30-98 30-30 98-30-98-98-30 98-30 30-98zm350 162l196 60-196 60-60 196-60-196-196-60 196-60 60-196zm930 478l98 30-98 30-30 98-30-98-98-30 98-30 30-98zm-640-640l98 30-98 30-30 98-30-98-98-30 98-30 30-98z"})),"plus-circle"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1344 960v-128q0-26-19-45t-45-19h-256v-256q0-26-19-45t-45-19h-128q-26 0-45 19t-19 45v256h-256q-26 0-45 19t-19 45v128q0 26 19 45t45 19h256v256q0 26 19 45t45 19h128q26 0 45-19t19-45v-256h256q26 0 45-19t19-45zm320-64q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"})),"plus-square"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 448 512",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"})),"filter"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"})),"life-ring"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M256 504c136.967 0 248-111.033 248-248S392.967 8 256 8 8 119.033 8 256s111.033 248 248 248zm-103.398-76.72l53.411-53.411c31.806 13.506 68.128 13.522 99.974 0l53.411 53.411c-63.217 38.319-143.579 38.319-206.796 0zM336 256c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zm91.28 103.398l-53.411-53.411c13.505-31.806 13.522-68.128 0-99.974l53.411-53.411c38.319 63.217 38.319 143.579 0 206.796zM359.397 84.72l-53.411 53.411c-31.806-13.505-68.128-13.522-99.973 0L152.602 84.72c63.217-38.319 143.579-38.319 206.795 0zM84.72 152.602l53.411 53.411c-13.506 31.806-13.522 68.128 0 99.974L84.72 359.398c-38.319-63.217-38.319-143.579 0-206.796z"})),"plug"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 384 512",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M320,32a32,32,0,0,0-64,0v96h64Zm48,128H16A16,16,0,0,0,0,176v32a16,16,0,0,0,16,16H32v32A160.07,160.07,0,0,0,160,412.8V512h64V412.8A160.07,160.07,0,0,0,352,256V224h16a16,16,0,0,0,16-16V176A16,16,0,0,0,368,160ZM128,32a32,32,0,0,0-64,0v96h64Z"})),"printer"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M448 1536h896v-256h-896v256zm0-640h896v-384h-160q-40 0-68-28t-28-68v-160h-640v640zm1152 64q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm128 0v416q0 13-9.5 22.5t-22.5 9.5h-224v160q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-160h-224q-13 0-22.5-9.5t-9.5-22.5v-416q0-79 56.5-135.5t135.5-56.5h64v-544q0-40 28-68t68-28h672q40 0 88 20t76 48l152 152q28 28 48 76t20 88v256h64q79 0 135.5 56.5t56.5 135.5z"})),"refresh"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"})),"question-circle"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1024 1376v-192q0-14-9-23t-23-9h-192q-14 0-23 9t-9 23v192q0 14 9 23t23 9h192q14 0 23-9t9-23zm256-672q0-88-55.5-163t-138.5-116-170-41q-243 0-371 213-15 24 8 42l132 100q7 6 19 6 16 0 25-12 53-68 86-92 34-24 86-24 48 0 85.5 26t37.5 59q0 38-20 61t-68 45q-63 28-115.5 86.5t-52.5 125.5v36q0 14 9 23t23 9h192q14 0 23-9t9-23q0-19 21.5-49.5t54.5-49.5q32-18 49-28.5t46-35 44.5-48 28-60.5 12.5-81zm384 192q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"})),"search"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1216 832q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 52-38 90t-90 38q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z"})),"share"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1764 11q33 24 27 64l-256 1536q-5 29-32 45-14 8-31 8-11 0-24-5l-453-185-242 295q-18 23-49 23-13 0-22-4-19-7-30.5-23.5t-11.5-36.5v-349l864-1059-1069 925-395-162q-37-14-40-55-2-40 32-59l1664-960q15-9 32-9 20 0 36 11z"})),"star"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z"})),"save"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 448 512",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM272 80v80H144V80h128zm122 352H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h42v104c0 13.255 10.745 24 24 24h176c13.255 0 24-10.745 24-24V83.882l78.243 78.243a6 6 0 0 1 1.757 4.243V426a6 6 0 0 1-6 6zM224 232c-48.523 0-88 39.477-88 88s39.477 88 88 88 88-39.477 88-88-39.477-88-88-88zm0 128c-22.056 0-40-17.944-40-40s17.944-40 40-40 40 17.944 40 40-17.944 40-40 40z"})),"trash"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M704 1376v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zm256 0v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zm256 0v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zm-544-992h448l-48-117q-7-9-17-11h-317q-10 2-17 11zm928 32v64q0 14-9 23t-23 9h-96v948q0 83-47 143.5t-113 60.5h-832q-66 0-113-58.5t-47-141.5v-952h-96q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h309l70-167q15-37 54-63t79-26h320q40 0 79 26t54 63l70 167h309q14 0 23 9t9 23z"})),"upload"===this.props.name&&s.createElement("svg",{width:"2048",height:"1792",viewBox:"0 0 2048 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1344 864q0-14-9-23l-352-352q-9-9-23-9t-23 9l-351 351q-10 12-10 24 0 14 9 23t23 9h224v352q0 13 9.5 22.5t22.5 9.5h192q13 0 22.5-9.5t9.5-22.5v-352h224q13 0 22.5-9.5t9.5-22.5zm640 288q0 159-112.5 271.5t-271.5 112.5h-1088q-185 0-316.5-131.5t-131.5-316.5q0-130 70-240t188-165q-2-30-2-43 0-212 150-362t362-150q156 0 285.5 87t188.5 231q71-62 166-62 106 0 181 75t75 181q0 76-41 138 130 31 213.5 135.5t83.5 238.5z"})),"upload-a"===this.props.name&&s.createElement("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"upload",className:"svg-inline--fa fa-upload fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},s.createElement("path",{fill:"currentColor",d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"})),"user"===this.props.name&&s.createElement("svg",{width:"448",height:"512",viewBox:"0 0 448 512",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{fill:"currentColor",d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z",className:""})),"users"===this.props.name&&s.createElement("svg",{width:"640",height:"512",viewBox:"0 0 640 512",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{fill:"currentColor",d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"})),"warning"===this.props.name&&s.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1024 1375v-190q0-14-9.5-23.5t-22.5-9.5h-192q-13 0-22.5 9.5t-9.5 23.5v190q0 14 9.5 23.5t22.5 9.5h192q13 0 22.5-9.5t9.5-23.5zm-2-374l18-459q0-12-10-19-13-11-24-11h-220q-11 0-24 11-10 7-10 21l17 457q0 10 10 16.5t24 6.5h185q14 0 23.5-6.5t10.5-16.5zm-14-934l768 1408q35 63-2 126-17 29-46.5 46t-63.5 17h-1536q-34 0-63.5-17t-46.5-46q-37-63-2-126l768-1408q17-31 47-49t65-18 65 18 47 49z"})))}}j.defaultProps={big:!1,baseline:!1,dim:!1,onClick:()=>{}},j.propTypes={name:i().string,big:i().bool,dim:i().bool,baseline:i().bool,onClick:i().func};const G=j;class L extends s.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleCloseClick=this.handleCloseClick.bind(this)}handleCloseClick(){this.props.onClose()}getClassName(){let e="dialog-close";return this.props.disabled&&(e+=" disabled"),e}render(){return s.createElement("a",{className:this.getClassName(),onClick:this.handleCloseClick,role:"button"},s.createElement(G,{name:"close"}),s.createElement("span",{className:"visually-hidden"},"Close"))}}L.propTypes={onClose:i().func,disabled:i().bool};const W=L;class B extends s.Component{constructor(e){super(e),this.state={top:null},this.tooltipRef=s.createRef(),this.bindCallbacks()}bindCallbacks(){this.setTop=this.setTop.bind(this)}getInlineCss(){return this.state.top?{top:`${this.tooltipRef.current.getBoundingClientRect().top}px`}:{}}setTop(){this.props.offset&&this.setState({top:this.tooltipRef.current.getBoundingClientRect().top})}render(){return s.createElement("div",{className:"more-details tooltip-alt",ref:this.tooltipRef,onMouseEnter:this.setTop},s.createElement(G,{name:"info-circle"}),s.createElement("div",{className:"tooltip-text right",style:this.getInlineCss()},this.props.children))}}B.propTypes={offset:i().bool,children:i().node};const $=B;class V extends s.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleKeyDown=this.handleKeyDown.bind(this),this.handleClose=this.handleClose.bind(this)}handleKeyDown(e){27===e.keyCode&&this.handleClose()}handleClose(){this.props.disabled||this.props.onClose()}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){return s.createElement("div",{className:`${this.props.className} dialog-wrapper`},s.createElement("div",{className:"dialog"},s.createElement("div",{className:"dialog-header"},s.createElement("h2",null,s.createElement("span",{className:"dialog-header-title"},this.props.title),this.props.subtitle&&s.createElement("span",{className:"dialog-header-subtitle"},this.props.subtitle),this.props.tooltip&&""!==this.props.tooltip&&s.createElement($,null,s.createElement("span",null,this.props.tooltip))),s.createElement(W,{onClose:this.handleClose,disabled:this.props.disabled})),s.createElement("div",{className:"dialog-content"},this.props.children)))}}V.propTypes={children:i().node,className:i().string,title:i().string,subtitle:i().string,tooltip:i().string,loading:i().bool,disabled:i().bool,onClose:i().func};const H=V;class Z extends s.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleClick=this.handleClick.bind(this)}handleClick(){this.props.disabled||this.props.onClick()}getClassName(){let e="cancel";return this.props.disabled&&(e+=" disabled"),e}get translate(){return this.props.t}render(){return s.createElement("a",{className:this.getClassName(),role:"button",onClick:this.handleClick},this.translate("Cancel"))}}Z.propTypes={disabled:i().bool,onClick:i().func,t:i().func};const Y=(0,E.Z)("common")(Z);class J extends s.Component{constructor(e){super(e),this.bindEventHandlers()}bindEventHandlers(){this.handleClose=this.handleClose.bind(this)}handleClose(){this.props.onClose()}get translate(){return this.props.t}render(){return s.createElement(H,{className:"loading-dialog",title:this.props.title,onClose:this.handleClose,disabled:!1},s.createElement("div",{className:"form-content"},s.createElement("label",null,s.createElement(v.c,null,"Take a deep breath and enjoy being in the present moment...")),s.createElement("div",{className:"progress-bar-wrapper"},s.createElement("span",{style:{width:"100%"},className:"progress-bar big infinite"},s.createElement("span",{className:"progress"})))))}}J.propTypes={onClose:i().func,title:i().string,t:i().func};const Q=(0,E.Z)("common")(J);class X extends s.Component{constructor(e){super(e),this.state=this.defaultState,this.bindEventHandlers()}get defaultState(){return{loading:!0,openFullReport:!1,userDirectorySimulateSynchronizeResult:null}}bindEventHandlers(){this.handleFullReportClicked=this.handleFullReportClicked.bind(this),this.handleClose=this.handleClose.bind(this),this.handleSynchronize=this.handleSynchronize.bind(this)}async componentDidMount(){try{const e=(await this.props.administrationWorkspaceContext.onGetSimulateSynchronizeUsersDirectoryRequested()).body;this.setState({loading:!1,userDirectorySimulateSynchronizeResult:e})}catch(e){await this.handleError(e)}}async handleError(e){console.error(e),await this.props.actionFeedbackContext.displayError(e.message),this.handleClose()}handleFullReportClicked(){this.setState({openFullReport:!this.state.openFullReport})}handleClose(){this.props.onClose()}handleSynchronize(){this.props.administrationWorkspaceContext.onMustSynchronizeSettings(),this.handleClose()}isLoading(){return this.state.loading}get users(){return this.state.userDirectorySimulateSynchronizeResult.users}get groups(){return this.state.userDirectorySimulateSynchronizeResult.groups}get usersSuccess(){return this.users.filter((e=>"success"===e.status))}get groupsSuccess(){return this.groups.filter((e=>"success"===e.status))}get usersError(){return this.users.filter((e=>"error"===e.status))}get groupsError(){return this.groups.filter((e=>"error"===e.status))}get usersIgnored(){return this.users.filter((e=>"ignore"===e.status))}get groupsIgnored(){return this.groups.filter((e=>"ignore"===e.status))}hasSuccessResource(){return this.usersSuccess.length>0||this.groupsSuccess.length>0}hasErrorOrIgnoreResource(){return this.usersError.length>0||this.groupsError.length>0||this.usersIgnored.length>0||this.groupsIgnored.length>0}getFullReport(){let e="";return e=e.concat(this.getUsersFullReport()),e=e.concat(this.getGroupsFullReport()),e}getUsersFullReport(){let e="";if(this.usersSuccess.length>0||this.usersError.length>0||this.usersIgnored.length>0){const t=`---------------------------------------------------------------------\n\n      ${this.translate("Users")}\n\n      ---------------------------------------------------------------------\n`;e=e.concat(t);const a=t=>e=e.concat(`- ${t.message}\n`);this.usersSuccess.length>0&&(e=e.concat(`\n${this.translate("Success:")}\n`),this.usersSuccess.map(a)),this.usersError.length>0&&(e=e.concat(`\n${this.translate("Errors:")}\n`),this.usersError.map(a)),this.usersIgnored.length>0&&(e=e.concat(`\n${this.translate("Ignored:")}\n`),this.usersIgnored.map(a))}return e.concat("\n")}getGroupsFullReport(){let e="";if(this.groupsSuccess.length>0||this.groupsError.length>0||this.groupsIgnored.length>0){const t=`---------------------------------------------------------------------\n\n       ${this.translate("Groups")}\n\n       ---------------------------------------------------------------------\n`;e=e.concat(t);const a=t=>e=e.concat(`- ${t.message}\n`);this.groupsSuccess.length>0&&(e=e.concat(`\n${this.translate("Success:")}\n`),this.groupsSuccess.map(a)),this.groupsError.length>0&&(e=e.concat(`\n${this.translate("Errors:")}\n`),this.groupsError.map(a)),this.groupsIgnored.length>0&&(e=e.concat(`\n${this.translate("Ignored:")}\n`),this.groupsIgnored.map(a))}return e}get translate(){return this.props.t}render(){return s.createElement("div",null,this.isLoading()&&s.createElement(Q,{onClose:this.handleClose,title:this.translate("Synchronize simulation")}),!this.isLoading()&&s.createElement(H,{className:"ldap-simulate-synchronize-dialog",title:this.translate("Synchronize simulation report"),onClose:this.handleClose,disabled:this.isLoading()},s.createElement("div",{className:"form-content",onSubmit:this.handleFormSubmit},s.createElement("p",null,s.createElement("strong",null,s.createElement(v.c,null,"The operation was successful."))),s.createElement("p",null),this.hasSuccessResource()&&s.createElement("p",{id:"resources-synchronize"}," ",this.translate("{{users}} and {{groups}} will be synchronized.",{users:this.translate("{{count}} user",{count:this.usersSuccess.length}),groups:this.translate("{{count}} group",{count:this.groupsSuccess.length})})," "),!this.hasSuccessResource()&&s.createElement("p",{id:"no-resources"}," ",s.createElement(v.c,null,"No resources will be synchronized.")," "),this.hasErrorOrIgnoreResource()&&s.createElement("p",{className:"error inline-error"},s.createElement(v.c,null,"Some resources will not be synchronized and will require your attention, see the full report.")),s.createElement("div",{className:"accordion operation-details "+(this.state.openFullReport?"":"closed")},s.createElement("div",{className:"accordion-header",onClick:this.handleFullReportClicked},this.state.openListGroupsUsers&&s.createElement(G,{name:"caret-down",baseline:!0}),!this.state.openListGroupsUsers&&s.createElement(G,{name:"caret-right",baseline:!0}),s.createElement("a",{role:"link"},s.createElement(v.c,null,"Full report"))),s.createElement("div",{className:"accordion-content"},s.createElement("div",{className:"input text"},s.createElement("textarea",{className:"full_report",readOnly:!0,value:this.getFullReport()})))),s.createElement("p",null)),s.createElement("div",{className:"submit-wrapper clearfix"},s.createElement("a",{className:"button primary "+(this.isLoading()?"disabled":""),role:"button",onClick:this.handleSynchronize},s.createElement(v.c,null,"Synchronize")),s.createElement(Y,{disabled:this.isLoading(),onClick:this.handleClose}))))}}X.propTypes={onClose:i().func,actionFeedbackContext:i().any,administrationWorkspaceContext:i().object,t:i().func};const ee=u(de((0,E.Z)("common")(X)));class te extends s.Component{constructor(e){super(e),this.state=this.defaultState,this.bindEventHandlers()}get defaultState(){return{loading:!0,openFullReport:!1,userDirectorySynchronizeResult:null}}bindEventHandlers(){this.handleFullReportClicked=this.handleFullReportClicked.bind(this),this.handleClose=this.handleClose.bind(this),this.handleSynchronize=this.handleSynchronize.bind(this)}async componentDidMount(){try{const e=(await this.props.administrationWorkspaceContext.onGetSynchronizeUsersDirectoryRequested()).body;this.setState({loading:!1,userDirectorySynchronizeResult:e})}catch(e){await this.handleError(e)}}async handleError(e){console.error(e),await this.props.actionFeedbackContext.displayError(e.message),this.handleClose()}handleFullReportClicked(){this.setState({openFullReport:!this.state.openFullReport})}handleClose(){this.props.onClose()}handleSynchronize(){this.handleClose()}isLoading(){return this.state.loading}get users(){return this.state.userDirectorySynchronizeResult.users}get groups(){return this.state.userDirectorySynchronizeResult.groups}get usersSuccess(){return this.users.filter((e=>"success"===e.status))}get groupsSuccess(){return this.groups.filter((e=>"success"===e.status))}get usersError(){return this.users.filter((e=>"error"===e.status))}get groupsError(){return this.groups.filter((e=>"error"===e.status))}get usersIgnored(){return this.users.filter((e=>"ignore"===e.status))}get groupsIgnored(){return this.groups.filter((e=>"ignore"===e.status))}hasSuccessResource(){return this.usersSuccess.length>0||this.groupsSuccess.length>0}hasErrorOrIgnoreResource(){return this.usersError.length>0||this.groupsError.length>0||this.usersIgnored.length>0||this.groupsIgnored.length>0}getFullReport(){let e="";return e=e.concat(this.getUsersFullReport()),e=e.concat(this.getGroupsFullReport()),e}getUsersFullReport(){let e="";if(this.usersSuccess.length>0||this.usersError.length>0||this.usersIgnored.length>0){const t=`---------------------------------------------------------------------\n\n      ${this.translate("Users")}\n\n      ---------------------------------------------------------------------\n`;e=e.concat(t);const a=t=>e=e.concat(`- ${t.message}\n`);this.usersSuccess.length>0&&(e=e.concat(`\n${this.translate("Success:")}\n`),this.usersSuccess.map(a)),this.usersError.length>0&&(e=e.concat(`\n${this.translate("Errors:")}\n`),this.usersError.map(a)),this.usersIgnored.length>0&&(e=e.concat(`\n${this.translate("Ignored:")}\n`),this.usersIgnored.map(a))}return e.concat("\n")}getGroupsFullReport(){let e="";if(this.groupsSuccess.length>0||this.groupsError.length>0||this.groupsIgnored.length>0){const t=`---------------------------------------------------------------------\n\n       ${this.translate("Groups")}\n\n       ---------------------------------------------------------------------\n`;e=e.concat(t);const a=t=>e=e.concat(`- ${t.message}\n`);this.groupsSuccess.length>0&&(e=e.concat(`\n${this.translate("Success:")}\n`),this.groupsSuccess.map(a)),this.groupsError.length>0&&(e=e.concat(`\n${this.translate("Errors:")}\n`),this.groupsError.map(a)),this.groupsIgnored.length>0&&(e=e.concat(`\n${this.translate("Ignored:")}\n`),this.groupsIgnored.map(a))}return e}get translate(){return this.props.t}render(){return s.createElement("div",null,this.isLoading()&&s.createElement(Q,{onClose:this.handleClose,title:this.translate("Synchronize")}),!this.isLoading()&&s.createElement(H,{className:"ldap-simulate-synchronize-dialog",title:this.translate("Synchronize report"),onClose:this.handleClose,disabled:this.isLoading()},s.createElement("div",{className:"form-content",onSubmit:this.handleFormSubmit},s.createElement("p",null,s.createElement("strong",null,s.createElement(v.c,null,"The operation was successful."))),s.createElement("p",null),this.hasSuccessResource()&&s.createElement("p",{id:"resources-synchronize"}," ",this.translate("{{users}} and {{groups}} have been synchronized.",{users:this.translate("{{count}} user",{count:this.usersSuccess.length}),groups:this.translate("{{count}} group",{count:this.groupsSuccess.length})})," "),!this.hasSuccessResource()&&s.createElement("p",{id:"no-resources"}," ",s.createElement(v.c,null,"No resources have been synchronized.")," "),this.hasErrorOrIgnoreResource()&&s.createElement("p",{className:"error inline-error"},s.createElement(v.c,null,"Some resources will not be synchronized and will require your attention, see the full report.")),s.createElement("div",{className:"accordion operation-details "+(this.state.openFullReport?"":"closed")},s.createElement("div",{className:"accordion-header",onClick:this.handleFullReportClicked},this.state.openListGroupsUsers&&s.createElement(G,{name:"caret-down",baseline:!0}),!this.state.openListGroupsUsers&&s.createElement(G,{name:"caret-right",baseline:!0}),s.createElement("a",{role:"link"},s.createElement(v.c,null,"Full report"))),s.createElement("div",{className:"accordion-content"},s.createElement("div",{className:"input text"},s.createElement("textarea",{className:"full_report",readOnly:!0,value:this.getFullReport()})))),s.createElement("p",null)),s.createElement("div",{className:"submit-wrapper clearfix"},s.createElement("a",{className:"button primary "+(this.isLoading()?"disabled":""),role:"button",onClick:this.handleClose},s.createElement(v.c,null,"Ok")))))}}te.propTypes={onClose:i().func,actionFeedbackContext:i().any,administrationWorkspaceContext:i().object,t:i().func};const ae=u(de((0,E.Z)("common")(te)));class se extends s.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleSaveClick=this.handleSaveClick.bind(this),this.handleTestClick=this.handleTestClick.bind(this),this.handleSimulateSynchronizeClick=this.handleSimulateSynchronizeClick.bind(this),this.handleSynchronizeClick=this.handleSynchronizeClick.bind(this),this.handleEditSubscriptionClick=this.handleEditSubscriptionClick.bind(this)}async componentDidUpdate(e){await this.handleMustSynchronize(e.administrationWorkspaceContext.must.synchronize)}handleMustSynchronize(e){this.props.administrationWorkspaceContext.must.synchronize!==e&&this.props.administrationWorkspaceContext.must.synchronize&&(this.handleSynchronizeClick(),this.props.administrationWorkspaceContext.onResetActionsSettings())}handleSaveClick(){this.props.administrationWorkspaceContext.onMustSaveSettings()}handleTestClick(){this.props.administrationWorkspaceContext.onMustTestSettings()}handleSimulateSynchronizeClick(){this.props.dialogContext.open(ee)}handleSynchronizeClick(){this.props.dialogContext.open(ae)}handleEditSubscriptionClick(){this.props.administrationWorkspaceContext.onMustEditSubscriptionKey()}isSaveEnabled(){return this.props.administrationWorkspaceContext.can.save}isTestEnabled(){return this.props.administrationWorkspaceContext.can.test}isSynchronizeEnabled(){return this.props.administrationWorkspaceContext.can.synchronize}isUserDirectorySelected(){return ue.USER_DIRECTORY===this.props.administrationWorkspaceContext.selectedAdministration}isSubscriptionSelected(){return ue.SUBSCRIPTION===this.props.administrationWorkspaceContext.selectedAdministration}get translate(){return this.props.t}render(){return s.createElement("div",{className:"col2_3 actions-wrapper"},s.createElement("div",{className:"actions"},!this.isSubscriptionSelected()&&s.createElement("div",null,s.createElement("li",null,s.createElement("a",{className:"button "+(this.isSaveEnabled()?"":"disabled"),onClick:this.handleSaveClick},s.createElement(G,{name:"save"}),s.createElement("span",null,s.createElement(v.c,null,"Save settings")))),this.isUserDirectorySelected()&&s.createElement("div",null,s.createElement("li",null,s.createElement("a",{className:"button "+(this.isTestEnabled()?"":"disabled"),onClick:this.handleTestClick},s.createElement(G,{name:"plug"}),s.createElement("span",null,s.createElement(v.c,null,"Test settings")))),s.createElement("li",null,s.createElement("a",{className:"button "+(this.isSynchronizeEnabled()?"":"disabled"),onClick:this.handleSimulateSynchronizeClick},s.createElement(G,{name:"magic-wand"}),s.createElement("span",null,s.createElement(v.c,null,"Simulate synchronize")))),s.createElement("li",null,s.createElement("a",{className:"button "+(this.isSynchronizeEnabled()?"":"disabled"),onClick:this.handleSynchronizeClick},s.createElement(G,{name:"refresh"}),s.createElement("span",null,s.createElement(v.c,null,"Synchronize")))))),this.isSubscriptionSelected()&&s.createElement("div",null,s.createElement("li",null,s.createElement("a",{className:"button",onClick:this.handleEditSubscriptionClick},s.createElement(G,{name:"edit"}),s.createElement("span",null,s.createElement(v.c,null,"Update key")))))))}}se.propTypes={administrationWorkspaceContext:i().object,dialogContext:i().any,t:i().func};const ne=g(de((0,E.Z)("common")(se)));function re(){return re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},re.apply(this,arguments)}const ie=s.createContext({selectedAdministration:null,can:{save:!1,test:!1,synchronize:!1},must:{save:!1,test:!1,synchronize:!1,editSubscriptionKey:!1,refreshSubscriptionKey:!1},administrationWorkspaceAction:ne,setDisplayAdministrationWorkspaceAction:()=>{},resetDisplayAdministrationWorkspaceAction:()=>{},onGetMfaRequested:()=>{},onSaveMfaRequested:()=>{},onGetUsersDirectoryRequested:()=>{},onUpdateUsersDirectoryRequested:()=>{},onDeleteUsersDirectoryRequested:()=>{},onTestUsersDirectoryRequested:()=>{},onGetSimulateSynchronizeUsersDirectoryRequested:()=>{},onGetSynchronizeUsersDirectoryRequested:()=>{},onGetUsersRequested:()=>{},onGetEmailNotificationsRequested:()=>{},onSaveEmailNotificationsRequested:()=>{},onUpdateSubscriptionKeyRequested:()=>{},onSaveLocaleRequested:()=>{},onSaveEnabled:()=>{},onMustSaveSettings:()=>{},onTestEnabled:()=>{},onMustTestSettings:()=>{},onSynchronizeEnabled:()=>{},onMustSynchronizeSettings:()=>{},onMustEditSubscriptionKey:()=>{},onMustRefreshSubscriptionKey:()=>{},onResetActionsSettings:()=>{}});class oe extends s.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{selectedAdministration:ue.NONE,can:{save:!1,test:!1,synchronize:!1},must:{save:!1,test:!1,synchronize:!1,editSubscriptionKey:!1,refreshSubscriptionKey:!1},administrationWorkspaceAction:ne,setDisplayAdministrationWorkspaceAction:this.setDisplayAdministrationWorkspaceAction.bind(this),resetDisplayAdministrationWorkspaceAction:this.resetDisplayAdministrationWorkspaceAction.bind(this),onGetMfaRequested:this.onGetMfaRequested.bind(this),onSaveMfaRequested:this.onSaveMfaRequested.bind(this),onGetUsersDirectoryRequested:this.onGetUsersDirectoryRequested.bind(this),onUpdateUsersDirectoryRequested:this.onUpdateUsersDirectoryRequested.bind(this),onDeleteUsersDirectoryRequested:this.onDeleteUsersDirectoryRequested.bind(this),onTestUsersDirectoryRequested:this.onTestUsersDirectoryRequested.bind(this),onGetSimulateSynchronizeUsersDirectoryRequested:this.onGetSimulateSynchronizeUsersDirectoryRequested.bind(this),onGetSynchronizeUsersDirectoryRequested:this.onGetSynchronizeUsersDirectoryRequested.bind(this),onGetUsersRequested:this.onGetUsersRequested.bind(this),onGetEmailNotificationsRequested:this.onGetEmailNotificationsRequested.bind(this),onSaveEmailNotificationsRequested:this.onSaveEmailNotificationsRequested.bind(this),onUpdateSubscriptionKeyRequested:this.onUpdateSubscriptionKeyRequested.bind(this),onSaveLocaleRequested:this.onSaveLocaleRequested.bind(this),onSaveEnabled:this.handleSaveEnabled.bind(this),onMustSaveSettings:this.handleMustSaveSettings.bind(this),onTestEnabled:this.handleTestEnabled.bind(this),onMustTestSettings:this.handleMustTestSettings.bind(this),onSynchronizeEnabled:this.handleSynchronizeEnabled.bind(this),onMustSynchronizeSettings:this.handleMustSynchronizeSettings.bind(this),onMustEditSubscriptionKey:this.handleMustEditSubscriptionKey.bind(this),onMustRefreshSubscriptionKey:this.handleMustRefreshSubscriptionKey.bind(this),onResetActionsSettings:this.handleResetActionsSettings.bind(this)}}componentDidMount(){this.handleAdministrationMenuRouteChange()}async componentDidUpdate(e){await this.handleRouteChange(e.location)}async handleSaveEnabled(){await this.setState({can:{...this.state.can,save:!0}})}async handleMustSaveSettings(){await this.setState({must:{...this.state.must,save:!0}})}async handleTestEnabled(e){await this.setState({can:{...this.state.can,test:e}})}async handleMustTestSettings(){await this.setState({must:{...this.state.must,test:!0}})}async handleSynchronizeEnabled(e){await this.setState({can:{...this.state.can,synchronize:e}})}async handleMustSynchronizeSettings(){await this.setState({must:{...this.state.must,synchronize:!0}})}async handleMustEditSubscriptionKey(){await this.setState({must:{...this.state.must,editSubscriptionKey:!0}})}async handleMustRefreshSubscriptionKey(){await this.setState({must:{...this.state.must,refreshSubscriptionKey:!0}})}async handleResetActionsSettings(){await this.setState({must:{save:!1,test:!1,synchronize:!1,editSubscriptionKey:!1,refreshSubscriptionKey:!1}})}async handleRouteChange(e){this.props.location.key!==e.key&&await this.handleAdministrationMenuRouteChange()}async handleAdministrationMenuRouteChange(){const e=this.props.location.pathname.includes("mfa"),t=this.props.location.pathname.includes("users-directory"),a=this.props.location.pathname.includes("email-notification"),s=this.props.location.pathname.includes("subscription"),n=this.props.location.pathname.includes("internationalization"),r=this.props.location.pathname.includes("account-recovery");let i;e?i=ue.MFA:t?i=ue.USER_DIRECTORY:a?i=ue.EMAIL_NOTIFICATION:s?i=ue.SUBSCRIPTION:n?i=ue.INTERNATIONALIZATION:r&&(i=ue.ACCOUNT_RECOVERY),await this.setState({selectedAdministration:i,can:{save:!1,test:!1,synchronize:!1},must:{save:!1,test:!1,synchronize:!1,editSubscriptionKey:!1,refreshSubscriptionKey:!1}})}setDisplayAdministrationWorkspaceAction(e){this.setState({administrationWorkspaceAction:e})}resetDisplayAdministrationWorkspaceAction(){this.setState({administrationWorkspaceAction:ne})}async onGetMfaRequested(){const e=this.props.context.getApiClientOptions().setResourceName("mfa/settings");return new M(e).findAll()}async onSaveMfaRequested(e){const t=this.props.context.getApiClientOptions().setResourceName("mfa/settings"),a=new M(t);await a.create(e)}async onGetUsersDirectoryRequested(){const e=this.props.context.getApiClientOptions().setResourceName("directorysync/settings");return new M(e).findAll()}async onUpdateUsersDirectoryRequested(e){const t=this.props.context.getApiClientOptions().setResourceName("directorysync");return new M(t).update("settings",e)}async onDeleteUsersDirectoryRequested(){const e=this.props.context.getApiClientOptions().setResourceName("directorysync");return new M(e).delete("settings")}async onTestUsersDirectoryRequested(e){const t=this.props.context.getApiClientOptions().setResourceName("directorysync/settings/test");return new M(t).create(e)}async onGetSimulateSynchronizeUsersDirectoryRequested(){const e=this.props.context.getApiClientOptions().setResourceName("directorysync");return new M(e).get("synchronize/dry-run")}async onGetSynchronizeUsersDirectoryRequested(){const e=this.props.context.getApiClientOptions().setResourceName("directorysync/synchronize");return new M(e).create({})}async onGetUsersRequested(){const e=this.props.context.getApiClientOptions().setResourceName("users");return new M(e).findAll()}async onGetEmailNotificationsRequested(){const e=this.props.context.getApiClientOptions().setResourceName("settings/emails/notifications");return new M(e).findAll()}async onSaveEmailNotificationsRequested(e){const t=this.props.context.getApiClientOptions().setResourceName("settings/emails/notifications"),a=new M(t);await a.create(e)}async onUpdateSubscriptionKeyRequested(e){return this.props.context.port.request("passbolt.subscription.update",e)}async onSaveLocaleRequested(e){const t=this.props.context.getApiClientOptions().setResourceName("locale/settings");return new M(t).create({value:e})}render(){return s.createElement(ie.Provider,{value:this.state},this.props.children)}}oe.displayName="AdministrationWorkspaceContextProvider",oe.propTypes={context:i().object,children:i().any,location:i().object,match:i().object,history:i().object,loadingContext:i().object};const le=(0,N.EN)(A((ce=oe,class extends s.Component{render(){return s.createElement(U.Consumer,null,(e=>s.createElement(ce,T({loadingContext:e},this.props))))}})));var ce;function de(e){return class extends s.Component{render(){return s.createElement(ie.Consumer,null,(t=>s.createElement(e,re({administrationWorkspaceContext:t},this.props))))}}}const ue={NONE:"NONE",MFA:"MFA",USER_DIRECTORY:"USER-DIRECTORY",EMAIL_NOTIFICATION:"EMAIL-NOTIFICATION",SUBSCRIPTION:"SUBSCRIPTION",INTERNATIONALIZATION:"INTERNATIONALIZATION",ACCOUNT_RECOVERY:"ACCOUNT-RECOVERY"};function he(){return he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},he.apply(this,arguments)}class pe extends s.Component{constructor(e){super(e),this.bindCallback()}bindCallback(){this.close=this.close.bind(this)}async close(e){const t=this.props.dialogContext.dialogs.find((({key:t})=>t===e));t?.DialogProps?.onClose&&t.DialogProps.onClose(),this.props.dialogContext.close(e)}render(){return s.createElement(s.Fragment,null,this.props.dialogContext.dialogs.map((({key:e,Dialog:t,DialogProps:a})=>s.createElement(t,he({key:e},a,{onClose:()=>this.close(e)})))),this.props.children)}}pe.propTypes={dialogContext:i().any,children:i().any};const me=g(pe);function ge(){return ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},ge.apply(this,arguments)}class ye extends s.Component{constructor(e){super(e),this.createRefs(),this.bindCallback()}bindCallback(){this.handleHide=this.handleHide.bind(this)}createRefs(){this.elementRef=s.createRef()}handleHide(e){this.props.contextualMenuContext.hide(e)}render(){return s.createElement("div",{ref:this.elementRef},this.props.contextualMenuContext.contextualMenus.map(((e,t)=>s.createElement(e.ContextualMenuComponent,ge({key:t,hide:()=>this.handleHide(t)},e.componentProps)))))}}ye.propTypes={contextualMenuContext:i().any};const be=function(e){return class extends s.Component{render(){return s.createElement(b.Consumer,null,(t=>s.createElement(e,y({contextualMenuContext:t},this.props))))}}}(ye);function fe(){return fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},fe.apply(this,arguments)}const ve=s.createContext({onGoToAdministrationRequested:()=>{},onGoToAdministrationMfaRequested:()=>{},onGoToAdministrationUsersDirectoryRequested:()=>{},onGoToAdministrationEmailNotificationsRequested:()=>{},onGoToAdministrationSubscriptionRequested:()=>{},onGoToAdministrationInternationalizationRequested:()=>{},onGoToAdministrationAccountRecoveryRequested:()=>{},onGoToPasswordsRequested:()=>{},onGoToUsersRequested:()=>{},onGoToUserSettingsProfileRequested:()=>{},onGoToUserSettingsPassphraseRequested:()=>{},onGoToUserSettingsSecurityTokenRequested:()=>{},onGoToUserSettingsThemeRequested:()=>{},onGoToUserSettingsMfaRequested:()=>{},onGoToUserSettingsKeysRequested:()=>{},onGoToUserSettingsMobileRequested:()=>{},onGoToUserSettingsAccountRecoveryRequested:()=>{},onGoToNewTab:()=>{}});class Ee extends s.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{onGoToNewTab:this.onGoToNewTab.bind(this),onGoToAdministrationRequested:this.onGoToAdministrationRequested.bind(this),onGoToAdministrationMfaRequested:this.onGoToAdministrationMfaRequested.bind(this),onGoToAdministrationUsersDirectoryRequested:this.onGoToAdministrationUsersDirectoryRequested.bind(this),onGoToAdministrationEmailNotificationsRequested:this.onGoToAdministrationEmailNotificationsRequested.bind(this),onGoToAdministrationSubscriptionRequested:this.onGoToAdministrationSubscriptionRequested.bind(this),onGoToAdministrationInternationalizationRequested:this.onGoToAdministrationInternationalizationRequested.bind(this),onGoToAdministrationAccountRecoveryRequested:this.onGoToAdministrationAccountRecoveryRequested.bind(this),onGoToPasswordsRequested:this.onGoToPasswordsRequested.bind(this),onGoToUsersRequested:this.onGoToUsersRequested.bind(this),onGoToUserSettingsProfileRequested:this.onGoToUserSettingsProfileRequested.bind(this),onGoToUserSettingsPassphraseRequested:this.onGoToUserSettingsPassphraseRequested.bind(this),onGoToUserSettingsSecurityTokenRequested:this.onGoToUserSettingsSecurityTokenRequested.bind(this),onGoToUserSettingsThemeRequested:this.onGoToUserSettingsThemeRequested.bind(this),onGoToUserSettingsMfaRequested:this.onGoToUserSettingsMfaRequested.bind(this),onGoToUserSettingsKeysRequested:this.onGoToUserSettingsKeysRequested.bind(this),onGoToUserSettingsMobileRequested:this.onGoToUserSettingsMobileRequested.bind(this),onGoToUserSettingsAccountRecoveryRequested:this.onGoToUserSettingsAccountRecoveryRequested.bind(this)}}async goTo(e,t){if(e===this.props.context.name)await this.props.history.push({pathname:t});else{const e=`${this.props.context.userSettings?this.props.context.userSettings.getTrustedDomain():this.props.context.trustedDomain}${t}`;window.open(e,"_parent","noopener,noreferrer")}}onGoToNewTab(e){window.open(e,"_blank","noopener,noreferrer")}async onGoToAdministrationRequested(){let e="/app/administration/email-notification";this.isMfaEnabled?e="/app/administration/mfa":this.isUserDirectoryEnabled&&(e="/app/administration/users-directory"),await this.goTo("api",e)}async onGoToAdministrationMfaRequested(){await this.goTo("api","/app/administration/mfa")}async onGoToAdministrationUsersDirectoryRequested(){await this.goTo("api","/app/administration/users-directory")}async onGoToAdministrationEmailNotificationsRequested(){await this.goTo("api","/app/administration/email-notification")}async onGoToAdministrationSubscriptionRequested(){await this.goTo("browser-extension","/app/administration/subscription")}async onGoToAdministrationInternationalizationRequested(){await this.goTo("api","/app/administration/internationalization")}async onGoToAdministrationAccountRecoveryRequested(){await this.goTo("browser-extension","/app/administration/account-recovery")}get isMfaEnabled(){const e=this.props.context.siteSettings;return e&&e.canIUse("multiFactorAuthentication")}get isUserDirectoryEnabled(){const e=this.props.context.siteSettings;return e&&e.canIUse("directorySync")}async onGoToPasswordsRequested(){await this.goTo("browser-extension","/app/passwords")}async onGoToUsersRequested(){await this.goTo("browser-extension","/app/users")}async onGoToUserSettingsProfileRequested(){await this.goTo("browser-extension","/app/settings/profile")}async onGoToUserSettingsPassphraseRequested(){await this.goTo("browser-extension","/app/settings/passphrase")}async onGoToUserSettingsSecurityTokenRequested(){await this.goTo("browser-extension","/app/settings/security-token")}async onGoToUserSettingsThemeRequested(){await this.goTo("browser-extension","/app/settings/theme")}async onGoToUserSettingsMfaRequested(){await this.goTo("api","/app/settings/mfa")}async onGoToUserSettingsKeysRequested(){await this.goTo("browser-extension","/app/settings/keys")}async onGoToUserSettingsMobileRequested(){await this.goTo("browser-extension","/app/settings/mobile")}async onGoToUserSettingsAccountRecoveryRequested(){await this.goTo("browser-extension","/app/settings/account-recovery")}render(){return s.createElement(ve.Provider,{value:this.state},this.props.children)}}Ee.displayName="NavigationContextProvider",Ee.propTypes={context:i().object,children:i().any,location:i().object,match:i().object,history:i().object};const we=(0,N.EN)(A(Ee));function ke(e){return class extends s.Component{render(){return s.createElement(ve.Consumer,null,(t=>s.createElement(e,fe({navigationContext:t},this.props))))}}}class Ce extends s.Component{isSelected(e){let t=!1;return"passwords"===e?t=/^\/app\/(passwords|folders)/.test(this.props.location.pathname):"users"===e?t=/^\/app\/(users|groups)/.test(this.props.location.pathname):"administration"===e&&(t=/^\/app\/administration/.test(this.props.location.pathname)),t}isLoggedInUserAdmin(){return this.props.context.loggedInUser&&"admin"===this.props.context.loggedInUser.role.name}get translate(){return this.props.t}render(){return s.createElement("nav",null,s.createElement("div",{className:"primary navigation top"},s.createElement("ul",null,s.createElement("li",{key:"password"},s.createElement("div",{className:"row "+(this.isSelected("passwords")?"selected":"")},s.createElement("div",{className:"main-cell-wrapper"},s.createElement("div",{className:"main-cell"},s.createElement("a",{onClick:this.props.navigationContext.onGoToPasswordsRequested,role:"button"},s.createElement("span",null,s.createElement(v.c,null,"passwords"))))))),s.createElement("li",{key:"users"},s.createElement("div",{className:"row "+(this.isSelected("users")?"selected":"")},s.createElement("div",{className:"main-cell-wrapper"},s.createElement("div",{className:"main-cell"},s.createElement("a",{onClick:this.props.navigationContext.onGoToUsersRequested,role:"button"},s.createElement("span",null,s.createElement(v.c,null,"users"))))))),this.isLoggedInUserAdmin()&&s.createElement("li",{key:"administration"},s.createElement("div",{className:"row "+(this.isSelected("administration")?"selected":"")},s.createElement("div",{className:"main-cell-wrapper"},s.createElement("div",{className:"main-cell"},s.createElement("a",{onClick:this.props.navigationContext.onGoToAdministrationRequested,role:"button"},s.createElement("span",null,s.createElement(v.c,null,"administration"))))))),s.createElement("li",{key:"help"},s.createElement("div",{className:"row"},s.createElement("div",{className:"main-cell-wrapper"},s.createElement("div",{className:"main-cell"},s.createElement("a",{href:"https://help.passbolt.com",role:"button",target:"_blank",rel:"noopener noreferrer"},s.createElement("span",null,s.createElement(v.c,null,"help"))))))),s.createElement("li",{key:"logout",className:"right"},s.createElement("div",{className:"row"},s.createElement("div",{className:"main-cell-wrapper"},s.createElement("div",{className:"main-cell"},s.createElement("a",{role:"button",onClick:this.props.context.onLogoutRequested},s.createElement("span",null,s.createElement(v.c,null,"sign out"))))))))))}}Ce.propTypes={context:i().object,navigationContext:i().any,history:i().object,location:i().object,t:i().func};const xe=A((0,N.EN)(ke((0,E.Z)("common")(Ce))));class Se extends s.Component{render(){return s.createElement("div",{className:"col1"},s.createElement("div",{className:"logo no-img"},s.createElement("h1",null,s.createElement("span",null,"Passbolt"))))}}const Ne=Se;function qe(){return qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},qe.apply(this,arguments)}const Re=s.createContext({accountRecoveryOrganizationPolicy:null,status:null,findAccountRecoveryPolicy:()=>{},getOrganizationPolicy:()=>{},getRequestor:()=>{},getRequestedDate:()=>{},getPolicy:()=>{},getUserAccountRecoverySubscriptionStatus:()=>{},isAccountRecoveryChoiceRequired:()=>{},isPolicyEnabled:()=>{}});class Ae extends s.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{accountRecoveryOrganizationPolicy:null,status:null,findAccountRecoveryPolicy:this.findAccountRecoveryPolicy.bind(this),getOrganizationPolicy:this.getOrganizationPolicy.bind(this),getRequestor:this.getRequestor.bind(this),getRequestedDate:this.getRequestedDate.bind(this),getPolicy:this.getPolicy.bind(this),getUserAccountRecoverySubscriptionStatus:this.getUserAccountRecoverySubscriptionStatus.bind(this),setUserAccountRecoveryStatus:this.setUserAccountRecoveryStatus.bind(this),isAccountRecoveryChoiceRequired:this.isAccountRecoveryChoiceRequired.bind(this),isPolicyEnabled:this.isPolicyEnabled.bind(this)}}async findAccountRecoveryPolicy(){if(!this.props.context.siteSettings.canIUse("accountRecovery"))return;if(null!==this.state.accountRecoveryOrganizationPolicy)return;const e=this.props.context.loggedInUser;if(!e)return;const t=await this.props.accountRecoveryUserService.getOrganizationAccountRecoverySettings(),a=e.account_recovery_user_setting?.status||Ae.STATUS_PENDING;this.setState({accountRecoveryOrganizationPolicy:t,status:a})}getOrganizationPolicy(){return this.state.accountRecoveryOrganizationPolicy}getRequestedDate(){return this.getOrganizationPolicy()?.modified}getRequestor(){return this.getOrganizationPolicy()?.creator}getPolicy(){return this.getOrganizationPolicy()?.policy}getUserAccountRecoverySubscriptionStatus(){return this.state.status}setUserAccountRecoveryStatus(e){this.setState({status:e})}isAccountRecoveryChoiceRequired(){if(null===this.getOrganizationPolicy())return!1;const e=this.getPolicy();return this.state.status===Ae.STATUS_PENDING&&(e===Ae.POLICY_MANDATORY||e===Ae.POLICY_OPT_OUT)}isPolicyEnabled(){const e=this.getPolicy();return e&&e!==Ae.POLICY_DISABLED}static get STATUS_PENDING(){return"pending"}static get POLICY_DISABLED(){return"disabled"}static get POLICY_MANDATORY(){return"mandatory"}static get POLICY_OPT_OUT(){return"opt-out"}static get STATUS_APPROVED(){return"approved"}render(){return s.createElement(Re.Provider,{value:this.state},this.props.children)}}Ae.propTypes={context:i().any.isRequired,children:i().any,accountRecoveryUserService:i().object.isRequired};const Ie=A(Ae);class Te extends s.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{error:!1}}bindCallbacks(){this.handleError=this.handleError.bind(this)}propsHasUrl(){return this.props.user&&this.props.user.profile&&this.props.user.profile.avatar&&this.props.user.profile.avatar.url&&this.props.user.profile.avatar.url.medium}propsUrlHasProtocol(){return this.props.user.profile.avatar.url.medium.startsWith("https://")||this.props.user.profile.avatar.url.medium.startsWith("http://")}formatUrl(e){return`${this.props.baseUrl}/${e}`}getDefaultAvatarUrl(){return`${this.props.baseUrl}/img/avatar/user.png`}getAvatarSrc(){return!this.state.error&&this.propsHasUrl()?this.propsUrlHasProtocol()?this.props.user.profile.avatar.url.medium:this.formatUrl(this.props.user.profile.avatar.url.medium):this.getDefaultAvatarUrl()}handleError(){console.error(`Could not load avatar image url: ${this.getAvatarSrc()}`),this.setState({error:!0})}getAltText(){return this.props.user&&this.props.user.first_name&&this.props.user.last_name?`Avatar of user ${this.props.user.first_name} ${this.props.user.last_name}.`:"..."}render(){return s.createElement("div",{className:`${this.props.className} ${this.props.attentionRequired?"attention-required":""}`},!this.state.error&&s.createElement("img",{src:this.getAvatarSrc(),onError:this.handleError,alt:this.getAltText()}),this.state.error&&s.createElement("img",{src:this.getDefaultAvatarUrl(),alt:this.getAltText()}),this.props.attentionRequired&&s.createElement(G,{name:"exclamation"}))}}Te.defaultProps={className:"avatar user-avatar"},Te.propTypes={baseUrl:i().string,user:i().object,attentionRequired:i().bool,className:i().string};const Ue=Te;class ze extends s.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks(),this.createRefs()}getDefaultState(){return{open:!1,loading:!0}}bindCallbacks(){this.handleDocumentClickEvent=this.handleDocumentClickEvent.bind(this),this.handleDocumentContextualMenuEvent=this.handleDocumentContextualMenuEvent.bind(this),this.handleDocumentDragStartEvent=this.handleDocumentDragStartEvent.bind(this),this.handleToggleMenuClick=this.handleToggleMenuClick.bind(this),this.handleProfileClick=this.handleProfileClick.bind(this),this.handleThemeClick=this.handleThemeClick.bind(this),this.handleLogoutClick=this.handleLogoutClick.bind(this)}componentDidMount(){document.addEventListener("click",this.handleDocumentClickEvent),document.addEventListener("contextmenu",this.handleDocumentContextualMenuEvent),document.addEventListener("dragstart",this.handleDocumentDragStartEvent)}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClickEvent),document.removeEventListener("contextmenu",this.handleDocumentContextualMenuEvent),document.removeEventListener("dragstart",this.handleDocumentDragStartEvent)}createRefs(){this.userBadgeMenuRef=s.createRef()}get canIUseThemeCapability(){return this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("accountSettings")}handleDocumentClickEvent(e){this.userBadgeMenuRef.current.contains(e.target)||this.closeUserBadgeMenu()}handleDocumentContextualMenuEvent(e){this.userBadgeMenuRef.current.contains(e.target)||this.closeUserBadgeMenu()}handleDocumentDragStartEvent(){this.closeUserBadgeMenu()}closeUserBadgeMenu(){this.setState({open:!1})}getUserFullName(){return this.props.user&&this.props.user.profile?`${this.props.user.profile.first_name} ${this.props.user.profile.last_name}`:"..."}getUserUsername(){return this.props.user&&this.props.user.username?`${this.props.user.username}`:"..."}handleToggleMenuClick(e){e.preventDefault();const t=!this.state.open;this.setState({open:t})}handleProfileClick(){this.props.navigationContext.onGoToUserSettingsProfileRequested(),this.closeUserBadgeMenu()}handleThemeClick(){this.props.navigationContext.onGoToUserSettingsThemeRequested(),this.closeUserBadgeMenu()}handleLogoutClick(){this.props.context.onLogoutRequested(),this.closeUserBadgeMenu()}get attentionRequired(){return this.props.accountRecoveryContext.isAccountRecoveryChoiceRequired()}get translate(){return this.props.t}render(){return s.createElement("div",{className:"col3 profile-wrapper"},s.createElement("div",{className:"user profile dropdown",ref:this.userBadgeMenuRef},s.createElement("div",{onClick:this.handleToggleMenuClick},s.createElement("div",{className:"center-cell-wrapper"},s.createElement("div",{className:"details center-cell"},s.createElement("span",{className:"name"},this.getUserFullName()),s.createElement("span",{className:"email"},this.getUserUsername()))),s.createElement(Ue,{user:this.props.user,className:"picture left-cell",baseUrl:this.props.baseUrl,attentionRequired:this.attentionRequired}),s.createElement("div",{className:"more right-cell"},s.createElement("a",{role:"button"},s.createElement(G,{name:"caret-down"}),s.createElement("span",null,s.createElement(v.c,null,"more"))))),this.state.open&&s.createElement("ul",{className:"dropdown-content right visible"},s.createElement("li",{key:"profile"},s.createElement("div",{className:"row"},s.createElement("a",{role:"button",tabIndex:"1",onClick:this.handleProfileClick},s.createElement("span",null,s.createElement(v.c,null,"Profile")),this.attentionRequired&&s.createElement(G,{name:"exclamation"})))),this.canIUseThemeCapability&&s.createElement("li",{key:"theme"},s.createElement("div",{className:"row"},s.createElement("a",{role:"button",tabIndex:"2",onClick:this.handleThemeClick},s.createElement("span",null,s.createElement(v.c,null,"Theme"))))),s.createElement("li",{key:"logout"},s.createElement("div",{className:"row"},s.createElement("a",{role:"button",tabIndex:"3",onClick:this.handleLogoutClick},s.createElement("span",null,s.createElement(v.c,null,"Sign out"))))))))}}ze.propTypes={context:i().object,navigationContext:i().any,accountRecoveryContext:i().object,baseUrl:i().string,user:i().object,t:i().func};const De=A(ke(function(e){return class extends s.Component{render(){return s.createElement(Re.Consumer,null,(t=>s.createElement(e,qe({accountRecoveryContext:t},this.props))))}}}((0,E.Z)("common")(ze))));class Pe extends s.Component{constructor(e){super(e),this.bindCallbacks()}get isMfaEnabled(){const e=this.props.context.siteSettings;return e&&e.canIUse("multiFactorAuthentication")}get isUserDirectoryEnabled(){const e=this.props.context.siteSettings;return e&&e.canIUse("directorySync")}get canIUseEE(){const e=this.props.context.siteSettings;return e&&e.canIUse("ee")}get canIUseLocale(){return this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("locale")}get canIUseAccountRecovery(){const e=this.props.context.siteSettings;return e&&e.canIUse("accountRecovery")}bindCallbacks(){this.handleMfaClick=this.handleMfaClick.bind(this),this.handleUserDirectoryClick=this.handleUserDirectoryClick.bind(this),this.handleEmailNotificationsClick=this.handleEmailNotificationsClick.bind(this),this.handleSubscriptionClick=this.handleSubscriptionClick.bind(this),this.handleInternationalizationClick=this.handleInternationalizationClick.bind(this),this.handleAccountRecoveryClick=this.handleAccountRecoveryClick.bind(this)}handleMfaClick(){this.props.navigationContext.onGoToAdministrationMfaRequested()}handleUserDirectoryClick(){this.props.navigationContext.onGoToAdministrationUsersDirectoryRequested()}handleEmailNotificationsClick(){this.props.navigationContext.onGoToAdministrationEmailNotificationsRequested()}handleSubscriptionClick(){this.props.navigationContext.onGoToAdministrationSubscriptionRequested()}handleInternationalizationClick(){this.props.navigationContext.onGoToAdministrationInternationalizationRequested()}handleAccountRecoveryClick(){this.props.navigationContext.onGoToAdministrationAccountRecoveryRequested()}isMfaSelected(){return ue.MFA===this.props.administrationWorkspaceContext.selectedAdministration}isUserDirectorySelected(){return ue.USER_DIRECTORY===this.props.administrationWorkspaceContext.selectedAdministration}isEmailNotificationsSelected(){return ue.EMAIL_NOTIFICATION===this.props.administrationWorkspaceContext.selectedAdministration}isSubscriptionSelected(){return ue.SUBSCRIPTION===this.props.administrationWorkspaceContext.selectedAdministration}isInternationalizationSelected(){return ue.INTERNATIONALIZATION===this.props.administrationWorkspaceContext.selectedAdministration}isAccountRecoverySelected(){return ue.ACCOUNT_RECOVERY===this.props.administrationWorkspaceContext.selectedAdministration}get translate(){return this.props.t}render(){return s.createElement("div",{className:"navigation-secondary navigation-administration"},s.createElement("ul",{id:"administration_menu",className:"clearfix menu ready"},this.isMfaEnabled&&s.createElement("li",{id:"mfa_menu"},s.createElement("div",{className:"row  "+(this.isMfaSelected()?"selected":"")},s.createElement("div",{className:"main-cell-wrapper"},s.createElement("div",{className:"main-cell"},s.createElement("a",{onClick:this.handleMfaClick},s.createElement("span",null,s.createElement(v.c,null,"Multi Factor Authentication"))))))),this.isUserDirectoryEnabled&&s.createElement("li",{id:"user_directory_menu"},s.createElement("div",{className:"row  "+(this.isUserDirectorySelected()?"selected":"")},s.createElement("div",{className:"main-cell-wrapper"},s.createElement("div",{className:"main-cell"},s.createElement("a",{onClick:this.handleUserDirectoryClick},s.createElement("span",null,s.createElement(v.c,null,"Users Directory"))))))),s.createElement("li",{id:"email_notification_menu"},s.createElement("div",{className:"row  "+(this.isEmailNotificationsSelected()?"selected":"")},s.createElement("div",{className:"main-cell-wrapper"},s.createElement("div",{className:"main-cell"},s.createElement("a",{onClick:this.handleEmailNotificationsClick},s.createElement("span",null,s.createElement(v.c,null,"Email Notifications"))))))),this.canIUseLocale&&s.createElement("li",{id:"internationalization_menu"},s.createElement("div",{className:"row  "+(this.isInternationalizationSelected()?"selected":"")},s.createElement("div",{className:"main-cell-wrapper"},s.createElement("div",{className:"main-cell"},s.createElement("a",{onClick:this.handleInternationalizationClick},s.createElement("span",null,s.createElement(v.c,null,"Internationalisation"))))))),this.canIUseEE&&s.createElement("li",{id:"subscription_menu"},s.createElement("div",{className:"row  "+(this.isSubscriptionSelected()?"selected":"")},s.createElement("div",{className:"main-cell-wrapper"},s.createElement("div",{className:"main-cell"},s.createElement("a",{onClick:this.handleSubscriptionClick},s.createElement("span",null,s.createElement(v.c,null,"Subscription"))))))),this.canIUseAccountRecovery&&s.createElement("li",{id:"account_recovery_menu"},s.createElement("div",{className:"row  "+(this.isAccountRecoverySelected()?"selected":"")},s.createElement("div",{className:"main-cell-wrapper"},s.createElement("div",{className:"main-cell"},s.createElement("a",{onClick:this.handleAccountRecoveryClick},s.createElement("span",null,s.createElement(v.c,null,"Account Recovery")))))))))}}Pe.propTypes={context:i().object,administrationWorkspaceContext:i().object,history:i().object,navigationContext:i().any,t:i().func};const _e=(0,N.EN)(A(ke(de((0,E.Z)("common")(Pe)))));var Oe=a(648),Fe=a.n(Oe);class Ke extends s.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{loading:!0,processing:!1,totpProviderToggle:!0,yubikeyToggle:!1,yubikeyClientIdentifier:"",yubikeyClientIdentifierError:null,yubikeySecretKey:"",yubikeySecretKeyError:null,duoToggle:!1,duoHostname:"",duoHostnameError:null,duoIntegrationKey:"",duoIntegrationKeyError:null,duoSalt:"",duoSaltError:null,duoSecretKey:"",duoSecretKeyError:null}}async componentDidMount(){this.findAllMfaSettings()}async componentDidUpdate(e){await this.handleMustSave(e.administrationWorkspaceContext.must.save)}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this)}async handleMustSave(e){this.props.administrationWorkspaceContext.must.save!==e&&this.props.administrationWorkspaceContext.must.save&&(await this.handleFormSubmit(),this.props.administrationWorkspaceContext.onResetActionsSettings())}async findAllMfaSettings(){const e=(await this.props.administrationWorkspaceContext.onGetMfaRequested()).body,t=e.providers,a=t.includes("totp"),s=t.includes("yubikey");let n="",r="";s&&(n=e.yubikey.clientId,r=e.yubikey.secretKey);const i=t.includes("duo");let o="",l="",c="",d="";i&&(o=e.duo.hostName,l=e.duo.integrationKey,c=e.duo.salt,d=e.duo.secretKey),this.setState({loading:!1,totpProviderToggle:a,yubikeyToggle:s,yubikeyClientIdentifier:n,yubikeySecretKey:r,duoToggle:i,duoHostname:o,duoIntegrationKey:l,duoSalt:c,duoSecretKey:d})}handleInputChange(e){const t=e.target,a="checkbox"===t.type?t.checked:t.value,s=t.name;this.setState({[s]:a}),this.handleEnabledSaveButton()}handleEnabledSaveButton(){this.props.administrationWorkspaceContext.can.save||this.props.administrationWorkspaceContext.onSaveEnabled()}hasAllInputDisabled(){return this.state.processing||this.state.loading}isOtpProviderChecked(){return this.state.totpProviderToggle}isYubikeyChecked(){return this.state.yubikeyToggle}isDuoChecked(){return this.state.duoToggle}async validate(){await Promise.all([this.validateYubikeyInput(),this.validateDuoInput()])}async validateYubikeyInput(){let e=null,t=null;if(this.isYubikeyChecked()){const a=this.state.yubikeyClientIdentifier.trim();a.length?Fe()("^[0-9]{1,64}$").test(a)||(e=this.translate("The client identifier should be an integer.")):e=this.translate("A client identifier is required.");const s=this.state.yubikeySecretKey.trim();s.length?Fe()("^[a-zA-Z0-9\\/=+]{10,128}$").test(s)||(t=this.translate("This secret key is not valid.")):t=this.translate("A secret key is required.")}return this.setState({yubikeyClientIdentifierError:e,yubikeySecretKeyError:t})}async validateDuoInput(){let e=null,t=null,a=null,s=null;if(this.isDuoChecked()){const n=this.state.duoHostname.trim();n.length?Fe()("^api-[a-fA-F0-9]{8,16}\\.duosecurity\\.com$").test(n)||(e=this.translate("This is not a valid hostname.")):e=this.translate("A hostname is required.");const r=this.state.duoIntegrationKey.trim();r.length?Fe()("^[a-zA-Z0-9]{16,32}$").test(r)||(t=this.translate("This is not a valid integration key.")):t=this.translate("An integration key is required.");const i=this.state.duoSalt.trim();i.length?Fe()("^.{40,128}$").test(i)||(a=this.translate("The salt should be between 40 and 128 characters in length.")):a=this.translate("A salt is required.");const o=this.state.duoSecretKey.trim();o.length?Fe()("^[a-zA-Z0-9]{32,128}$").test(o)||(s=this.translate("This is not a valid secret key.")):s=this.translate("A secret key is required.")}return this.setState({duoHostnameError:e,duoIntegrationKeyError:t,duoSaltError:a,duoSecretKeyError:s})}hasValidationError(){return this.hasYubikeyError()||this.hasDuoError()}hasYubikeyError(){return null!==this.state.yubikeyClientIdentifierError||null!==this.state.yubikeySecretKeyError}hasDuoError(){return null!==this.state.duoHostnameError||null!==this.state.duoIntegrationKeyError||null!==this.state.duoSaltError||null!==this.state.duoSecretKeyError}async handleFormSubmit(){if(!this.state.processing){if(await this.toggleProcessing(),await this.validate(),this.hasValidationError())return void await this.toggleProcessing();try{await this.saveMfa(),await this.handleSaveSuccess()}catch(e){await this.handleSaveError(e)}}}async saveMfa(){const e=[];this.state.totpProviderToggle&&e.push("totp");let t=null;this.state.yubikeyToggle&&(e.push("yubikey"),t={clientId:this.state.yubikeyClientIdentifier,secretKey:this.state.yubikeySecretKey});let a=null;this.state.duoToggle&&(e.push("duo"),a={hostName:this.state.duoHostname,integrationKey:this.state.duoIntegrationKey,salt:this.state.duoSalt,secretKey:this.state.duoSecretKey}),await this.props.administrationWorkspaceContext.onSaveMfaRequested({providers:e,yubikey:t,duo:a})}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.translate("The multi factor authentication settings for the organization were updated.")),this.setState({processing:!1})}async handleSaveError(e){"UserAbortsOperationError"===e.name||(console.error(e),await this.handleError(e)),this.setState({processing:!1})}async handleError(e){await this.props.actionFeedbackContext.displayError(e.message)}async toggleProcessing(){const e=this.state.processing;return this.setState({processing:!e})}get translate(){return this.props.t}render(){return s.createElement("div",{className:"row"},s.createElement("div",{className:"mfa-settings col7"},s.createElement("form",{className:"form ready"},s.createElement("div",{className:"provider-section totp"},s.createElement("h3",null,s.createElement("span",{className:"input toggle-switch form-element ready"},s.createElement("input",{id:"totp-provider-toggle-button",type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"totpProviderToggle",onChange:this.handleInputChange,checked:this.state.totpProviderToggle,disabled:this.hasAllInputDisabled()}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"totp-provider-toggle-button"})),s.createElement("label",null,s.createElement(v.c,null,"Time-based One Time Password"))),!this.isOtpProviderChecked()&&s.createElement("p",{className:"description"},s.createElement(v.c,null,"The Time-based One Time Password provider is disabled for all users.")),this.isOtpProviderChecked()&&s.createElement("p",{className:"description"},s.createElement(v.c,null,"The Time-based One Time Password provider is enabled for all users. They can setup this provider in their profile and use it as second factor authentication."))),s.createElement("div",{className:"provider-section yubikey"},s.createElement("h3",null,s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("input",{id:"yubikey-provider-toggle-button",type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"yubikeyToggle",onChange:this.handleInputChange,checked:this.state.yubikeyToggle,disabled:this.hasAllInputDisabled()}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"yubikey-provider-toggle-button"})),s.createElement("label",null,"Yubikey")),!this.isYubikeyChecked()&&s.createElement("p",{className:"description"},s.createElement(v.c,null,"The Yubikey provider is disabled for all users.")),this.isYubikeyChecked()&&s.createElement("div",null,s.createElement("p",{className:"description"},s.createElement(v.c,null,"The Yubikey provider is enabled for all users. They can setup this provider in their profile and use it as second factor authentication.")),s.createElement("div",{className:"form-content"},s.createElement("div",{className:"input text required "+(this.state.yubikeyClientIdentifierError?"error":"")},s.createElement("label",null,s.createElement(v.c,null,"Client identifier")),s.createElement("input",{id:"yubikeyClientIdentifier",type:"text",name:"yubikeyClientIdentifier",required:"required",className:"required fluid form-element ready",placeholder:"123456789",onChange:this.handleInputChange,value:this.state.yubikeyClientIdentifier,disabled:this.hasAllInputDisabled()}),this.state.yubikeyClientIdentifierError&&s.createElement("div",{className:"yubikey_client_identifier error-message"},this.state.yubikeyClientIdentifierError)),s.createElement("div",{className:"input text required "+(this.state.yubikeySecretKeyError?"error":"")},s.createElement("label",null,s.createElement(v.c,null,"Secret key")),s.createElement("input",{id:"yubikeySecretKey",name:"yubikeySecretKey",required:"required",className:"required fluid form-element",placeholder:"**********",type:"password",onChange:this.handleInputChange,value:this.state.yubikeySecretKey,disabled:this.hasAllInputDisabled()}),this.state.yubikeySecretKeyError&&s.createElement("div",{className:"yubikey_secret_key error-message"},this.state.yubikeySecretKeyError))))),s.createElement("div",{className:"provider-section duo"},s.createElement("h3",null,s.createElement("span",{className:"input toggle-switch form-element ready"},s.createElement("input",{id:"duo-provider-toggle-button",type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"duoToggle",onChange:this.handleInputChange,checked:this.state.duoToggle,disabled:this.hasAllInputDisabled()}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"duo-provider-toggle-button"})),s.createElement("label",null,"Duo")),!this.isDuoChecked()&&s.createElement("p",{className:"description"},s.createElement(v.c,null,"The Duo provider is disabled for all users.")),this.isDuoChecked()&&s.createElement("div",null,s.createElement("p",{className:"description enabled"},s.createElement(v.c,null,"The Duo provider is enabled for all users. They can setup this provider in their profile and use it as second factor authentication.")),s.createElement("div",{className:"form-content"},s.createElement("div",{className:"input text required "+(this.state.duoHostnameError?"error":"")},s.createElement("label",null,s.createElement(v.c,null,"Hostname")),s.createElement("input",{id:"duoHostname",type:"text",name:"duoHostname",required:"required",className:"required fluid form-element ready",placeholder:"api-24zlkn4.duosecurity.com",value:this.state.duoHostname,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled()}),this.state.duoHostnameError&&s.createElement("div",{className:"duo_hostname error-message"},this.state.duoHostnameError)),s.createElement("div",{className:"input text required "+(this.state.duoIntegrationKeyError?"error":"")},s.createElement("label",null,s.createElement(v.c,null,"Integration key")),s.createElement("input",{id:"duoIntegrationKey",type:"text",name:"duoIntegrationKey",required:"required",className:"required fluid form-element ready",placeholder:"HASJKDSQJO213123KQSLDF",value:this.state.duoIntegrationKey,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled()}),this.state.duoIntegrationKeyError&&s.createElement("div",{className:"duo_integration_key error-message"},this.state.duoIntegrationKeyError)),s.createElement("div",{className:"input text required "+(this.state.duoSaltError?"error":"")},s.createElement("label",null,s.createElement(v.c,null,"Salt")),s.createElement("input",{id:"duoSalt",name:"duoSalt",required:"required",className:"required fluid form-element ready",placeholder:"**********",type:"password",value:this.state.duoSalt,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled()}),this.state.duoSaltError&&s.createElement("div",{className:"duo_salt error-message"},this.state.duoSaltError)),s.createElement("div",{className:"input text required "+(this.state.duoSecretKeyError?"error":"")},s.createElement("label",null,s.createElement(v.c,null,"Secret key")),s.createElement("input",{id:"duoSecretKey",name:"duoSecretKey",required:"required",className:"required fluid form-element ready",placeholder:"**********",type:"password",value:this.state.duoSecretKey,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled()}),this.state.duoSecretKeyError&&s.createElement("div",{className:"duo_secret_key error-message"},this.state.duoSecretKeyError))))))),s.createElement("div",{className:"col4 last"},s.createElement("div",{className:"sidebar-help"},s.createElement("h3",null,s.createElement(v.c,null,"Need help?")),s.createElement("p",null,s.createElement(v.c,null,"Check out our Multi Factor Authentication configuration guide.")),s.createElement("a",{className:"button",href:"https://help.passbolt.com/configure",target:"_blank",rel:"noopener noreferrer"},s.createElement(G,{name:"life-ring"}),s.createElement("span",null,s.createElement(v.c,null,"Read the documentation"))))))}}Ke.propTypes={administrationWorkspaceContext:i().object,actionFeedbackContext:i().any,t:i().func};const Me=u(de((0,E.Z)("common")(Ke)));class je extends s.Component{render(){let e=0;return s.createElement("div",{className:"breadcrumbs"},s.createElement("ul",{className:"menu"},this.props.items&&this.props.items.map((t=>(e++,s.createElement("li",{className:"ellipsis",key:e},t))))))}}je.propTypes={items:i().array};const Ge=je;class Le extends s.Component{render(){return s.createElement("a",{onClick:this.props.onClick},this.props.name)}}Le.propTypes={name:i().string,onClick:i().func};const We=Le;class Be extends s.Component{get items(){return this.props.administrationWorkspaceContext.selectedAdministration===ue.NONE?[]:[s.createElement(We,{key:"bread-1",name:this.translate("Administration"),onClick:this.props.navigationContext.onGoToAdministrationRequested}),s.createElement(We,{key:"bread-2",name:this.getLastBreadcrumbItemName(),onClick:this.onLastBreadcrumbClick.bind(this)}),s.createElement(We,{key:"bread-3",name:this.translate("Settings"),onClick:this.onLastBreadcrumbClick.bind(this)})]}getLastBreadcrumbItemName(){switch(this.props.administrationWorkspaceContext.selectedAdministration){case ue.MFA:return this.translate("Multi factor authentication");case ue.USER_DIRECTORY:return this.translate("Users Directory");case ue.EMAIL_NOTIFICATION:return this.translate("Email Notification");case ue.SUBSCRIPTION:return this.translate("Subscription");case ue.INTERNATIONALIZATION:return this.translate("Internationalisation");case ue.ACCOUNT_RECOVERY:return this.translate("Account Recovery");default:return""}}async onLastBreadcrumbClick(){const e=this.props.location.pathname;this.props.history.push({pathname:e})}get translate(){return this.props.t}render(){return s.createElement(Ge,{items:this.items})}}Be.propTypes={administrationWorkspaceContext:i().object,location:i().object,history:i().object,navigationContext:i().any,t:i().func};const $e=(0,N.EN)(ke(de((0,E.Z)("common")(Be))));class Ve extends s.Component{hasChildren(){return this.props.node.group.groups.length>0}displayUserName(e){return`${e.profile.first_name} ${e.profile.last_name}`}get node(){return this.props.node}render(){return s.createElement("ul",{key:this.node.id},"group"===this.node.type&&s.createElement("li",{className:"group"},this.node.group.name,s.createElement("ul",null,Object.values(this.node.group.users).map((e=>s.createElement("li",{className:"user",key:e.id},e.errors&&s.createElement("span",{className:"error"},e.directory_name),!e.errors&&s.createElement("span",null,this.displayUserName(e.user)," ",s.createElement("em",null,"(",e.user.username,")"))))),Object.values(this.node.group.groups).map((e=>s.createElement(Ve,{key:`tree-${e.id}`,node:e}))))),"user"===this.node.type&&s.createElement("li",{className:"user"},this.node.errors&&s.createElement("span",{className:"error"},this.node.directory_name),!this.node.errors&&s.createElement("span",null,this.displayUserName(this.node.user)," ",s.createElement("em",null,"(",this.node.user.username,")"))))}}Ve.propTypes={node:i().object};const He=Ve;class Ze extends s.Component{constructor(e){super(e),this.state=this.defaultState,this.bindEventHandlers()}get defaultState(){return{loading:!0,openListGroupsUsers:!1,openStructureGroupsUsers:!1,openErrors:!1}}bindEventHandlers(){this.handleListGroupsUsersClicked=this.handleListGroupsUsersClicked.bind(this),this.handleStructureGroupsUsersClicked=this.handleStructureGroupsUsersClicked.bind(this),this.handleErrorsClicked=this.handleErrorsClicked.bind(this),this.handleClose=this.handleClose.bind(this)}componentDidMount(){this.setState({loading:!1})}handleListGroupsUsersClicked(){this.setState({openListGroupsUsers:!this.state.openListGroupsUsers})}handleStructureGroupsUsersClicked(){this.setState({openStructureGroupsUsers:!this.state.openStructureGroupsUsers})}handleErrorsClicked(){this.setState({openErrors:!this.state.openErrors})}handleClose(){this.props.onClose(),this.props.context.setContext({displayTestUserDirectoryDialogProps:null})}hasAllInputDisabled(){return this.state.loading}displayUserName(e){return`${e.profile.first_name} ${e.profile.last_name}`}get users(){return this.props.context.displayTestUserDirectoryDialogProps.userDirectoryTestResult.users}get groups(){return this.props.context.displayTestUserDirectoryDialogProps.userDirectoryTestResult.groups}get tree(){return this.props.context.displayTestUserDirectoryDialogProps.userDirectoryTestResult.tree}get errors(){return this.props.context.displayTestUserDirectoryDialogProps.userDirectoryTestResult.errors}get translate(){return this.props.t}render(){return s.createElement(H,{className:"ldap-test-settings-dialog",title:"Test settings report",onClose:this.handleClose,disabled:this.hasAllInputDisabled()},s.createElement("div",{className:"form-content"},s.createElement("p",null,s.createElement("strong",null,s.createElement(v.c,null,"A connection could be established. Well done!"))),s.createElement("p",null),s.createElement("div",{className:"ldap-test-settings-report"},s.createElement("p",null,this.translate("{{users}} and {{groups}} have been found.",{users:this.translate("{{count}} user",{count:this.users.length}),groups:this.translate("{{count}} group",{count:this.groups.length})})),s.createElement("div",{className:"accordion directory-list "+(this.state.openListGroupsUsers?"":"closed")},s.createElement("div",{className:"accordion-header",onClick:this.handleListGroupsUsersClicked},this.state.openListGroupsUsers&&s.createElement(G,{name:"caret-down",baseline:!0}),!this.state.openListGroupsUsers&&s.createElement(G,{name:"caret-right",baseline:!0}),s.createElement("a",{role:"link"},s.createElement(v.c,null,"See list"))),s.createElement("div",{className:"accordion-content"},s.createElement("table",null,s.createElement("tbody",null,s.createElement("tr",null,s.createElement("td",null,s.createElement(v.c,null,"Groups")),s.createElement("td",null,s.createElement(v.c,null,"Users"))),s.createElement("tr",null,s.createElement("td",null,this.groups.map((e=>e.errors&&s.createElement("div",{key:e.id},s.createElement("span",{className:"error"},e.directory_name))||s.createElement("div",{key:e.id},e.group.name)))),s.createElement("td",null,this.users.map((e=>e.errors&&s.createElement("div",{key:e.id},s.createElement("span",{className:"error"},e.directory_name))||s.createElement("div",{key:e.id},this.displayUserName(e.user)," ",s.createElement("em",null,"(",e.user.username,")")))))))))),s.createElement("div",{className:"accordion accordion-directory-structure "+(this.state.openStructureGroupsUsers?"":"closed")},s.createElement("div",{className:"accordion-header",onClick:this.handleStructureGroupsUsersClicked},this.state.openStructureGroupsUsers&&s.createElement(G,{name:"caret-down",baseline:!0}),!this.state.openStructureGroupsUsers&&s.createElement(G,{name:"caret-right",baseline:!0}),s.createElement("a",{role:"link"},s.createElement(v.c,null,"See structure"))),s.createElement("div",{className:"accordion-content"},s.createElement("div",{className:"directory-structure"},s.createElement("ul",null,s.createElement("li",{className:"group"},"Root",Object.values(this.tree).map((e=>s.createElement(He,{key:`tree-${e.id}`,node:e})))))))),this.errors.length>0&&s.createElement("div",null,s.createElement("p",{className:"directory-errors error"},this.translate("{{count}} entry had errors and will be ignored during synchronization.",{count:this.errors.length})),s.createElement("div",{className:"accordion accordion-directory-errors "+(this.state.openErrors?"":"closed")},s.createElement("div",{className:"accordion-header",onClick:this.handleErrorsClicked},this.state.openErrors&&s.createElement(G,{name:"caret-down",baseline:!0}),!this.state.openErrors&&s.createElement(G,{name:"caret-right",baseline:!0}),s.createElement("a",{role:"link"},s.createElement(v.c,null,"See error details"))),s.createElement("div",{className:"accordion-content"},s.createElement("div",{className:"directory-errors"},s.createElement("textarea",{value:JSON.stringify(this.errors,null," "),readOnly:!0}))))))),s.createElement("div",{className:"submit-wrapper clearfix"},s.createElement("a",{className:"button primary "+(this.hasAllInputDisabled()?"disabled":""),role:"button",onClick:this.handleClose},s.createElement(v.c,null,"OK"))))}}Ze.propTypes={context:i().any,onClose:i().func,t:i().func};const Ye=A((0,E.Z)("common")(Ze));class Je extends s.Component{constructor(e){super(e),this.state=this.defaultState,this.createRefs(),this.bindCallbacks()}get defaultState(){return{loading:!0,processing:!1,openCredentials:!0,openDirectoryConfiguration:!1,openSynchronizationOptions:!1,openConnectionType:!1,openDefaultAdmin:!1,openDefaultGroupAdmin:!1,userDirectoryToggle:!1,directoryType:"ad",connectionType:"plain",host:"",hostError:null,port:"389",portError:null,username:"",password:"",domain:"",domainError:null,baseDn:"",groupPath:"",userPath:"",groupObjectClass:"",userObjectClass:"",useEmailPrefix:!1,emailPrefix:"",emailSuffix:"",defaultAdmin:"",defaultGroupAdmin:"",groupsParentGroup:"",usersParentGroup:"",enabledUsersOnly:!1,createUsers:!0,deleteUsers:!0,createGroups:!0,deleteGroups:!0,updateGroups:!0,defaultAdminSearch:"",defaultGroupAdminSearch:"",users:null,hasAlreadyBeenValidated:!1}}async componentDidMount(){document.addEventListener("click",this.handleUserDirectoryClickEvent),this.findAllUserDirectorySettings()}componentWillUnmount(){document.removeEventListener("click",this.handleUserDirectoryClickEvent)}async componentDidUpdate(e,t){await this.handleEnabledTestButton(t.userDirectoryToggle),await this.handleMustSubmit(e.administrationWorkspaceContext)}bindCallbacks(){this.handleUserDirectoryClickEvent=this.handleUserDirectoryClickEvent.bind(this),this.handleCredentialTitleClicked=this.handleCredentialTitleClicked.bind(this),this.handleDirectoryConfigurationTitleClicked=this.handleDirectoryConfigurationTitleClicked.bind(this),this.handleSynchronizationOptionsTitleClicked=this.handleSynchronizationOptionsTitleClicked.bind(this),this.handleConnectionTypeClicked=this.handleConnectionTypeClicked.bind(this),this.handleDefaultAdminClicked=this.handleDefaultAdminClicked.bind(this),this.handleDefaultGroupAdminClicked=this.handleDefaultGroupAdminClicked.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleHostInputKeyUp=this.handleHostInputKeyUp.bind(this),this.handlePortInputKeyUp=this.handlePortInputKeyUp.bind(this),this.handleDomainInputKeyUp=this.handleDomainInputKeyUp.bind(this),this.stopPropagation=this.stopPropagation.bind(this),this.handleConnectionTypeChange=this.handleConnectionTypeChange.bind(this),this.handleUserToBeDefaultAdminClick=this.handleUserToBeDefaultAdminClick.bind(this),this.handleUserToBeDefaultGroupAdminClick=this.handleUserToBeDefaultGroupAdminClick.bind(this)}createRefs(){this.connectionTypeRef=s.createRef(),this.defaultAdminRef=s.createRef(),this.defaultGroupAdminRef=s.createRef()}handleEnabledTestButton(e){this.state.userDirectoryToggle!==e&&this.props.administrationWorkspaceContext.onTestEnabled(this.state.userDirectoryToggle)}handleUserDirectoryClickEvent(e){null===this.defaultAdminRef.current||this.defaultAdminRef.current.contains(e.target)||this.setState({openDefaultAdmin:!1}),null===this.defaultGroupAdminRef.current||this.defaultGroupAdminRef.current.contains(e.target)||this.setState({openDefaultGroupAdmin:!1}),null===this.connectionTypeRef.current||this.connectionTypeRef.current.contains(e.target)||this.setState({openConnectionType:!1})}stopPropagation(e){e.stopPropagation()}async handleMustSubmit(e){const t=this.props.administrationWorkspaceContext.must.save!==e.must.save,a=this.props.administrationWorkspaceContext.must.test!==e.must.test;(t&&this.props.administrationWorkspaceContext.must.save||a&&this.props.administrationWorkspaceContext.must.test)&&(await this.handleFormSubmit(),this.props.administrationWorkspaceContext.onResetActionsSettings())}async findAllUserDirectorySettings(){const e=(await this.props.administrationWorkspaceContext.onGetUsersDirectoryRequested()).body,t=await this.props.administrationWorkspaceContext.onGetUsersRequested(),a=this.sortUsers(t.body);let s="",n="";if(0!==e.length){const t=!0,r=e.directory_type,i=e.connection_type,o=e.domain_name,l=e.username,c=e.password,d=e.base_dn,u=e.server,h=e.port.toString();s=e.default_user,n=e.default_group_admin_user;const p=e.sync_users_create,m=e.sync_users_delete,g=e.sync_groups_create,y=e.sync_groups_delete,b=e.sync_groups_update,f=!0===e.enabled_users_only,v=e.group_path,E=e.user_path,w=e.group_object_class,k=e.user_object_class,C=e.use_email_prefix_suffix,x=e.email_prefix,S=e.email_suffix,N=e.groups_parent_group,q=e.users_parent_group;this.setState({loading:!1,users:a,userDirectoryToggle:t,directoryType:r,connectionType:i,domain:o,username:l,password:c,baseDn:d,host:u,port:h,defaultAdmin:s,defaultGroupAdmin:n,enabledUsersOnly:f,groupPath:v,userPath:E,groupObjectClass:w,userObjectClass:k,useEmailPrefix:C,emailPrefix:x,emailSuffix:S,groupsParentGroup:N,usersParentGroup:q,createUsers:p,deleteUsers:m,createGroups:g,deleteGroups:y,updateGroups:b}),this.props.administrationWorkspaceContext.onTestEnabled(t),this.props.administrationWorkspaceContext.onSynchronizeEnabled(t)}else{const e=a.find((e=>this.props.context.loggedInUser.id===e.id));s=e.id,n=e.id,this.setState({loading:!1,users:a,defaultAdmin:s,defaultGroupAdmin:n})}}sortUsers(e){const t=e=>`${e.profile.first_name} ${e.profile.last_name}`;return e.sort(((e,a)=>t(e).localeCompare(t(a))))}handleCredentialTitleClicked(){this.setState({openCredentials:!this.state.openCredentials})}handleDirectoryConfigurationTitleClicked(){this.setState({openDirectoryConfiguration:!this.state.openDirectoryConfiguration})}handleSynchronizationOptionsTitleClicked(){this.setState({openSynchronizationOptions:!this.state.openSynchronizationOptions})}handleConnectionTypeClicked(){this.hasAllInputDisabled()||this.setState({openConnectionType:!this.state.openConnectionType})}handleDefaultAdminClicked(){this.hasAllInputDisabled()||this.setState({openDefaultAdmin:!this.state.openDefaultAdmin,defaultAdminSearch:""})}handleDefaultGroupAdminClicked(){this.hasAllInputDisabled()||this.setState({openDefaultGroupAdmin:!this.state.openDefaultGroupAdmin,defaultGroupAdminSearch:""})}handleHostInputKeyUp(){if(this.state.hasAlreadyBeenValidated){const e=this.validateHostInput();this.setState(e)}}handlePortInputKeyUp(){if(this.state.hasAlreadyBeenValidated){const e=this.validatePortInput();this.setState(e)}}handleDomainInputKeyUp(){if(this.state.hasAlreadyBeenValidated){const e=this.validateDomainInput();this.setState(e)}}handleInputChange(e){const t=e.target,a="checkbox"===t.type?t.checked:t.value,s=t.name;this.setState({[s]:a}),this.handleEnabledSaveButton()}handleUserToBeDefaultAdminClick(e){const t=e.target.dataset.id;this.setState({defaultAdmin:t}),this.handleEnabledSaveButton()}handleUserToBeDefaultGroupAdminClick(e){const t=e.target.dataset.id;this.setState({defaultGroupAdmin:t}),this.handleEnabledSaveButton()}handleConnectionTypeChange(e){const t=e.target.dataset.id;this.setState({connectionType:t}),this.handleEnabledSaveButton()}handleEnabledSaveButton(){this.props.administrationWorkspaceContext.can.save||this.props.administrationWorkspaceContext.onSaveEnabled()}hasAllInputDisabled(){return this.state.processing||this.state.loading}isUserDirectoryChecked(){return this.state.userDirectoryToggle}isActiveDirectoryChecked(){return"ad"===this.state.directoryType}isOpenLdapChecked(){return"openldap"===this.state.directoryType}isUseEmailPrefixChecked(){return this.state.useEmailPrefix}async validate(){await Promise.all([this.validateHostInput(),this.validatePortInput(),this.validateDomainInput()])}async validateHostInput(){let e=null;return this.state.host.trim().length||(e=this.translate("A host is required.")),this.setState({hostError:e})}async validatePortInput(){let e=null;const t=this.state.port.trim();return t.length?Fe()("^[0-9]+").test(t)||(e=this.translate("Only numeric characters allowed.")):e=this.translate("A port is required."),this.setState({portError:e})}async validateDomainInput(){let e=null;return this.state.domain.trim().length||(e=this.translate("A domain name is required.")),this.setState({domainError:e})}hasValidationError(){return null!==this.state.hostError||null!==this.state.portError||null!==this.state.domainError}async handleFormSubmit(){if(await this.setState({hasAlreadyBeenValidated:!0}),!this.state.processing){if(await this.toggleProcessing(),await this.validate(),this.hasValidationError())return void await this.toggleProcessing();try{this.props.administrationWorkspaceContext.must.save?(await this.saveUserDirectory(),await this.handleSaveSuccess()):this.props.administrationWorkspaceContext.must.test&&await this.testUserDirectory(),this.setState({processing:!1})}catch(e){await this.handleSaveError(e)}}}createUserDirectoryDTO(){const e=this.state.directoryType,t=this.state.domain,a=this.state.connectionType,s=this.state.host,n=parseInt(this.state.port),r=this.state.username,i=this.state.password,o=this.state.baseDn,l=this.state.groupPath,c=this.state.userPath,d=this.state.defaultAdmin,u=this.state.defaultGroupAdmin,h=this.state.groupsParentGroup,p=this.state.usersParentGroup,m=this.state.enabledUsersOnly,g=this.state.createUsers,y=this.state.deleteUsers,b=this.state.createGroups,f=this.state.deleteGroups,v=this.state.updateGroups,E=this.state.userDirectoryToggle;let w="",k="",C=!1,x="",S="";return"openldap"==e&&(w=this.state.groupObjectClass,k=this.state.userObjectClass,C=this.state.useEmailPrefix,C&&(x=this.state.emailPrefix,S=this.state.emailSuffix)),{directory_type:e,domain_name:t,connection_type:a,server:s,port:n,username:r,password:i,base_dn:o,group_path:l,user_path:c,group_object_class:w,user_object_class:k,default_user:d,default_group_admin_user:u,groups_parent_group:h,users_parent_group:p,enabled_users_only:m,sync_users_create:g,sync_users_delete:y,sync_groups_create:b,sync_groups_delete:f,sync_groups_update:v,enabled:E,use_email_prefix_suffix:C,email_prefix:x,email_suffix:S}}async saveUserDirectory(){this.state.userDirectoryToggle?(await this.props.administrationWorkspaceContext.onUpdateUsersDirectoryRequested(this.createUserDirectoryDTO()),this.props.administrationWorkspaceContext.onSynchronizeEnabled(!0)):(this.setState(this.defaultState),await this.props.administrationWorkspaceContext.onDeleteUsersDirectoryRequested(),this.props.administrationWorkspaceContext.onSynchronizeEnabled(!1),this.setState({loading:!1}))}async testUserDirectory(){const e={userDirectoryTestResult:(await this.props.administrationWorkspaceContext.onTestUsersDirectoryRequested(this.createUserDirectoryDTO())).body};this.props.context.setContext({displayTestUserDirectoryDialogProps:e}),this.props.dialogContext.open(Ye)}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.translate("The user directory settings for the organization were updated."))}async handleSaveError(e){"UserAbortsOperationError"===e.name||(console.error(e),await this.handleError(e)),this.setState({processing:!1})}async handleError(e){await this.props.actionFeedbackContext.displayError(e.message)}async toggleProcessing(){const e=this.state.processing;return this.setState({processing:!e})}getUsersAllowedToBeDefaultAdmin(){if(null!==this.state.users){const e=this.state.users.filter((e=>!0===e.active&&"admin"===e.role.name));return""!==this.state.defaultAdminSearch?this.getUsersMatch(e,this.state.defaultAdminSearch.toLowerCase()):e}return[]}getUsersAllowedToBeDefaultGroupAdmin(){if(null!==this.state.users){const e=this.state.users.filter((e=>!0===e.active));return""!==this.state.defaultGroupAdminSearch?this.getUsersMatch(e,this.state.defaultGroupAdminSearch.toLowerCase()):e}return[]}getUsersMatch(e,t){const a=t&&t.split(/\s+/)||[""],s=(e,t)=>(e=>new RegExp((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(e),"i"))(e).test(t);return e.filter((e=>a.every((t=>((e,t)=>((e,t)=>s(e,t.username))(e,t)||((e,t)=>s(e,t.profile.first_name)||s(e,t.profile.last_name))(e,t))(t,e)))))}displayUser(e){return`${e.profile.first_name} ${e.profile.last_name} (${e.username})`}displayDefaultAdmin(){if(null!==this.state.users&&""!==this.state.defaultAdmin){const e=this.state.users.find((e=>e.id===this.state.defaultAdmin));return this.displayUser(e)}return""}get connectionType(){return{plain:"ldap://",ssl:"ldaps:// (ssl)",tls:"ldaps:// (tls)"}}displayDefaultGroupAdmin(){if(null!==this.state.users&&""!==this.state.defaultGroupAdmin){const e=this.state.users.find((e=>e.id===this.state.defaultGroupAdmin));return this.displayUser(e)}return""}get translate(){return this.props.t}render(){const e=this.getUsersAllowedToBeDefaultAdmin(),t=this.getUsersAllowedToBeDefaultGroupAdmin();return s.createElement("div",{className:"row"},s.createElement("div",{className:"ldap-settings col7"},s.createElement("form",{className:"form"},s.createElement("h3",null,s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"userDirectoryToggle",onChange:this.handleInputChange,checked:this.state.userDirectoryToggle,disabled:this.hasAllInputDisabled(),id:"userDirectoryToggle"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"userDirectoryToggle"})),s.createElement("label",null,s.createElement(v.c,null,"Users Directory"))),!this.isUserDirectoryChecked()&&s.createElement("p",{className:"description"},s.createElement(v.c,null,"No Users Directory is configured. Enable it to synchronise your users and groups with passbolt.")),this.isUserDirectoryChecked()&&s.createElement("div",null,s.createElement("p",{className:"description"},s.createElement(v.c,null,"A Users Directory is configured. The users and groups of passbolt will synchronize with it.")),s.createElement("div",{className:"form-content"},s.createElement("div",{className:"accordion section-general "+(this.state.openCredentials?"":"closed")},s.createElement("h3",{className:"accordion-header"},s.createElement("a",{onClick:this.handleCredentialTitleClicked},this.state.openCredentials&&s.createElement(G,{name:"caret-down",baseline:!0}),!this.state.openCredentials&&s.createElement(G,{name:"caret-right",baseline:!0}),s.createElement(v.c,null,"Credentials"))),s.createElement("div",{className:"accordion-content"},s.createElement("div",{className:"radiolist required"},s.createElement("label",null,s.createElement(v.c,null,"Directory type")),s.createElement("div",{className:"input radio ad openldap form-element "},s.createElement("div",{className:"input radio"},s.createElement("input",{type:"radio",value:"ad",onChange:this.handleInputChange,name:"directoryType",checked:"ad"===this.state.directoryType,id:"directoryTypeAd",disabled:this.hasAllInputDisabled()}),s.createElement("label",{htmlFor:"directoryTypeAd"},s.createElement(v.c,null,"Active Directory"))),s.createElement("div",{className:"input radio"},s.createElement("input",{type:"radio",value:"openldap",onChange:this.handleInputChange,name:"directoryType",checked:"openldap"===this.state.directoryType,id:"directoryTypeOpenLdap",disabled:this.hasAllInputDisabled()}),s.createElement("label",{htmlFor:"directoryTypeOpenLdap"},s.createElement(v.c,null,"Open Ldap"))))),s.createElement("div",{className:"clearfix required ad openldap"},s.createElement("label",null,s.createElement(v.c,null,"Server url")),s.createElement("div",{className:"input text singleline connection_info ad openldap"},s.createElement("div",{onClick:this.handleConnectionTypeClicked,ref:this.connectionTypeRef,className:`protocol chosen-container chosen-container-single connection-type ${this.hasAllInputDisabled()?"chosen-disabled":"chosen-container-active"} ${this.state.openConnectionType?"chosen-with-drop":""}`},s.createElement("a",{className:"chosen-single"},s.createElement("span",{id:"connection-type-input"},this.connectionType[this.state.connectionType]),s.createElement("div",null,!this.state.openDefaultGroupAdmin&&s.createElement(G,{name:"caret-down",baseline:!0}),this.state.openDefaultGroupAdmin&&s.createElement(G,{name:"caret-up",baseline:!0}))),s.createElement("div",{className:"chosen-drop"},s.createElement("ul",{className:"chosen-results"},s.createElement("li",{className:"active-result",onClick:this.handleConnectionTypeChange,"data-id":"plain"},"ldap://"),s.createElement("li",{className:"active-result",onClick:this.handleConnectionTypeChange,"data-id":"ssl"},"ldaps:// (ssl)"),s.createElement("li",{className:"active-result",onClick:this.handleConnectionTypeChange,"data-id":"tls"},"ldaps:// (tls)")))),s.createElement("div",{className:"input text host ad openldap"},s.createElement("input",{id:"server-input",type:"text",className:"required fluid form-element",name:"host",value:this.state.host,onChange:this.handleInputChange,onKeyUp:this.handleHostInputKeyUp,placeholder:this.translate("host"),disabled:this.hasAllInputDisabled()}),this.state.hostError&&s.createElement("div",{id:"server-input-feedback",className:"error-message"},this.state.hostError)),s.createElement("div",{className:"input text port ad openldap"},s.createElement("input",{id:"port-input",type:"number",className:"required fluid form-element",name:"port",value:this.state.port,onChange:this.handleInputChange,onKeyUp:this.handlePortInputKeyUp,placeholder:this.translate("port"),disabled:this.hasAllInputDisabled()}),this.state.portError&&s.createElement("div",{id:"port-input-feedback",className:"error-message"},this.state.portError)))),s.createElement("div",{className:"singleline clearfix"},s.createElement("div",{className:"input text first-field ad openldap"},s.createElement("label",null,s.createElement(v.c,null,"Username")),s.createElement("input",{id:"username-input",type:"text",className:"fluid form-element",name:"username",value:this.state.username,onChange:this.handleInputChange,placeholder:this.translate("username"),disabled:this.hasAllInputDisabled()})),s.createElement("div",{className:"input text last-field ad openldap"},s.createElement("label",null,s.createElement(v.c,null,"Password")),s.createElement("input",{id:"password-input",className:"fluid form-element",name:"password",value:this.state.password,onChange:this.handleInputChange,placeholder:this.translate("password"),type:"password",disabled:this.hasAllInputDisabled()}))),s.createElement("div",{className:"input text required ad openldap"},s.createElement("label",null,s.createElement(v.c,null,"Domain")),s.createElement("input",{id:"domain-name-input",type:"text",name:"domain",value:this.state.domain,onChange:this.handleInputChange,className:"required fluid form-element",onKeyUp:this.handleDomainInputKeyUp,placeholder:"domain.ext",disabled:this.hasAllInputDisabled()}),this.state.domainError&&s.createElement("div",{id:"domain-name-input-feedback",className:"error-message"},this.state.domainError)),s.createElement("div",{className:"input text ad openldap"},s.createElement("label",null,s.createElement(v.c,null,"Base DN")),s.createElement("input",{id:"base-dn-input",type:"text",name:"baseDn",value:this.state.baseDn,onChange:this.handleInputChange,className:"fluid form-element",placeholder:"OU=OrgUsers,DC=mydomain,DC=local",disabled:this.hasAllInputDisabled()}),s.createElement("div",{className:"help-message"},s.createElement(v.c,null,"The base DN (default naming context) for the domain.")," ",s.createElement(v.c,null,"If this is empty then it will be queried from the RootDSE."))))),s.createElement("div",{className:"accordion section-directory-configuration "+(this.state.openDirectoryConfiguration?"":"closed")},s.createElement("h3",{className:"accordion-header"},s.createElement("a",{onClick:this.handleDirectoryConfigurationTitleClicked},this.state.openDirectoryConfiguration&&s.createElement(G,{name:"caret-down",baseline:!0}),!this.state.openDirectoryConfiguration&&s.createElement(G,{name:"caret-right",baseline:!0}),s.createElement(v.c,null,"Directory configuration"))),s.createElement("div",{className:"accordion-content"},s.createElement("div",{className:"input text ad openldap"},s.createElement("label",null,s.createElement(v.c,null,"Group path")),s.createElement("input",{id:"group-path-input",type:"text",name:"groupPath",value:this.state.groupPath,onChange:this.handleInputChange,className:"required fluid form-element",placeholder:this.translate("Group Path"),disabled:this.hasAllInputDisabled()}),s.createElement("div",{className:"help-message"},s.createElement(v.c,null,"Group path is used in addition to the base DN while searching groups.")," ",s.createElement(v.c,null,"Leave empty if users and groups are in the same DN."))),s.createElement("div",{className:"input text ad openldap"},s.createElement("label",null,s.createElement(v.c,null,"User path")),s.createElement("input",{id:"user-path-input",type:"text",name:"userPath",value:this.state.userPath,onChange:this.handleInputChange,className:"required fluid form-element",placeholder:this.translate("User Path"),disabled:this.hasAllInputDisabled()}),s.createElement("div",{className:"help-message"},s.createElement(v.c,null,"User path is used in addition to base DN while searching users."))),this.isOpenLdapChecked()&&s.createElement("div",null,s.createElement("div",{className:"input text openldap"},s.createElement("label",null,s.createElement(v.c,null,"Group object class")),s.createElement("input",{id:"group-object-class-input",type:"text",name:"groupObjectClass",value:this.state.groupObjectClass,onChange:this.handleInputChange,className:"required fluid",placeholder:"GroupObjectClass",disabled:this.hasAllInputDisabled()}),s.createElement("div",{className:"help-message"},s.createElement(v.c,null,"For Openldap only. Defines which group object to use.")," (",s.createElement(v.c,null,"Default"),": posixGroup)")),s.createElement("div",{className:"input text openldap"},s.createElement("label",null,s.createElement(v.c,null,"User object class")),s.createElement("input",{id:"user-object-class-input",type:"text",name:"userObjectClass",value:this.state.userObjectClass,onChange:this.handleInputChange,className:"required fluid form-element",placeholder:"UserObjectClass",disabled:this.hasAllInputDisabled()}),s.createElement("div",{className:"help-message"},s.createElement(v.c,null,"For Openldap only. Defines which user object to use.")," (",s.createElement(v.c,null,"Default"),": inetOrgPerson)")),s.createElement("div",{className:"input text openldap"},s.createElement("label",null,s.createElement(v.c,null,"Use email prefix / suffix?")),s.createElement("div",{className:"input toggle-switch openldap form-element"},s.createElement("label",{htmlFor:"use-email-prefix-suffix-toggle-button"},s.createElement(v.c,null,"Build email based on a prefix and suffix?")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"useEmailPrefix",value:this.state.useEmailPrefix,onChange:this.handleInputChange,id:"use-email-prefix-suffix-toggle-button",disabled:this.hasAllInputDisabled()}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"use-email-prefix-suffix-toggle-button"})),s.createElement("div",{className:"help-message"},s.createElement(v.c,null,"Use this option when user entries do not include an email address by default"))),this.isUseEmailPrefixChecked()&&s.createElement("div",{className:"singleline clearfix",id:"use-email-prefix-suffix-options"},s.createElement("div",{className:"input text first-field openldap"},s.createElement("label",null,s.createElement(v.c,null,"Email prefix")),s.createElement("input",{id:"email-prefix-input",type:"text",name:"emailPrefix",checked:this.state.emailPrefix,onChange:this.handleInputChange,className:"required fluid form-element",placeholder:this.translate("username"),disabled:this.hasAllInputDisabled()}),s.createElement("div",{className:"help-message"},s.createElement(v.c,null,"The attribute you would like to use for the first part of the email (usually username)."))),s.createElement("div",{className:"input text last-field openldap"},s.createElement("label",null,s.createElement(v.c,null,"Email suffix")),s.createElement("input",{id:"email-suffix-input",type:"text",name:"emailSuffix",value:this.state.emailSuffix,onChange:this.handleInputChange,className:"required form-element",placeholder:this.translate("@your-domain.com"),disabled:this.hasAllInputDisabled()}),s.createElement("div",{className:"help-message"},s.createElement(v.c,null,"The domain name part of the email (@your-domain-name)."))))))),s.createElement("div",{className:"accordion section-sync-options "+(this.state.openSynchronizationOptions?"":"closed")},s.createElement("h3",{className:"accordion-header"},s.createElement("a",{onClick:this.handleSynchronizationOptionsTitleClicked},this.state.openSynchronizationOptions&&s.createElement(G,{name:"caret-down",baseline:!0}),!this.state.openSynchronizationOptions&&s.createElement(G,{name:"caret-right",baseline:!0}),s.createElement(v.c,null,"Synchronization options"))),s.createElement("div",{className:"accordion-content"},s.createElement("div",{className:"input select required ad openldap"},s.createElement("label",null,s.createElement(v.c,null,"Default admin")),s.createElement("div",{onClick:this.handleDefaultAdminClicked,ref:this.defaultAdminRef},s.createElement("div",{className:`chosen-container chosen-container-single ${this.hasAllInputDisabled()?"chosen-disabled":"chosen-container-active"} ${this.state.openDefaultAdmin?"chosen-with-drop":""}`},s.createElement("a",{className:"chosen-single"},s.createElement("span",{id:"default-user-select"},this.displayDefaultAdmin()),s.createElement("div",null,!this.state.openDefaultAdmin&&s.createElement(G,{name:"caret-down",baseline:!0}),this.state.openDefaultAdmin&&s.createElement(G,{name:"caret-up",baseline:!0}))),s.createElement("div",{className:"chosen-drop"},s.createElement("div",{className:"chosen-search",onClick:this.stopPropagation},s.createElement("input",{className:"chosen-search-input",name:"defaultAdminSearch",value:this.state.defaultAdminSearch,onChange:this.handleInputChange,type:"text"}),s.createElement(G,{name:"search"})),s.createElement("ul",{className:"chosen-results"},e.length>0&&e.map((e=>s.createElement("li",{key:e.id,className:"active-result",onClick:this.handleUserToBeDefaultAdminClick,"data-id":e.id},this.displayUser(e)))),0===e.length&&s.createElement("li",{className:"no-results",onClick:this.stopPropagation},s.createElement(v.c,null,"No results match")," ",s.createElement("span",null,this.state.defaultAdminSearch)))))),s.createElement("div",{className:"help-message"},s.createElement(v.c,null,"The default admin user is the user that will perform the operations for the the directory."))),s.createElement("div",{className:"input select required ad openldap"},s.createElement("label",null,s.createElement(v.c,null,"Default group admin")),s.createElement("div",{onClick:this.handleDefaultGroupAdminClicked,ref:this.defaultGroupAdminRef},s.createElement("div",{className:`chosen-container chosen-container-single ${this.hasAllInputDisabled()?"chosen-disabled":"chosen-container-active"} ${this.state.openDefaultGroupAdmin?"chosen-with-drop":""}`},s.createElement("a",{className:"chosen-single"},s.createElement("span",{id:"default-group-admin-user-select"},this.displayDefaultGroupAdmin()),s.createElement("div",null,!this.state.openDefaultGroupAdmin&&s.createElement(G,{name:"caret-down",baseline:!0}),this.state.openDefaultGroupAdmin&&s.createElement(G,{name:"caret-up",baseline:!0}))),s.createElement("div",{className:"chosen-drop"},s.createElement("div",{className:"chosen-search",onClick:this.stopPropagation},s.createElement("input",{className:"chosen-search-input",name:"defaultGroupAdminSearch",value:this.state.defaultGroupAdminSearch,onChange:this.handleInputChange,type:"text"}),s.createElement(G,{name:"search"})),s.createElement("ul",{className:"chosen-results"},t.length>0&&t.map((e=>s.createElement("li",{key:e.id,className:"active-result",onClick:this.handleUserToBeDefaultGroupAdminClick,"data-id":e.id},this.displayUser(e)))),0===t.length&&s.createElement("li",{className:"no-results",onClick:this.stopPropagation},s.createElement(v.c,null,"No results match")," ",s.createElement("span",null,this.state.defaultGroupAdminSearch)))))),s.createElement("div",{className:"help-message"},s.createElement(v.c,null,"The default group manager is the user that will be the group manager of newly created groups."))),s.createElement("div",{className:"input text ad openldap"},s.createElement("label",null,s.createElement(v.c,null,"Groups parent group")),s.createElement("input",{id:"groups-parent-group-input",type:"text",name:"groupsParentGroup",value:this.state.groupsParentGroup,onChange:this.handleInputChange,className:"fluid form-element",placeholder:this.translate("Group name"),disabled:this.hasAllInputDisabled()}),s.createElement("div",{className:"help-message"},s.createElement(v.c,null,"Synchronize only the groups which are members of this group."))),s.createElement("div",{className:"input text ad openldap"},s.createElement("label",null,s.createElement(v.c,null,"Users parent group")),s.createElement("input",{id:"users-parent-group-input",type:"text",name:"usersParentGroup",value:this.state.usersParentGroup,onChange:this.handleInputChange,className:"fluid form-element",placeholder:this.translate("Group name"),disabled:this.hasAllInputDisabled()}),s.createElement("div",{className:"help-message"},s.createElement(v.c,null,"Synchronize only the users which are members of this group."))),this.isActiveDirectoryChecked()&&s.createElement("div",{className:"input text clearfix ad"},s.createElement("label",null,s.createElement(v.c,null,"Enabled users only")),s.createElement("div",{className:"input toggle-switch ad form-element"},s.createElement("label",{htmlFor:"enabled-users-only-toggle-button"},s.createElement(v.c,null,"Only synchronize enabled users (AD)")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"enabledUsersOnly",checked:this.state.enabledUsersOnly,onChange:this.handleInputChange,id:"enabled-users-only-toggle-button",disabled:this.hasAllInputDisabled()}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"enabled-users-only-toggle-button"}))),s.createElement("div",{className:"input text clearfix ad openldap"},s.createElement("label",null,s.createElement(v.c,null,"Sync operations")),s.createElement("div",{className:"col6"},s.createElement("div",{className:"input toggle-switch ad openldap form-element"},s.createElement("label",{htmlFor:"sync-users-create-toggle-button"},s.createElement(v.c,null,"Create users")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"createUsers",checked:this.state.createUsers,onChange:this.handleInputChange,id:"sync-users-create-toggle-button",disabled:this.hasAllInputDisabled()}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"sync-users-create-toggle-button"})),s.createElement("div",{className:"input toggle-switch ad openldap form-element"},s.createElement("label",{htmlFor:"sync-users-delete-toggle-button"},s.createElement(v.c,null,"Delete users")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"deleteUsers",checked:this.state.deleteUsers,onChange:this.handleInputChange,id:"sync-users-delete-toggle-button",disabled:this.hasAllInputDisabled()}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"sync-users-delete-toggle-button"}))),s.createElement("div",{className:"col6 last"},s.createElement("div",{className:"input toggle-switch ad openldap form-element"},s.createElement("label",{htmlFor:"sync-groups-create-toggle-button"},s.createElement(v.c,null,"Create groups")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"createGroups",checked:this.state.createGroups,onChange:this.handleInputChange,id:"sync-groups-create-toggle-button",disabled:this.hasAllInputDisabled()}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"sync-groups-create-toggle-button"})),s.createElement("div",{className:"input toggle-switch ad openldap form-element"},s.createElement("label",{htmlFor:"sync-groups-delete-toggle-button"},s.createElement(v.c,null,"Delete groups")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"deleteGroups",checked:this.state.deleteGroups,onChange:this.handleInputChange,id:"sync-groups-delete-toggle-button",disabled:this.hasAllInputDisabled()}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"sync-groups-delete-toggle-button"})),s.createElement("div",{className:"input toggle-switch ad openldap form-element"},s.createElement("label",{htmlFor:"sync-groups-update-toggle-button"},s.createElement(v.c,null,"Update groups")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"updateGroups",checked:this.state.updateGroups,onChange:this.handleInputChange,id:"sync-groups-update-toggle-button",disabled:this.hasAllInputDisabled()}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"sync-groups-update-toggle-button"})))))))))),s.createElement("div",{className:"col4 last"},s.createElement("div",{className:"sidebar-help"},s.createElement("h3",null,s.createElement(v.c,null,"Need help?")),s.createElement("p",null,s.createElement(v.c,null,"Check out our ldap configuration guide.")),s.createElement("a",{className:"button",href:"https://help.passbolt.com/configure/ldap",target:"_blank",rel:"noopener noreferrer"},s.createElement(G,{name:"life-ring"}),s.createElement("span",null,s.createElement(v.c,null,"Read the documentation"))))))}}Je.propTypes={context:i().object,administrationWorkspaceContext:i().object,actionFeedbackContext:i().any,dialogContext:i().any,t:i().func};const Qe=A(u(g(de((0,E.Z)("common")(Je)))));class Xe extends s.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{loading:!0,processing:!1,hasDatabaseSetting:!1,hasFileConfigSetting:!1,passwordCreate:!0,passwordShare:!0,passwordUpdate:!0,passwordDelete:!0,folderCreate:!0,folderUpdate:!0,folderDelete:!0,folderShare:!0,commentAdd:!0,groupDelete:!0,groupUserAdd:!0,groupUserDelete:!0,groupUserUpdate:!0,groupManagerUpdate:!0,userCreate:!0,userRecover:!0,showDescription:!0,showSecret:!0,showUri:!0,showUsername:!0,showComment:!0,accountRecoveryRequestAdmin:!0,accountRecoveryRequestGuessing:!0,accountRecoveryRequestCreatedAmin:!0,accountRecoveryRequestCreatedAllAdmins:!0,accountRecoveryRequestPolicyUpdate:!0,accountRecoveryRequestUser:!0,accountRecoveryRequestUserApproved:!0,accountRecoveryRequestUserRejected:!0}}async componentDidMount(){this.findAllEmailNotificationsSettings()}async componentDidUpdate(e){await this.handleMustSave(e.administrationWorkspaceContext.must.save)}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this)}async handleMustSave(e){this.props.administrationWorkspaceContext.must.save!==e&&this.props.administrationWorkspaceContext.must.save&&(await this.handleFormSubmit(),this.props.administrationWorkspaceContext.onResetActionsSettings())}async findAllEmailNotificationsSettings(){const e=(await this.props.administrationWorkspaceContext.onGetEmailNotificationsRequested()).body,t=e.sources_database,a=e.sources_file,s=e.send_password_create,n=e.send_password_share,r=e.send_password_update,i=e.send_password_delete,o=e.send_folder_create,l=e.send_folder_update,c=e.send_folder_delete,d=e.send_folder_share,u=e.send_comment_add,h=e.send_group_delete,p=e.send_group_user_add,m=e.send_group_user_delete,g=e.send_group_user_update,y=e.send_group_manager_update,b=e.send_user_create,f=e.send_user_recover,v=e.show_description,E=e.show_secret,w=e.show_uri,k=e.show_username,C=e.show_comment,x=e.send_accountRecovery_request_user,S=e.send_accountRecovery_request_admin,N=e.send_accountRecovery_request_guessing,q=e.send_accountRecovery_response_user_approved,R=e.send_accountRecovery_response_user_rejected,A=e.send_accountRecovery_response_created_admin,I=e.send_accountRecovery_response_created_allAdmins,T=e.send_accountRecovery_policy_update;this.setState({loading:!1,hasDatabaseSetting:t,hasFileConfigSetting:a,passwordCreate:s,passwordShare:n,passwordUpdate:r,passwordDelete:i,folderCreate:o,folderUpdate:l,folderDelete:c,folderShare:d,commentAdd:u,groupDelete:h,groupUserAdd:p,groupUserDelete:m,groupUserUpdate:g,groupManagerUpdate:y,userCreate:b,userRecover:f,showDescription:v,showSecret:E,showUri:w,showUsername:k,showComment:C,accountRecoveryRequestUser:x,accountRecoveryRequestAdmin:S,accountRecoveryRequestGuessing:N,accountRecoveryRequestUserApproved:q,accountRecoveryRequestUserRejected:R,accountRecoveryRequestCreatedAmin:A,accountRecoveryRequestCreatedAllAdmins:I,accountRecoveryRequestPolicyUpdate:T})}handleInputChange(e){const t=e.target,a=t.checked,s=t.name;this.setState({[s]:a}),this.handleEnabledSaveButton()}handleEnabledSaveButton(){this.props.administrationWorkspaceContext.can.save||this.props.administrationWorkspaceContext.onSaveEnabled()}hasAllInputDisabled(){return this.state.processing||this.state.loading}async handleFormSubmit(){if(!this.state.processing){await this.toggleProcessing();try{await this.saveEmailNotifications(),await this.handleSaveSuccess()}catch(e){await this.handleSaveError(e)}}}async saveEmailNotifications(){const e={sources_database:this.state.hasDatabaseSetting,sources_file:this.state.hasFileConfigSetting,send_password_create:this.state.passwordCreate,send_password_share:this.state.passwordShare,send_password_update:this.state.passwordUpdate,send_password_delete:this.state.passwordDelete,send_folder_create:this.state.folderCreate,send_folder_update:this.state.folderUpdate,send_folder_delete:this.state.folderDelete,send_folder_share:this.state.folderShare,send_comment_add:this.state.commentAdd,send_group_delete:this.state.groupDelete,send_group_user_add:this.state.groupUserAdd,send_group_user_delete:this.state.groupUserDelete,send_group_user_update:this.state.groupUserUpdate,send_group_manager_update:this.state.groupManagerUpdate,send_user_create:this.state.userCreate,send_user_recover:this.state.userRecover,send_accountRecovery_request_user:this.state.accountRecoveryRequestUser,send_accountRecovery_request_admin:this.state.accountRecoveryRequestAdmin,send_accountRecovery_request_guessing:this.state.accountRecoveryRequestGuessing,send_accountRecovery_response_user_approved:this.state.accountRecoveryRequestUserApproved,send_accountRecovery_response_user_rejected:this.state.accountRecoveryRequestUserRejected,send_accountRecovery_response_created_admin:this.state.accountRecoveryRequestCreatedAmin,send_accountRecovery_response_created_allAdmins:this.state.accountRecoveryRequestCreatedAllAdmins,send_accountRecovery_policy_update:this.state.accountRecoveryRequestPolicyUpdate,show_description:this.state.showDescription,show_secret:this.state.showSecret,show_uri:this.state.showUri,show_username:this.state.showUsername,show_comment:this.state.showComment};await this.props.administrationWorkspaceContext.onSaveEmailNotificationsRequested(e)}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.translate("The email notification settings were updated.")),this.setState({processing:!1})}async handleSaveError(e){"UserAbortsOperationError"===e.name||(console.error(e),await this.handleError(e)),this.setState({processing:!1})}async handleError(e){await this.props.actionFeedbackContext.displayError(e.message)}async toggleProcessing(){const e=this.state.processing;return this.setState({processing:!e})}hasDatabaseSetting(){return this.state.hasDatabaseSetting}hasFileConfigSetting(){return this.state.hasFileConfigSetting}canUseFolders(){return this.props.context.siteSettings.canIUse("folders")}canUseAccountRecovery(){return this.props.context.siteSettings.canIUse("accountRecovery")}get translate(){return this.props.t}render(){return s.createElement("div",{className:"row"},s.createElement("div",{className:"email-notification-settings col8"},this.hasDatabaseSetting()&&this.hasFileConfigSetting()&&s.createElement("div",{className:"warning message",id:"email-notification-setting-overridden-banner"},s.createElement("p",null,s.createElement(v.c,null,"Settings have been found in your database as well as in your passbolt.php (or environment variables).")," ",s.createElement(v.c,null,"The settings displayed in the form below are the one stored in your database and have precedence over others."))),!this.hasDatabaseSetting()&&this.hasFileConfigSetting()&&s.createElement("div",{className:"warning message hidden",id:"email-notification-fileconfig-exists-banner"},s.createElement("p",null,s.createElement(v.c,null,"You seem to have Email Notification Settings defined in your passbolt.php (or via environment variables).")," ",s.createElement(v.c,null,"Submitting the form will overwrite those settings with the ones you choose in the form below."))),s.createElement("h3",null,s.createElement(v.c,null,"Email delivery")),s.createElement("p",null,s.createElement(v.c,null,"In this section you can choose which email notifications will be sent.")),s.createElement("form",{className:"form"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col6"},s.createElement("label",null,s.createElement(v.c,null,"Passwords")),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"send-password-create-toggle-button"},s.createElement(v.c,null,"When a password is created, notify its creator.")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"passwordCreate",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.passwordCreate,id:"send-password-create-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"send-password-create-toggle-button"})),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"send-password-update-toggle-button"},s.createElement(v.c,null,"When a password is updated, notify the users who have access to it.")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"passwordUpdate",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.passwordUpdate,id:"send-password-update-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"send-password-update-toggle-button"})),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"send-password-delete-toggle-button"},s.createElement(v.c,null,"When a password is deleted, notify the users who had access to it.")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"passwordDelete",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.passwordDelete,id:"send-password-delete-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"send-password-delete-toggle-button"})),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"send-password-share-toggle-button"},s.createElement(v.c,null,"When a password is shared, notify the users who gain access to it.")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"passwordShare",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.passwordShare,id:"send-password-share-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"send-password-share-toggle-button"}))),this.canUseFolders()&&s.createElement("div",{className:"col6 last"},s.createElement("label",null,s.createElement(v.c,null,"Folders")),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"send-folder-create-toggle-button"},s.createElement(v.c,null,"When a folder is created, notify its creator.")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"folderCreate",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.folderCreate,id:"send-folder-create-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"send-folder-create-toggle-button"})),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"send-folder-update-toggle-button"},s.createElement(v.c,null,"When a folder is updated, notify the users who have access to it.")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"folderUpdate",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.folderUpdate,id:"send-folder-update-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"send-folder-update-toggle-button"})),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"send-folder-delete-toggle-button"},s.createElement(v.c,null,"When a folder is deleted, notify the users who had access to it.")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"folderDelete",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.folderDelete,id:"send-folder-delete-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"send-folder-delete-toggle-button"})),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"send-folder-share-toggle-button"},s.createElement(v.c,null,"When a folder is shared, notify the users who gain access to it.")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"folderShare",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.folderShare,id:"send-folder-share-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"send-folder-share-toggle-button"}))),s.createElement("div",{className:"row"}),s.createElement("div",{className:"col6 last"},s.createElement("label",null,s.createElement(v.c,null,"Comments")),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"send-comment-add-toggle-button"},s.createElement(v.c,null,"When a comment is posted on a password, notify the users who have access to this password.")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"commentAdd",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.commentAdd,id:"send-comment-add-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"send-comment-add-toggle-button"})))),s.createElement("div",{className:"row"},s.createElement("div",{className:"col6"},s.createElement("label",null,s.createElement(v.c,null,"Group membership")),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"send-group-delete-toggle-button"},s.createElement(v.c,null,"When a group is deleted, notify the users who were members of it.")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"groupDelete",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.groupDelete,id:"send-group-delete-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"send-group-delete-toggle-button"})),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"group-user-add-toggle-button"},s.createElement(v.c,null,"When users are added to a group, notify them.")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"groupUserAdd",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.groupUserAdd,id:"send-group-user-add-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"send-group-user-add-toggle-button"})),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"send-group-user-delete-toggle-button"},s.createElement(v.c,null,"When users are removed from a group, notify them.")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"groupUserDelete",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.groupUserDelete,id:"send-group-user-delete-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"send-group-user-delete-toggle-button"})),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"send-group-user-update-toggle-button"},s.createElement(v.c,null,"When user roles change in a group, notify the corresponding users.")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"groupUserUpdate",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.groupUserUpdate,id:"send-group-user-update-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"send-group-user-update-toggle-button"}))),s.createElement("div",{className:"col6 last"},s.createElement("label",null,s.createElement(v.c,null,"Group manager")),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"send-group-manager-update-toggle-button"},s.createElement(v.c,null,"When members of a group change, notify the group manager(s).")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"groupManagerUpdate",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.groupManagerUpdate,id:"send-group-manager-update-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"send-group-manager-update-toggle-button"})),s.createElement("label",null,s.createElement(v.c,null,"Registration & Recovery")),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"send-user-create-toggle-button"},s.createElement(v.c,null,"When new users are invited to passbolt, notify them.")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"userCreate",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.userCreate,id:"send-user-create-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"send-user-create-toggle-button"})),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"send-user-recover-toggle-button"},s.createElement(v.c,null,"When users try to recover their account, notify them.")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"userRecover",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.userRecover,id:"send-user-recover-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"send-user-recover-toggle-button"})))),this.canUseAccountRecovery()&&s.createElement("div",{className:"row"},s.createElement("h3",null,s.createElement(v.c,null,"Account recovery")),s.createElement("div",{className:"col6"},s.createElement("label",null,s.createElement(v.c,null,"Admin")),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"account-recovery-request-admin-toggle-button"},s.createElement(v.c,null,"When an account recovery is requested, notify the administrators")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"accountRecoveryRequestAdmin",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.accountRecoveryRequestAdmin,id:"account-recovery-request-admin-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"account-recovery-request-admin-toggle-button"})),s.createElement("span",{className:"input toggle-switch form-element ready"},s.createElement("label",{htmlFor:"account-recovery-request-guessing-toggle-button"},s.createElement(v.c,null,"When a suspicious attempt to guess for an existing account recovery request is made, notify the administrators?")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"accountRecoveryRequestGuessing",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.accountRecoveryRequestGuessing,id:"account-recovery-request-guessing-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"account-recovery-request-guessing-toggle-button"})),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"account-recovery-policy-update-toggle-button"},s.createElement(v.c,null,"When an account recovery policy is updated, notify the administrators")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"accountRecoveryRequestPolicyUpdate",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.accountRecoveryRequestPolicyUpdate,id:"account-recovery-policy-update-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"account-recovery-policy-update-toggle-button"})),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"account-recovery-response-created-admin-toggle-button"},s.createElement(v.c,null,"When an administrator answered to an account recovery request, notify the administrator")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"accountRecoveryRequestCreatedAmin",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.accountRecoveryRequestCreatedAmin,id:"account-recovery-response-created-admin-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"account-recovery-response-created-admin-toggle-button"})),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"account-recovery-response-created-all-admin-toggle-button"},s.createElement(v.c,null,"When an administrator answered to an account recovery request, notify all the administrators")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"accountRecoveryRequestCreatedAllAdmins",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.accountRecoveryRequestCreatedAllAdmins,id:"account-recovery-response-created-all-admin-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"account-recovery-response-created-all-admin-toggle-button"}))),s.createElement("div",{className:"col6 last"},s.createElement("label",null,s.createElement(v.c,null,"User")),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"account-recovery-request-user-toggle-button"},s.createElement(v.c,null,"When an account recovery is requested, notify the user")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"accountRecoveryRequestUser",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.accountRecoveryRequestUser,id:"account-recovery-request-user-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"account-recovery-request-user-toggle-button"})),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"account-recovery-response-user-approved-toggle-button"},s.createElement(v.c,null,"When an account recovery is approved, notify the user")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"accountRecoveryRequestUserApproved",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.accountRecoveryRequestUserApproved,id:"account-recovery-response-user-approved-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"account-recovery-response-user-approved-toggle-button"})),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"account-recovery-response-user-rejected-toggle-button"},s.createElement(v.c,null,"When an account recovery is rejected, notify the user")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"accountRecoveryRequestUserRejected",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.accountRecoveryRequestUserRejected,id:"account-recovery-response-user-rejected-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"account-recovery-response-user-rejected-toggle-button"})))),s.createElement("div",{className:"row"},s.createElement("h3",null,s.createElement(v.c,null,"Email content visibility")),s.createElement("p",null,s.createElement(v.c,null,"In this section you can adjust the composition of the emails, e.g. which information will be included in the notification.")),s.createElement("div",{className:"col6"},s.createElement("label",null,s.createElement(v.c,null,"Passwords")),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"show-username-toggle-button"},s.createElement(v.c,null,"Username")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"showUsername",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.showUsername,id:"show-username-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"show-username-toggle-button"})),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"show-uri-toggle-button"},s.createElement(v.c,null,"URI")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"showUri",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.showUri,id:"show-uri-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"show-uri-toggle-button"})),s.createElement("span",{className:"input toggle-switch form-element ready"},s.createElement("label",{htmlFor:"show-secret-toggle-button"},s.createElement(v.c,null,"Encrypted secret")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"showSecret",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.showSecret,id:"show-secret-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"show-secret-toggle-button"})),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"show-description-toggle-button"},s.createElement(v.c,null,"Description")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"showDescription",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.showDescription,id:"show-description-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"show-description-toggle-button"}))),s.createElement("div",{className:"col6 last"},s.createElement("label",null,s.createElement(v.c,null,"Comments")),s.createElement("span",{className:"input toggle-switch form-element"},s.createElement("label",{htmlFor:"show-comment-toggle-button"},s.createElement(v.c,null,"Comment content")),s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"showComment",disabled:this.hasAllInputDisabled(),onChange:this.handleInputChange,checked:this.state.showComment,id:"show-comment-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"show-comment-toggle-button"})))))),s.createElement("div",{className:"col4 last"},s.createElement("div",{className:"sidebar-help"},s.createElement("h3",null,s.createElement(v.c,null,"Need some help?")),s.createElement("p",null,s.createElement(v.c,null,"For more information about email notification, checkout the dedicated page on the help website.")),s.createElement("a",{className:"button",href:"https://help.passbolt.com/configure/notification/email",target:"_blank",rel:"noopener noreferrer"},s.createElement(G,{name:"life-ring"}),s.createElement("span",null,s.createElement(v.c,null,"Read the documentation"))))))}}Xe.propTypes={context:i().any,administrationWorkspaceContext:i().object,actionFeedbackContext:i().any,t:i().func};const et=A(u(de((0,E.Z)("common")(Xe))));class tt extends s.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks(),this.createReferences()}bindCallbacks(){this.handleChangeEvent=this.handleChangeEvent.bind(this),this.handleOnSubmitEvent=this.handleOnSubmitEvent.bind(this)}getDefaultState(){return{}}createReferences(){this.searchInputRef=s.createRef()}handleChangeEvent(e){const t=e.target.value;this.props.onSearch&&this.props.onSearch(t)}handleOnSubmitEvent(e){if(e.preventDefault(),this.props.onSearch){const e=this.searchInputRef.current.value;this.props.onSearch(e)}}render(){return s.createElement("div",{className:"col2 search-wrapper"},s.createElement("form",{className:"search",onSubmit:this.handleOnSubmitEvent},s.createElement("div",{className:"input search required"},s.createElement("label",null,"Search"),s.createElement("input",{ref:this.searchInputRef,className:"required",type:"search",disabled:this.props.disabled?"disabled":"",onChange:this.handleChangeEvent,placeholder:this.props.placeholder||this.props.t("Search"),value:this.props.value})),s.createElement("button",{className:"button",value:"search",type:"submit",disabled:this.props.disabled?"disabled":""},s.createElement(G,{name:"search"}),s.createElement("span",{className:"visuallyhidden"},"Search"))))}}tt.propTypes={disabled:i().bool,onSearch:i().func,placeholder:i().string,value:i().string,t:i().func},tt.defaultProps={disabled:!1};const at=(0,E.Z)("common")(tt);var st=a(9490);class nt extends s.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{showErrorDetails:!1}}bindCallbacks(){this.handleKeyDown=this.handleKeyDown.bind(this),this.handleErrorDetailsToggle=this.handleErrorDetailsToggle.bind(this)}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}getTitle(){return this.props.title?this.props.title:this.translate("There was an unexpected error...")}getMessage(){return this.props.error.message}handleKeyDown(e){27!==e.keyCode&&13!==e.keyCode||(e.stopPropagation(),this.props.onClose())}handleErrorDetailsToggle(){this.setState({showErrorDetails:!this.state.showErrorDetails})}get hasErrorDetails(){return Boolean(this.props.error.data?.body)||Boolean(this.props.error.details)}get translate(){return this.props.t}formatErrors(){const e=this.props.error?.details||this.props.error?.data;return JSON.stringify(e,null,4)}render(){return s.createElement("div",{className:"dialog-wrapper error-dialog"},s.createElement("div",{className:"dialog"},s.createElement("div",{className:"dialog-header"},s.createElement("h2",null,this.getTitle()),s.createElement(W,{onClose:this.props.onClose})),s.createElement("div",{className:"dialog-content"},s.createElement("div",{className:"form-content"},s.createElement("p",null,this.getMessage()),this.hasErrorDetails&&s.createElement("div",{className:"accordion error-details"},s.createElement("div",{className:"accordion-header"},s.createElement("a",{onClick:this.handleErrorDetailsToggle},s.createElement(v.c,null,"Error details"),s.createElement(G,{baseline:!0,name:this.state.showErrorDetails?"caret-up":"caret-down"}))),this.state.showErrorDetails&&s.createElement("div",{className:"accordion-content"},s.createElement("div",{className:"input text"},s.createElement("label",{htmlFor:"js_field_debug",className:"visuallyhidden"},s.createElement(v.c,null,"Error details")),s.createElement("textarea",{id:"js_field_debug",defaultValue:this.formatErrors(),readOnly:!0}))))),s.createElement("div",{className:"submit-wrapper clearfix"},s.createElement("a",{className:"button primary warning",onClick:this.props.onClose},"Ok")))))}}nt.propTypes={title:i().string,error:i().object.isRequired,onClose:i().func,t:i().func};const rt=(0,E.Z)("common")(nt);class it extends s.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.getClassName=this.getClassName.bind(this)}getClassName(){let e="button primary";return this.props.warning&&(e+=" warning"),this.props.disabled&&(e+=" disabled"),this.props.processing&&(e+=" processing"),this.props.big&&(e+=" big"),this.props.medium&&(e+=" medium"),this.props.fullWidth&&(e+=" full-width"),e}render(){return s.createElement("input",{type:"submit",className:this.getClassName(),disabled:this.props.disabled,value:this.props.value||"Save"})}}it.defaultProps={warning:!1},it.propTypes={processing:i().bool,disabled:i().bool,value:i().string,warning:i().bool,big:i().bool,medium:i().bool,fullWidth:i().bool};const ot=it;class lt extends s.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.initEventHandlers(),this.createInputRef()}getDefaultState(){return{key:"",keyError:"",processing:!1,hasBeenValidated:!1}}initEventHandlers(){this.handleCloseClick=this.handleCloseClick.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleKeyInputKeyUp=this.handleKeyInputKeyUp.bind(this),this.handleSelectSubscriptionKeyFile=this.handleSelectSubscriptionKeyFile.bind(this)}createInputRef(){this.keyInputRef=s.createRef(),this.fileUploaderRef=s.createRef()}componentDidMount(){this.setState({key:this.props.context.editSubscriptionKey.key||""})}async handleFormSubmit(e){e.preventDefault(),this.state.processing||await this.save()}handleInputChange(e){const t=e.target,a=t.value,s=t.name;this.setState({[s]:a})}handleKeyInputKeyUp(){if(this.state.hasAlreadyBeenValidated){const e=this.validateNameInput();this.setState(e)}}handleCloseClick(){this.props.context.setContext({editSubscriptionKey:null}),this.props.onClose()}async handleSelectSubscriptionKeyFile(e){const[t]=e.target.files,a=await this.readSubscriptionKeyFile(t);await this.fillSubscriptionKey(a),this.state.hasBeenValidated&&await this.validate()}readSubscriptionKeyFile(e){const t=new FileReader;return new Promise(((a,s)=>{t.onloadend=()=>{try{a(t.result)}catch(e){s(e)}},t.readAsText(e)}))}async fillSubscriptionKey(e){await this.setState({key:e})}async save(){if(this.state.processing)return;if(await this.setState({hasBeenValidated:!0}),await this.toggleProcessing(),!await this.validate())return this.handleValidateError(),void await this.toggleProcessing();const e={data:this.state.key};try{await this.props.administrationWorkspaceContext.onUpdateSubscriptionKeyRequested(e),await this.handleSaveSuccess()}catch(e){await this.toggleProcessing(),this.handleSaveError(e),this.focusFieldError()}}handleValidateError(){this.focusFieldError()}async handleSaveSuccess(){await this.props.actionFeedbackContext.displaySuccess(this.translate("The subscription key has been updated successfully.")),this.props.administrationWorkspaceContext.onMustRefreshSubscriptionKey(),this.props.context.setContext({editSubscriptionKey:null,refreshSubscriptionAnnouncement:!0}),this.props.onClose()}async handleSaveError(e){if("PassboltSubscriptionError"===e.name)this.setState({keyError:e.message});else if("EntityValidationError"===e.name)this.setState({keyError:this.translate("The subscription key is invalid.")});else if("PassboltApiFetchError"===e.name&&e.data&&400===e.data.code)this.setState({keyError:e.message});else{console.error(e);const t={error:e};this.props.dialogContext.open(rt,t)}}focusFieldError(){this.state.keyError&&this.keyInputRef.current.focus()}validateKeyInput(){const e=this.state.key.trim();let t="";return e.length||(t=this.translate("A subscription key is required.")),new Promise((e=>{this.setState({keyError:t},e)}))}async validate(){return this.setState({keyError:""}),await this.validateKeyInput(),""===this.state.keyError}async toggleProcessing(){await this.setState({processing:!this.state.processing})}hasAllInputDisabled(){return this.state.processing}get translate(){return this.props.t}render(){return s.createElement(H,{title:this.translate("Edit subscription key"),onClose:this.handleCloseClick,disabled:this.state.processing,className:"edit-subscription-dialog"},s.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},s.createElement("div",{className:"form-content"},s.createElement("div",{className:"input textarea required "+(this.state.keyError?"error":"")},s.createElement("label",{htmlFor:"edit-tag-form-name"},s.createElement(v.c,null,"Subscription key")),s.createElement("textarea",{id:"edit-subscription-form-key",name:"key",value:this.state.key,onKeyUp:this.handleKeyInputKeyUp,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),ref:this.keyInputRef,className:"required full_report",required:"required",autoComplete:"off",autoFocus:!0})),s.createElement("div",{className:"input-file-chooser-wrapper"},s.createElement("div",{className:"input text"},s.createElement("input",{type:"file",ref:this.fileUploaderRef,disabled:this.hasAllInputDisabled(),onChange:this.handleSelectSubscriptionKeyFile}),this.state.keyError&&s.createElement("div",{className:"key error-message"},this.state.keyError)))),s.createElement("div",{className:"submit-wrapper clearfix"},s.createElement(ot,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Save")}),s.createElement(Y,{disabled:this.hasAllInputDisabled(),onClick:this.handleCloseClick}))))}}lt.propTypes={context:i().any,onClose:i().func,actionFeedbackContext:i().any,dialogContext:i().any,administrationWorkspaceContext:i().any,t:i().func};const ct=A(de(u(g((0,E.Z)("common")(lt)))));class dt extends s.Component{render(){return s.createElement("div",{className:"illustration icon-feedback"},"success"===this.props.name&&s.createElement("svg",{id:"icon-feedback-success",className:"animated",xmlns:"http://www.w3.org/2000/svg",width:"170",height:"170",viewBox:"0 0 70 70"},s.createElement("circle",{className:"success-animation-circle",cx:"35",cy:"35",r:"24",stroke:"#000",strokeWidth:"3",strokeLinecap:"round",fill:"transparent"}),s.createElement("polyline",{className:"success-animation-line",stroke:"#000",strokeWidth:"3",points:"23 34 34 43 47 27",linecap:"round",fill:"transparent"})),"warning"===this.props.name&&s.createElement("svg",{id:"icon-feedback-warning",className:"animated",width:"160",height:"160",xmlns:"http://www.w3.org/2000/svg",viewBox:"-16 -16 100 100"},s.createElement("g",{transform:"translate(1.285714 1.857143)",fill:"none",fillRule:"evenodd"},s.createElement("path",{className:"warning-animation-line",d:"M.71428571 70.1428571H70.7142857c-23.3333333-46.6666666-35-69.99999996-35-69.99999996L.71428571 70.1428571z",stroke:"#000",strokeWidth:"4",strokeLinejoin:"round"}),s.createElement("path",{className:"warning-animation-line",stroke:"#000",strokeWidth:"5",fill:"#000",fillRule:"nonzero",strokeLinecap:"round",d:"M36.3214286 28.2244898v19.4285714"}),s.createElement("circle",{className:"warning-animation-circle",fill:"#000",cx:"36.2142857",cy:"57.6428571",r:"3.5"}))),"error"===this.props.name&&s.createElement("svg",{id:"icon-feedback-error",className:"animated",xmlns:"http://www.w3.org/2000/svg",width:"170",height:"170",viewBox:"0 0 70 70"},s.createElement("circle",{className:"error-animation-circle",cx:"35",cy:"35",r:"24",stroke:"#000000",strokeWidth:"3",strokeLinecap:"round",fill:"transparent"}),s.createElement("polyline",{className:"error-animation-line",stroke:"#000",strokeWidth:"3",points:"26 26 44 44",linecap:"round",fill:"transparent"}),s.createElement("polyline",{className:"error-animation-line",stroke:"#000",strokeWidth:"3",points:"44 26 26 44",linecap:"round",fill:"transparent"})))}}dt.defaultProps={},dt.propTypes={name:i().string};const ut=dt;class ht extends s.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{loading:!0,customerId:"",subscriptionId:"",users:null,email:"",expiry:null,created:null,data:null,activeUsers:null}}async componentDidMount(){this.findActiveUsers(),this.findSubscriptionKey()}async componentDidUpdate(e){await this.handleMustRefreshSubscriptionKey(e.administrationWorkspaceContext.must.refreshSubscriptionKey),await this.handleMustEditSubscriptionKey(e.administrationWorkspaceContext.must.editSubscriptionKey)}bindCallbacks(){this.handleRenewKey=this.handleRenewKey.bind(this),this.handleUpdateKey=this.handleUpdateKey.bind(this)}async handleMustRefreshSubscriptionKey(e){this.props.administrationWorkspaceContext.must.refreshSubscriptionKey!==e&&this.props.administrationWorkspaceContext.must.refreshSubscriptionKey&&(await this.findActiveUsers(),await this.findSubscriptionKey(),this.props.administrationWorkspaceContext.onResetActionsSettings())}async handleMustEditSubscriptionKey(e){this.props.administrationWorkspaceContext.must.editSubscriptionKey!==e&&this.props.administrationWorkspaceContext.must.editSubscriptionKey&&(this.openEditSubscriptionKey(),this.props.administrationWorkspaceContext.onResetActionsSettings())}openEditSubscriptionKey(){const e={key:this.state.data};this.props.context.setContext({editSubscriptionKey:e}),this.props.dialogContext.open(ct)}async findActiveUsers(){const e=await this.getActiveUsers();this.setState({activeUsers:e})}async findSubscriptionKey(){try{const e=await this.props.context.onGetSubscriptionKeyRequested(),t=e.customer_id,a=e.subscription_id,s=e.users,n=e.email,r=e.expiry,i=e.created,o=e.data;this.setState({loading:!1,customerId:t,subscriptionId:a,users:s,email:n,expiry:r,created:i,data:o})}catch(e){this.handleSubscriptionError(e)}}handleSubscriptionError(e){if("PassboltSubscriptionError"===e.name){const t=e.subscription,a=t.customer_id||"N/A",s=t.subscription_id,n=t.users,r=t.email||"N/A",i=t.expiry,o=t.created,l=t.data;this.setState({loading:!1,customerId:a,subscriptionId:s,users:n,email:r,expiry:i,created:o,data:l})}else this.setState({loading:!1})}handleRenewKey(){this.hasLimitUsersExceeded()?this.props.navigationContext.onGoToNewTab(`https://www.passbolt.com/subscription/ee/update/qty?subscription_id=${this.state.subscriptionId}&customer_id=${this.state.customerId}`):(this.hasSubscriptionKeyExpired()||this.hasSubscriptionKeyGoingToExpire())&&this.props.navigationContext.onGoToNewTab(`https://www.passbolt.com/subscription/ee/update/renew?subscription_id=${this.state.subscriptionId}&customer_id=${this.state.customerId}`)}handleUpdateKey(){this.openEditSubscriptionKey()}isLoading(){return this.state.loading}hasSubscriptionKeyExpired(){return st.ou.fromISO(this.state.expiry)<st.ou.now()}hasSubscriptionKeyGoingToExpire(){return st.ou.fromISO(this.state.expiry)<st.ou.now().plus({days:30})&&!this.hasSubscriptionKeyExpired()}hasSubscriptionKey(){return Boolean(this.state.data)}hasLimitUsersExceeded(){return this.state.users<this.state.activeUsers}hasSubscriptionToRenew(){return this.hasInvalidSubscription()||this.hasSubscriptionKeyGoingToExpire()}hasValidSubscription(){return this.hasSubscriptionKey()&&!this.hasLimitUsersExceeded()&&!this.hasSubscriptionKeyExpired()}hasInvalidSubscription(){return!this.hasSubscriptionKey()||this.hasLimitUsersExceeded()||this.hasSubscriptionKeyExpired()}formatDate(e){try{return st.ou.fromISO(e).setLocale(this.props.context.locale).toLocaleString(st.ou.DATE_SHORT)}catch(e){return""}}formatDateTimeAgo(e){const t=st.ou.fromISO(e),a=t.diffNow().toMillis();return a>-1e3&&a<0?this.translate("Just now"):t.toRelative({locale:this.props.context.locale})}async getActiveUsers(){return(await this.props.context.port.request("passbolt.users.get-all")).filter((e=>e.active)).length}get translate(){return this.props.t}render(){return s.createElement("div",{className:"row"},!this.isLoading()&&s.createElement("div",{className:"subscription-key col8"},s.createElement("h3",null,s.createElement(v.c,null,"Subscription key details")),s.createElement("div",{className:"feedback-card"},this.hasValidSubscription()&&!this.hasSubscriptionKeyGoingToExpire()&&s.createElement(ut,{name:"success"}),this.hasInvalidSubscription()&&s.createElement(ut,{name:"warning"}),this.hasValidSubscription()&&this.hasSubscriptionKeyGoingToExpire()&&s.createElement(ut,{name:"error"}),s.createElement("div",{className:"subscription-information"},!this.hasSubscriptionKey()&&s.createElement(s.Fragment,null,s.createElement("h4",null,s.createElement(v.c,null,"Your subscription key is either missing or not valid.")),s.createElement("p",null,s.createElement(v.c,null,"Sorry your subscription is either missing or not readable."),s.createElement("br",null),s.createElement(v.c,null,"Update the subscription key and try again.")," ",s.createElement(v.c,null,"If this does not work get in touch with support."))),this.hasValidSubscription()&&this.hasSubscriptionKeyGoingToExpire()&&s.createElement("h4",null,s.createElement(v.c,null,"Your subscription key is going to expire.")),this.hasSubscriptionKey()&&this.hasInvalidSubscription()&&s.createElement("h4",null,s.createElement(v.c,null,"Your subscription key is not valid.")),this.hasValidSubscription()&&!this.hasSubscriptionKeyGoingToExpire()&&s.createElement("h4",null,s.createElement(v.c,null,"Your subscription key is valid and up to date!")),this.hasSubscriptionKey()&&s.createElement("ul",null,s.createElement("li",{className:"customer-id"},s.createElement("span",{className:"label"},s.createElement(v.c,null,"Customer id:")),s.createElement("span",{className:"value"},this.state.customerId)),s.createElement("li",{className:"subscription-id"},s.createElement("span",{className:"label"},s.createElement(v.c,null,"Subscription id:")),s.createElement("span",{className:"value"},this.state.subscriptionId)),s.createElement("li",{className:"email"},s.createElement("span",{className:"label"},s.createElement(v.c,null,"Email:")),s.createElement("span",{className:"value"},this.state.email)),s.createElement("li",{className:"users"},s.createElement("span",{className:"label "+(this.hasLimitUsersExceeded()?"error":"")},s.createElement(v.c,null,"Users limit:")),s.createElement("span",{className:"value "+(this.hasLimitUsersExceeded()?"error":"")},this.state.users," (",s.createElement(v.c,null,"currently:")," ",this.state.activeUsers,")")),s.createElement("li",{className:"created"},s.createElement("span",{className:"label"},s.createElement(v.c,null,"Valid from:")),s.createElement("span",{className:"value"},this.formatDate(this.state.created))),s.createElement("li",{className:"expiry"},s.createElement("span",{className:`label ${this.hasSubscriptionKeyExpired()?"error":""} ${this.hasSubscriptionKeyGoingToExpire()?"warning":""}`},s.createElement(v.c,null,"Expires on:")),s.createElement("span",{className:`value ${this.hasSubscriptionKeyExpired()?"error":""} ${this.hasSubscriptionKeyGoingToExpire()?"warning":""}`},this.formatDate(this.state.expiry)," (",`${this.hasSubscriptionKeyExpired()?this.translate("expired "):""}${this.formatDateTimeAgo(this.state.expiry)}`,")"))),this.hasSubscriptionToRenew()&&s.createElement(s.Fragment,null,this.hasSubscriptionKey()&&s.createElement("a",{className:"button primary big",role:"button",onClick:this.handleRenewKey},s.createElement(v.c,null,"Renew key")),!this.hasSubscriptionKey()&&s.createElement("a",{className:"button primary big",role:"button",onClick:this.handleUpdateKey},s.createElement(v.c,null,"Update key")),s.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.passbolt.com/contact"},s.createElement(v.c,null,"or, contact us")))))),!this.isLoading()&&s.createElement("div",{className:"col4 last"},s.createElement("div",{className:"sidebar-help"},s.createElement("h3",null,s.createElement(v.c,null,"Need help?")),s.createElement("p",null,s.createElement(v.c,null,"For any change or question related to your passbolt subscription, kindly contact our sales team.")),s.createElement("a",{className:"button",target:"_blank",rel:"noopener noreferrer",href:"https://www.passbolt.com/contact"},s.createElement(G,{name:"envelope"}),s.createElement("span",null,s.createElement(v.c,null,"Contact Sales"))))))}}ht.propTypes={context:i().any,navigationContext:i().any,administrationWorkspaceContext:i().object,dialogContext:i().any,t:i().func};const pt=A(ke(de(g((0,E.Z)("common")(ht)))));class mt extends s.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{loading:!0,processing:!1,locale:""}}async componentDidMount(){this.setState({locale:this.props.context.siteSettings.locale})}async componentDidUpdate(e){await this.handleMustSave(e.administrationWorkspaceContext.must.save)}bindCallbacks(){this.handleInputChange=this.handleInputChange.bind(this)}async handleMustSave(e){this.props.administrationWorkspaceContext.must.save!==e&&this.props.administrationWorkspaceContext.must.save&&(await this.handleFormSubmit(),this.props.administrationWorkspaceContext.onResetActionsSettings())}handleInputChange(e){const t=e.target,a=t.value,s=t.name;this.setState({[s]:a}),this.handleEnabledSaveButton()}handleEnabledSaveButton(){this.props.administrationWorkspaceContext.can.save||this.props.administrationWorkspaceContext.onSaveEnabled()}hasAllInputDisabled(){return this.state.processing||this.state.loading}async handleFormSubmit(){if(!this.state.processing){await this.toggleProcessing();try{await this.props.administrationWorkspaceContext.onSaveLocaleRequested(this.state.locale),await this.handleSaveSuccess()}catch(e){await this.handleSaveError(e)}}}async handleSaveSuccess(){this.props.context.onRefreshLocaleRequested(this.state.locale),await this.props.actionFeedbackContext.displaySuccess(this.translate("The internationalization settings were updated.")),this.setState({processing:!1})}async handleSaveError(e){"UserAbortsOperationError"===e.name||(console.error(e),await this.handleError(e)),this.setState({processing:!1})}async handleError(e){await this.props.actionFeedbackContext.displayError(e.message)}async toggleProcessing(){const e=this.state.processing;return this.setState({processing:!e})}get supportedLocales(){return this.props.context.siteSettings.supportedLocales||[]}get translate(){return this.props.t}render(){return s.createElement("div",{className:"row"},s.createElement("div",{className:"internationalisation-settings col7"},s.createElement("h3",null,s.createElement(v.c,null,"Internationalisation")),s.createElement("form",{className:"form"},s.createElement("div",{className:"input select locale"},s.createElement("label",{htmlFor:"app-locale-input"},s.createElement(v.c,null,"Language")),s.createElement("select",{className:"medium",id:"locale-input",name:"locale",value:this.state.locale,onChange:this.handleInputChange},this.supportedLocales.map((e=>s.createElement("option",{key:e.locale,value:e.locale},e.label)))),s.createElement("p",null,s.createElement(v.c,null,"The default language of the organisation."))))),s.createElement("div",{className:"col4 last"},s.createElement("div",{className:"sidebar-help"},s.createElement("h3",null,s.createElement(v.c,null,"Want to contribute?")),s.createElement("p",null,s.createElement(v.c,null,"Your language is missing or you discovered an error in the translation, help us to improve passbolt.")),s.createElement("a",{className:"button",href:"https://help.passbolt.com/contribute/translation",target:"_blank",rel:"noopener noreferrer"},s.createElement(G,{name:"heart-o"}),s.createElement("span",null,s.createElement(v.c,null,"Contribute"))))))}}mt.propTypes={context:i().object,administrationWorkspaceContext:i().object,actionFeedbackContext:i().any,t:i().func};const gt=A(u(de((0,E.Z)("common")(mt))));function yt(){return yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},yt.apply(this,arguments)}const bt=s.createContext({currentPolicy:null,policyChanges:{},findAccountRecoveryPolicy:()=>{},getKeyInfo:()=>{},changePolicy:()=>{},changePublicKey:()=>{},hasPolicyChanges:()=>{},resetChanges:()=>{},downloadPrivateKey:()=>{},save:()=>{}});class ft extends s.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{currentPolicy:null,policyChanges:{},findAccountRecoveryPolicy:this.findAccountRecoveryPolicy.bind(this),getKeyInfo:this.getKeyInfo.bind(this),changePolicy:this.changePolicy.bind(this),changePublicKey:this.changePublicKey.bind(this),hasPolicyChanges:this.hasPolicyChanges.bind(this),resetChanges:this.resetChanges.bind(this),downloadPrivateKey:this.downloadPrivateKey.bind(this),save:this.save.bind(this)}}async findAccountRecoveryPolicy(){if(!this.props.context.siteSettings.canIUse("accountRecovery"))return;const e=await this.props.context.port.request("passbolt.account-recovery.get-organization-policy");this.setState({currentPolicy:e})}async changePolicy(e){const t=this.state.policyChanges;e===this.state.currentPolicy?.policy?delete t.policy:t.policy=e,"disabled"===e&&delete t.publicKey,await this.setState({policyChanges:t})}async changePublicKey(e){const t={...this.state.policyChanges,publicKey:e};await this.setState({policyChanges:t})}hasPolicyChanges(){return Boolean(this.state.policyChanges?.publicKey)||Boolean(this.state.policyChanges?.policy)}async getKeyInfo(e){return e?this.props.context.port.request("passbolt.keyring.get-key-info",e):null}async resetChanges(){await this.setState({policyChanges:{}})}async downloadPrivateKey(e){await this.props.context.port.request("passbolt.account-recovery.download-organization-generated-key",e)}async save(e){const t=this.buildPolicySaveDto(),a=await this.props.context.port.request("passbolt.account-recovery.save-organization-policy",t,e);this.setState({currentPolicy:a,policyChanges:{}})}buildPolicySaveDto(){const e={};return this.state.policyChanges.policy&&(e.policy=this.state.policyChanges.policy),this.state.policyChanges.publicKey&&(e.account_recovery_organization_public_key={armored_key:this.state.policyChanges.publicKey}),e}render(){return s.createElement(bt.Provider,{value:this.state},this.props.children)}}function vt(e){return class extends s.Component{render(){return s.createElement(bt.Consumer,null,(t=>s.createElement(e,yt({adminAccountRecoveryContext:t},this.props))))}}}function Et(){return Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Et.apply(this,arguments)}ft.propTypes={context:i().any,children:i().any},A(ft);const wt=s.createContext({workflows:[],start:()=>{},stop:()=>{}});class kt extends s.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{workflows:[],start:(e,t)=>{const a=(0,o.Z)();return this.setState({workflows:[...this.state.workflows,{key:a,Workflow:e,workflowProps:t}]}),a},stop:async e=>await this.setState({workflows:this.state.workflows.filter((t=>e!==t.key))})}}render(){return s.createElement(wt.Provider,{value:this.state},this.props.children)}}kt.displayName="WorkflowContextProvider",kt.propTypes={children:i().any};class Ct extends s.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks(),this.createInputRef()}get defaultState(){return{processing:!1,key:"",keyError:"",password:"",passwordError:"",passwordWarning:"",passphraseStyle:{background:"",color:""},securityTokenStyle:{background:this.props.context.userSettings.getSecurityTokenBackgroundColor(),color:this.props.context.userSettings.getSecurityTokenTextColor()},viewPassword:!1,hasAlreadyBeenValidated:!1,selectedFile:null}}bindCallbacks(){this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleKeyInputKeyUp=this.handleKeyInputKeyUp.bind(this),this.handlePasswordInputFocus=this.handlePasswordInputFocus.bind(this),this.handlePasswordInputBlur=this.handlePasswordInputBlur.bind(this),this.handlePasswordInputKeyUp=this.handlePasswordInputKeyUp.bind(this),this.handleViewPasswordButtonClick=this.handleViewPasswordButtonClick.bind(this),this.handleSelectFile=this.handleSelectFile.bind(this),this.handleSelectOrganizationKeyFile=this.handleSelectOrganizationKeyFile.bind(this)}createInputRef(){this.keyInputRef=s.createRef(),this.fileUploaderRef=s.createRef(),this.passwordInputRef=s.createRef()}handleKeyInputKeyUp(){if(this.state.hasAlreadyBeenValidated){const e=this.validateKeyInput();this.setState(e)}}async handleSelectOrganizationKeyFile(e){const[t]=e.target.files,a=await this.readOrganizationKeyFile(t);await this.fillOrganizationKey(a),this.setState({selectedFile:t}),this.state.hasAlreadyBeenValidated&&await this.validate()}readOrganizationKeyFile(e){const t=new FileReader;return new Promise(((a,s)=>{t.onloadend=()=>{try{a(t.result)}catch(e){s(e)}},t.readAsText(e)}))}async fillOrganizationKey(e){await this.setState({key:e})}validateKeyInput(){const e=this.state.key.trim();let t="";return e.length||(t=this.translate("An organization key is required.")),new Promise((e=>{this.setState({keyError:t},e)}))}focusFirstFieldError(){this.state.keyError?this.keyInputRef.current.focus():this.state.passwordError&&this.passwordInputRef.current.focus()}handlePasswordInputKeyUp(){if(this.state.hasAlreadyBeenValidated){const e=this.validatePasswordInput();this.setState(e)}else{const e=this.state.password.length>=4096,t=this.translate("Warning: this is the maximum size for this field, make sure your data was not truncated"),a=e?t:"";this.setState({passwordWarning:a})}}handleViewPasswordButtonClick(){this.state.processing||this.setState({viewPassword:!this.state.viewPassword})}validatePasswordInput(){const e=this.state.password;let t="";return e.length||(t=this.translate("A password is required.")),new Promise((e=>{this.setState({passwordError:t},e)}))}handleInputChange(e){const t=e.target,a=t.value,s=t.name;this.setState({[s]:a})}handlePasswordInputFocus(){this.setState({passphraseStyle:{background:this.props.context.userSettings.getSecurityTokenBackgroundColor(),color:this.props.context.userSettings.getSecurityTokenTextColor()},securityTokenStyle:{background:this.props.context.userSettings.getSecurityTokenTextColor(),color:this.props.context.userSettings.getSecurityTokenBackgroundColor()}})}handlePasswordInputBlur(){this.setState({passphraseStyle:{background:"",color:""},securityTokenStyle:{background:this.props.context.userSettings.getSecurityTokenBackgroundColor(),color:this.props.context.userSettings.getSecurityTokenTextColor()}})}handleSelectFile(){this.fileUploaderRef.current.click()}async handleFormSubmit(e){e.preventDefault(),this.state.processing||await this.save()}async save(){if(this.setState({hasAlreadyBeenValidated:!0}),await this.toggleProcessing(),!await this.validate())return this.handleValidateError(),void await this.toggleProcessing();const e={armored_key:this.state.key,passphrase:this.state.password};try{await this.props.context.port.request("passbolt.account-recovery.validate-organization-private-key",e),await this.props.onSubmit(e),await this.toggleProcessing(),this.props.onClose()}catch(e){await this.handleSubmitError(e),await this.toggleProcessing()}}async handleSubmitError(e){"UserAbortsOperationError"!==e.name&&("WrongOrganizationRecoveryKeyError"===e.name?this.setState({expectedFingerprintError:e.expectedFingerprint}):"InvalidMasterPasswordError"===e.name?this.setState({passwordError:this.translate("This is not a valid passphrase.")}):"BadSignatureMessageGpgKeyError"===e.name||"GpgKeyError"===e.name?this.setState({keyError:e.message}):(console.error("Uncaught uncontrolled error"),this.onUnexpectedError(e)))}onUnexpectedError(e){const t={error:e};this.props.dialogContext.open(rt,t)}handleValidateError(){this.focusFirstFieldError()}async validate(){return this.setState({keyError:"",passwordError:"",expectedFingerprintError:""}),await Promise.all([this.validateKeyInput(),this.validatePasswordInput()]),""===this.state.keyError&&""===this.state.passwordError}async toggleProcessing(){await this.setState({processing:!this.state.processing})}hasAllInputDisabled(){return this.state.processing}handleCloseClick(){this.props.onClose()}formatFingerprint(e){if(!e)return s.createElement(s.Fragment,null);const t=e.toUpperCase().replace(/.{4}/g,"$& ");return s.createElement(s.Fragment,null,t.substr(0,24),s.createElement("br",null),t.substr(25))}get selectedFilename(){return this.state.selectedFile?this.state.selectedFile.name:""}get translate(){return this.props.t}render(){return s.createElement(H,{title:this.translate("Organization Recovery Key"),onClose:this.handleCloseClick,disabled:this.state.processing,className:"provide-organization-recover-key-dialog"},s.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},s.createElement("div",{className:"form-content provide-organization-key"},s.createElement("div",{className:"input textarea required "+(this.state.keyError||this.state.expectedFingerprintError?"error":"")},s.createElement("label",{htmlFor:"organization-recover-form-key"},s.createElement(v.c,null,"Enter the private key used by your organization for account recovery")),s.createElement("textarea",{id:"organization-recover-form-key",name:"key",value:this.state.key,onKeyUp:this.handleKeyInputKeyUp,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),ref:this.keyInputRef,className:"required",placeholder:"Paste the OpenPGP Private key here",required:"required",autoComplete:"off",autoFocus:!0})),s.createElement("div",{className:"input-file-chooser-wrapper"},s.createElement("input",{type:"file",ref:this.fileUploaderRef,disabled:this.hasAllInputDisabled(),onChange:this.handleSelectOrganizationKeyFile}),s.createElement("div",{className:"input text"},s.createElement("label",{htmlFor:"dialog-import-private-key"},s.createElement(v.c,null,"Select a file to import")),s.createElement("div",{className:"input-file-inline"},s.createElement("input",{type:"text",disabled:!0,placeholder:this.translate("No file selected"),defaultValue:this.selectedFilename}),s.createElement("a",{className:"button primary "+(this.hasAllInputDisabled()?"disabled":""),onClick:this.handleSelectFile},s.createElement(G,{name:"upload-a"}),s.createElement("span",null,s.createElement(v.c,null,"Choose a file")))),this.state.keyError&&s.createElement("div",{className:"key error-message"},this.state.keyError),this.state.expectedFingerprintError&&s.createElement("div",{className:"key error-message"},s.createElement(v.c,null,"Error, this is not the current organization recovery key."),s.createElement("br",null),s.createElement(v.c,null,"Expected fingerprint:"),s.createElement("br",null),s.createElement("br",null),s.createElement("span",{className:"fingerprint"},this.formatFingerprint(this.state.expectedFingerprintError))))),s.createElement("div",{className:"input-password-wrapper input required "+(this.state.passwordError?"error":"")},s.createElement("label",{htmlFor:"generate-organization-key-form-password"},s.createElement(v.c,null,"Organization key passphrase")),s.createElement("div",{className:"input text password"},s.createElement("input",{id:"generate-organization-key-form-password",name:"password",className:"required",maxLength:"4096",placeholder:this.translate("Passphrase"),required:"required",type:this.state.viewPassword?"text":"password",onKeyUp:this.handlePasswordInputKeyUp,value:this.state.password,onFocus:this.handlePasswordInputFocus,onBlur:this.handlePasswordInputBlur,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),autoComplete:"new-password",ref:this.passwordInputRef}),s.createElement("a",{onClick:this.handleViewPasswordButtonClick,className:"password-view button button-icon toggle "+(this.state.viewPassword?"selected":"")},s.createElement(G,{name:"eye-open",big:!0}),s.createElement("span",{className:"visually-hidden"},"view")),s.createElement("span",{className:"security-token",style:this.state.securityTokenStyle},this.props.context.userSettings.getSecurityTokenCode())),this.state.passwordError&&s.createElement("div",{className:"input text"},s.createElement("div",{className:"password error-message"},this.state.passwordError)),this.state.passwordWarning&&s.createElement("div",{className:"input text"},s.createElement("div",{className:"password warning message"},this.state.passwordWarning)))),s.createElement("div",{className:"submit-wrapper clearfix"},s.createElement(ot,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Submit")}),s.createElement(Y,{disabled:this.hasAllInputDisabled(),onClick:this.handleCloseClick}))))}}Ct.propTypes={context:i().any.isRequired,onClose:i().func,onSubmit:i().func,actionFeedbackContext:i().any,dialogContext:i().object,t:i().func};const xt=A(g((0,E.Z)("common")(Ct)));class St extends s.Component{constructor(e){super(e),this.state=this.getDefaultState(),this.bindCallbacks()}getDefaultState(){return{processing:!1}}bindCallbacks(){this.handleSubmit=this.handleSubmit.bind(this),this.handleClose=this.handleClose.bind(this)}handleClose(){this.props.onClose()}async toggleProcessing(){await this.setState({processing:!this.state.processing})}get isProcessing(){return this.state.processing}async handleSubmit(e){e.preventDefault(),await this.toggleProcessing();try{await this.props.onSubmit(),this.props.onClose()}catch(e){if(await this.toggleProcessing(),"UserAbortsOperationError"!==e.name)throw console.error("Uncaught uncontrolled error"),e}}formatFingerprint(e){const t=(e=e||"").toUpperCase().replace(/.{4}/g,"$& ");return s.createElement(s.Fragment,null,t.substr(0,24),s.createElement("br",null),t.substr(25))}formatUserIds(e){return(e=e||[]).map(((e,t)=>s.createElement(s.Fragment,{key:t},e.name,"<",e.email,">",s.createElement("br",null))))}formatDateTimeAgo(e){if("Never"===e)return e;const t=st.ou.fromISO(e),a=t.diffNow().toMillis();return a>-1e3&&a<0?this.translate("Just now"):t.toRelative({locale:this.props.context.locale})}formatDate(e){return st.ou.fromJSDate(new Date(e)).setLocale(this.props.context.locale).toLocaleString(st.ou.DATETIME_FULL)}get translate(){return this.props.t}render(){return s.createElement(H,{title:this.translate("Save Settings Summary"),onClose:this.handleClose,disabled:this.state.processing,className:"save-recovery-account-settings-dialog"},s.createElement("form",{onSubmit:this.handleSubmit},s.createElement("div",{className:"form-content"},this.props.policy&&s.createElement(s.Fragment,null,s.createElement("label",null,s.createElement(v.c,null,"New Account Recovery Policy")),s.createElement("div",{className:"radiolist-alt"},s.createElement("div",{className:"input radio"},s.createElement("label",{htmlFor:"accountPolicy"},s.createElement("span",{className:"name"},{mandatory:s.createElement(v.c,null,"Mandatory"),"opt-out":s.createElement(v.c,null,"Optional, Opt-out"),"opt-in":s.createElement(v.c,null,"Optional, Opt-in"),disabled:s.createElement(v.c,null,"Disable")}[this.props.policy]),s.createElement("span",{className:"info"},{mandatory:s.createElement(s.Fragment,null,s.createElement(v.c,null,"Every user is required to provide a copy of their private key and passphrase during setup."),s.createElement("br",null),s.createElement(v.c,null,"Warning: You should inform your users not to store personal passwords.")),"opt-out":s.createElement(v.c,null,"Every user will be prompted to provide a copy of their private key and passphrase by default during the setup, but they can opt out."),"opt-in":s.createElement(v.c,null,"Every user can decide to provide a copy of their private key and passphrase by default during the setup, but they can opt in."),disabled:s.createElement(s.Fragment,null,s.createElement(v.c,null,"Backup of the private key and passphrase will not be stored. This is the safest option."),s.createElement("br",null),s.createElement(v.c,null,"Warning: If users lose their private key and passphrase they will not be able to recover their account."))}[this.props.policy]))))),this.props.keyInfo&&s.createElement(s.Fragment,null,s.createElement("label",null,s.createElement(v.c,null,"New Organization Recovery Key")),s.createElement("div",{className:"recovery-key-details"},s.createElement("table",{className:"table-info recovery-key"},s.createElement("tbody",null,s.createElement("tr",{className:"user-ids"},s.createElement("td",{className:"label"},s.createElement(v.c,null,"Uid")),s.createElement("td",{className:"value"},this.formatUserIds(this.props.keyInfo.user_ids))),s.createElement("tr",{className:"fingerprint"},s.createElement("td",{className:"label"},s.createElement(v.c,null,"Fingerprint")),s.createElement("td",{className:"value"},this.formatFingerprint(this.props.keyInfo.fingerprint))),s.createElement("tr",{className:"algorithm"},s.createElement("td",{className:"label"},s.createElement(v.c,null,"Algorithm")),s.createElement("td",{className:"value"},this.props.keyInfo.algorithm)),s.createElement("tr",{className:"key-length"},s.createElement("td",{className:"label"},s.createElement(v.c,null,"Key length")),s.createElement("td",{className:"value"},this.props.keyInfo.length)),s.createElement("tr",{className:"created"},s.createElement("td",{className:"label"},s.createElement(v.c,null,"Created")),s.createElement("td",{className:"value"},this.formatDate(this.props.keyInfo.created))),s.createElement("tr",{className:"expires"},s.createElement("td",{className:"label"},s.createElement(v.c,null,"Expires")),s.createElement("td",{className:"value"},this.formatDateTimeAgo(this.props.keyInfo.expires)))))))),s.createElement("div",{className:"warning message"},s.createElement(v.c,null,"Warning, Please review carefully this configuration as it will not be trivial to change this later.")),s.createElement("div",{className:"submit-wrapper clearfix"},s.createElement("button",{className:"button button-left "+(this.isProcessing?"disabled":""),type:"button"},this.translate("Learn More")),s.createElement(ot,{value:this.translate("Save"),disabled:this.isProcessing,processing:this.isProcessing,warning:!0}),s.createElement("button",{className:"button cancel "+(this.isProcessing?"disabled":""),role:"button",type:"button",onClick:this.handleClose,disabled:this.isProcessing},s.createElement("span",null,s.createElement(v.c,null,"Cancel"))))))}}St.propTypes={context:i().any,onClose:i().func,onSubmit:i().func,policy:i().string,keyInfo:i().object,t:i().func};const Nt=A((0,E.Z)("common")(St));class qt extends s.Component{constructor(e){super(e),this.bindCallbacks()}componentDidMount(){this.displayConfirmSummaryDialog()}bindCallbacks(){this.handleCloseDialog=this.handleCloseDialog.bind(this),this.handleConfirmSave=this.handleConfirmSave.bind(this),this.handleSave=this.handleSave.bind(this),this.handleError=this.handleError.bind(this)}async displayConfirmSummaryDialog(){this.props.dialogContext.open(Nt,{policy:this.props.adminAccountRecoveryContext.policyChanges?.policy,keyInfo:await this.getNewOrganizationKeyInfo(),onClose:this.handleCloseDialog,onSubmit:this.handleConfirmSave})}getNewOrganizationKeyInfo(){const e=this.props.adminAccountRecoveryContext.policyChanges?.publicKey;return e?this.props.adminAccountRecoveryContext.getKeyInfo(e):null}displayProvideAccountRecoveryOrganizationKeyDialog(){this.props.dialogContext.open(xt,{onClose:this.handleCloseDialog,onSubmit:this.handleSave})}handleCloseDialog(){this.props.onStop()}async handleConfirmSave(){Boolean(this.props.adminAccountRecoveryContext.currentPolicy?.account_recovery_organization_public_key)?this.displayProvideAccountRecoveryOrganizationKeyDialog():await this.handleSave()}async handleSave(e=null){try{await this.props.adminAccountRecoveryContext.save(e),await this.props.actionFeedbackContext.displaySuccess(this.translate("The organization recovery policy has been updated successfully")),this.props.onStop()}catch(e){this.handleError(e)}}handleError(e){if(["UserAbortsOperationError","WrongOrganizationRecoveryKeyError","InvalidMasterPasswordError","BadSignatureMessageGpgKeyError","GpgKeyError"].includes(e.name))throw e;"PassboltApiFetchError"===e.name&&e?.data?.body?.account_recovery_organization_public_key?.fingerprint?.isNotAccountRecoveryOrganizationPublicKeyFingerprintRule?this.props.dialogContext.open(rt,{error:new Error(this.translate("The new organization recovery key should not be a formerly used organization recovery key."))}):this.props.dialogContext.open(rt,{error:e}),this.props.onStop()}get translate(){return this.props.t}render(){return s.createElement(s.Fragment,null)}}qt.propTypes={dialogContext:i().any,adminAccountRecoveryContext:i().any,actionFeedbackContext:i().object,context:i().object,onStop:i().func.isRequired,t:i().func};const Rt=A(g(u(vt((0,E.Z)("common")(qt)))));class At extends s.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleSaveClick=this.handleSaveClick.bind(this),this.handleEditSubscriptionClick=this.handleEditSubscriptionClick.bind(this)}handleSaveClick(){this.props.workflowContext.start(Rt,{})}handleEditSubscriptionClick(){this.props.adminAccountRecoveryContext.resetChanges()}isSaveEnabled(){if(!this.props.adminAccountRecoveryContext.hasPolicyChanges())return!1;const e=this.props.adminAccountRecoveryContext.policyChanges,t=this.props.adminAccountRecoveryContext.currentPolicy;if(e?.policy===Ae.POLICY_DISABLED)return!0;const a=e.publicKey||t.account_recovery_organization_public_key?.armored_key;return!(!Boolean(e.policy)||!Boolean(a))||t.policy!==Ae.POLICY_DISABLED&&Boolean(e.publicKey)}isResetEnabled(){return this.props.adminAccountRecoveryContext.hasPolicyChanges()}get translate(){return this.props.t}render(){return s.createElement("div",{className:"col2_3 actions-wrapper"},s.createElement("div",{className:"actions"},s.createElement("div",null,s.createElement("li",null,s.createElement("a",{className:"button "+(this.isSaveEnabled()?"":"disabled"),onClick:this.handleSaveClick},s.createElement(G,{name:"save"}),s.createElement("span",null,s.createElement(v.c,null,"Save settings"))))),s.createElement("div",null,s.createElement("li",null,s.createElement("a",{className:"button "+(this.isResetEnabled()?"":"disabled"),onClick:this.handleEditSubscriptionClick},s.createElement(G,{name:"edit"}),s.createElement("span",null,s.createElement(v.c,null,"Reset settings")))))))}}At.propTypes={adminAccountRecoveryContext:i().object,workflowContext:i().any,t:i().func};const It=function(e){return class extends s.Component{render(){return s.createElement(wt.Consumer,null,(t=>s.createElement(e,Et({workflowContext:t},this.props))))}}}(vt((0,E.Z)("common")(At)));class Tt extends s.Component{constructor(e){super(e),this.bindCallback()}bindCallback(){this.handleClick=this.handleClick.bind(this)}handleClick(){this.props.onClick(this.props.name)}render(){return s.createElement("li",{className:"tab "+(this.props.isActive?"active":"")},s.createElement("a",{className:"tab-link",onClick:this.handleClick},this.props.name))}}Tt.propTypes={name:i().string,type:i().string,isActive:i().bool,onClick:i().func,children:i().any};const Ut=Tt;class zt extends s.Component{constructor(e){super(e),this.state=this.getDefaultState(e),this.bindCallback()}getDefaultState(e){return{activeTabName:e.activeTabName}}bindCallback(){this.handleTabClick=this.handleTabClick.bind(this)}handleTabClick(e){this.setState({activeTabName:e.name}),"function"==typeof e.onClick&&e.onClick()}render(){return s.createElement("div",{className:"tabs"},s.createElement("ul",{className:"tabs-nav tabs-nav--bordered"},this.props.children.map((({key:e,props:t})=>s.createElement(Ut,{key:e,name:t.name,onClick:()=>this.handleTabClick(t),isActive:t.name===this.state.activeTabName})))),s.createElement("div",{className:"tabs-active-content"},this.props.children.find((e=>e.props.name===this.state.activeTabName)).props.children))}}zt.propTypes={activeTabName:i().string,children:i().any};const Dt=zt;class Pt extends s.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks(),this.createInputRef()}get defaultState(){return{processing:!1,key:"",keyError:"",hasAlreadyBeenValidated:!1,selectedFile:null}}bindCallbacks(){this.handleSelectFile=this.handleSelectFile.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleSelectOrganizationKeyFile=this.handleSelectOrganizationKeyFile.bind(this)}createInputRef(){this.keyInputRef=s.createRef(),this.fileUploaderRef=s.createRef()}async handleSelectOrganizationKeyFile(e){const[t]=e.target.files,a=await this.readOrganizationKeyFile(t);this.setState({key:a,selectedFile:t})}readOrganizationKeyFile(e){const t=new FileReader;return new Promise(((a,s)=>{t.onloadend=()=>{try{a(t.result)}catch(e){s(e)}},t.readAsText(e)}))}async validateKeyInput(){const e=this.state.key.trim();return""===e?Promise.reject(new Error(this.translate("The key can't be empty."))):await this.props.context.port.request("passbolt.account-recovery.validate-organization-key",e)}async validate(){return this.setState({keyError:""}),await this.validateKeyInput().then((()=>!0)).catch((e=>(this.setState({keyError:e.message}),!1)))}handleInputChange(e){const t=e.target;this.setState({[t.name]:t.value})}handleSelectFile(){this.fileUploaderRef.current.click()}async handleFormSubmit(e){e.preventDefault(),this.state.processing||await this.save()}async save(){if(await this.setState({hasAlreadyBeenValidated:!0}),await this.toggleProcessing(),!await this.validate())return this.handleValidateError(),void await this.toggleProcessing();await this.props.onUpdateOrganizationKey(this.state.key.trim())}handleValidateError(){this.focusFieldError()}focusFieldError(){this.state.keyError&&this.keyInputRef.current.focus()}async toggleProcessing(){await this.setState({processing:!this.state.processing})}hasAllInputDisabled(){return this.state.processing}get translate(){return this.props.t}get selectedFilename(){return this.state.selectedFile?this.state.selectedFile.name:""}render(){return s.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},s.createElement("div",{className:"form-content import-organization-key"},s.createElement("div",{className:"input textarea required "+(this.state.keyError?"error":"")},s.createElement("label",{htmlFor:"organization-recover-form-key"},s.createElement(v.c,null,"Import an OpenPGP Public key")),s.createElement("textarea",{id:"organization-recover-form-key",name:"key",value:this.state.key,onKeyUp:this.handleKeyInputKeyUp,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),ref:this.keyInputRef,className:"required",placeholder:"Add Open PGP Public key",required:"required",autoComplete:"off",autoFocus:!0})),s.createElement("div",{className:"input-file-chooser-wrapper"},s.createElement("input",{type:"file",ref:this.fileUploaderRef,disabled:this.hasAllInputDisabled(),onChange:this.handleSelectOrganizationKeyFile}),s.createElement("div",{className:"input text"},s.createElement("label",{htmlFor:"dialog-import-private-key"},s.createElement(v.c,null,"Select a file to import")),s.createElement("div",{className:"input-file-inline"},s.createElement("input",{type:"text",disabled:!0,placeholder:this.translate("No file selected"),defaultValue:this.selectedFilename}),s.createElement("a",{className:"button primary "+(this.hasAllInputDisabled()?"disabled":""),onClick:this.handleSelectFile},s.createElement(G,{name:"upload-a"}),s.createElement("span",null,s.createElement(v.c,null,"Choose a file")))),this.state.keyError&&s.createElement("div",{className:"key error-message"},this.state.keyError)))),!this.state.hasAlreadyBeenValidated&&s.createElement("div",{className:"message notice"},s.createElement(G,{baseline:!0,name:"info-circle"}),s.createElement("strong",null,s.createElement(v.c,null,"Pro tip"),":")," ",s.createElement(v.c,null,"Learn how to ",s.createElement("a",{href:"https://help.passbolt.com/hosting/install/ce/from-source.html#generate-an-openpgp-key",target:"_blank",rel:"noopener noreferrer"},"generate a key separately."))),s.createElement("div",{className:"submit-wrapper clearfix"},s.createElement(ot,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Apply")}),s.createElement(Y,{disabled:this.hasAllInputDisabled(),onClick:this.props.onClose})))}}Pt.propTypes={context:i().object,onUpdateOrganizationKey:i().func,onClose:i().func,t:i().func};const _t=A((0,E.Z)("common")(Pt));class Ot extends s.Component{render(){return s.createElement("span",{className:"tooltip tooltip-right","data-tooltip":this.props.message},s.createElement(G,{name:this.props.icon}))}}Ot.defaultProps={icon:"warning"},Ot.propTypes={icon:i().string,message:i().string};const Ft=Ot,Kt={"en-UK":["abdominal","acclimate","accompany","activator","acuteness","aerospace","affecting","affection","affidavit","affiliate","afflicted","afterglow","afterlife","aftermath","aftermost","afternoon","aggregate","agonizing","agreeable","agreeably","agreement","alabaster","albatross","algorithm","alienable","alongside","amazingly","ambiguity","ambiguous","ambitious","ambulance","amendable","amendment","amplifier","amusement","anaerobic","anatomist","angelfish","angriness","anguished","animating","animation","animosity","announcer","answering","antarctic","anthology","antiquely","antiquity","antitoxic","antitrust","antiviral","antivirus","appealing","appeasing","appendage","appetizer","appliance","applicant","appointee","appraisal","appraiser","apprehend","arbitrary","arbitrate","armadillo","arrogance","ascension","ascertain","asparagus","astrology","astronaut","astronomy","atrocious","attendant","attention","attentive","attractor","attribute","audacious","augmented","authentic","autograph","automaker","automated","automatic","autopilot","available","avalanche","backboard","backboned","backfield","backlands","backlight","backpedal","backshift","backspace","backstage","backtrack","backwater","bacterium","bagginess","balancing","bannister","barometer","barracuda","barricade","bartender","basically","battalion","battering","blanching","blandness","blaspheme","blasphemy","blatantly","blunderer","bodacious","boogeyman","boogieman","boondocks","borrowing","botanical","boundless","bountiful","breeching","brilliant","briskness","broadband","broadcast","broadness","broadside","broadways","bronchial","brownnose","brutishly","buccaneer","bucktooth","buckwheat","bulginess","bulldozer","bullfight","bunkhouse","cabdriver","calculate","calibrate","camcorder","canopener","capillary","capricorn","captivate","captivity","cardboard","cardstock","carefully","caregiver","caretaker","carnation","carnivore","carpenter","carpentry","carrousel","cartridge","cartwheel","catatonic","catchable","cathedral","cattishly","caucasian","causation","cauterize","celestial","certainly","certainty","certified","challenge","chamomile","chaperone","character","charbroil","chemicals","cherisher","chihuahua","childcare","childhood","childless","childlike","chokehold","circulate","clamshell","clergyman","clubhouse","clustered","coagulant","coastland","coastline","cofounder","cognition","cognitive","coherence","collected","collector","collision","commodity","commodore","commotion","commuting","compacted","compacter","compactly","compactor","companion","component","composite","composure","comprised","computing","concerned","concierge","condiment","condition","conducive","conductor","confidant","confident","confiding","configure","confining","confusing","confusion","congenial","congested","conjoined","connected","connector","consensus","consoling","consonant","constable","constrain","constrict","construct","consuming","container","contented","contently","contusion","copartner","cornbread","cornfield","cornflake","cornstalk","corporate","corroding","corrosive","cosmetics","cosponsor","countable","countdown","countless","crabgrass","craftsman","craftwork","cranberry","craziness","creamlike","creatable","crestless","crispness","crudeness","cruelness","crummiest","crunching","crushable","cubbyhole","culminate","cultivate","cupbearer","curliness","curvature","custodian","customary","customize","cytoplasm","cytoplast","dandelion","daredevil","darkening","darwinism","dastardly","deafening","dealmaker","debatable","decathlon","deceiving","deception","deceptive","decidable","decimeter","decompose","decorated","decorator","dedicator","defection","defective","defendant","defensive","deflation","deflected","deflector","degrading","dehydrate","delegator","delicious","delighted","delirious","deliverer","demanding","demeaning","democracy","demystify","denatured","deodorant","deodorize","departure","depletion","depravity","deprecate","desecrate","deserving","designate","designing","deskbound","destitute","detection","detective","detention","detergent","detonator","deviation","devotedly","devouring","dexterity","dexterous","diagnoses","diagnosis","diaphragm","dictation","difficult","diffusion","diffusive","diligence","dinginess","direction","directive","directory","dirtiness","disbelief","discharge","discourse","disengage","disfigure","disinfect","disliking","dislocate","dismantle","disparate","disparity","dispersal","dispersed","disperser","displease","disregard","dividable","divisible","divisibly","dizziness","dollhouse","doorframe","dormitory","dragonfly","dragonish","drainable","drainpipe","dramatize","dreadlock","dreamboat","dreamland","dreamless","dreamlike","drinkable","drop-down","dubiously","duplicate","duplicity","dwindling","earthlike","earthling","earthworm","eastbound","eastcoast","eccentric","ecologist","economist","ecosphere","ecosystem","education","effective","efficient","eggbeater","egomaniac","egotistic","elaborate","eldercare","electable","elevating","elevation","eliminate","elongated","eloquence","elsewhere","embattled","embellish","embroider","emergency","emphasize","empirical","emptiness","enactment","enchanted","enchilada","enclosure","encounter","encourage","endearing","endocrine","endorphin","endowment","endurable","endurance","energetic","engraving","enigmatic","enjoyable","enjoyably","enjoyment","enlarging","enlighten","entangled","entertain","entourage","enunciate","epidermal","epidermis","epileptic","equipment","equivocal","eradicate","ergonomic","escalator","escapable","esophagus","espionage","essential","establish","estimator","estranged","ethically","euphemism","evaluator","evaporate","everglade","evergreen","everybody","evolution","excavator","exceeding","exception","excitable","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","exemplary","exemplify","exemption","exerciser","exfoliate","exonerate","expansion","expansive","expectant","expedited","expediter","expensive","expletive","exploring","exposable","expulsion","exquisite","extending","extenuate","extortion","extradite","extrovert","extruding","exuberant","facecloth","faceplate","facsimile","factsheet","fanciness","fantasize","fantastic","favorable","favorably","ferocious","festivity","fidgeting","financial","finishing","flagstick","flagstone","flammable","flashback","flashbulb","flashcard","flattered","flatterer","flavorful","flavoring","footboard","footprint","fragility","fragrance","fraternal","freemason","freestyle","freezable","frequency","frightful","frigidity","frivolous","frostbite","frostlike","frugality","frustrate","gainfully","gallantly","gallstone","galvanize","gathering","gentleman","geography","geologist","geometric","geriatric","germicide","germinate","germproof","gestation","gibberish","giddiness","gigahertz","gladiator","glamorous","glandular","glorified","glorifier","glutinous","goldsmith","goofiness","graceless","gradation","gradually","grappling","gratified","gratitude","graveness","graveyard","gravitate","greedless","greyhound","grievance","grimacing","griminess","grumbling","guacamole","guileless","gumminess","habitable","hamburger","hamstring","handbrake","handclasp","handcraft","handiness","handiwork","handlebar","handprint","handsfree","handshake","handstand","handwoven","handwrite","hankering","haphazard","happening","happiness","hardcover","hardening","hardiness","hardwired","harmonica","harmonics","harmonize","hastiness","hatchback","hatchling","headboard","headcount","headdress","headfirst","headphone","headpiece","headscarf","headstand","headstone","heaviness","heftiness","hemstitch","herbicide","hesitancy","humiliate","humongous","humorless","hunchback","hundredth","hurricane","huskiness","hydration","hydroxide","hyperlink","hypertext","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","idealness","identical","illicitly","imaginary","imitation","immersion","immorally","immovable","immovably","impatient","impending","imperfect","implement","implicate","implosion","implosive","important","impotence","impotency","imprecise","impromptu","improving","improvise","imprudent","impulsive","irregular","irritable","irritably","isolating","isolation","italicize","itinerary","jackknife","jailbreak","jailhouse","jaywalker","jeeringly","jockstrap","jolliness","joylessly","jubilance","judgingly","judiciary","juiciness","justifier","kilometer","kinswoman","laborious","landowner","landscape","landslide","lankiness","legislate","legwarmer","lethargic","levitator","liability","librarian","limelight","litigator","livestock","lubricant","lubricate","luckiness","lucrative","ludicrous","luminance","lumpiness","lunchroom","lunchtime","luridness","lustfully","lustiness","luxurious","lyrically","machinist","magnesium","magnetism","magnetize","magnifier","magnitude","majorette","makeshift","malformed","mammogram","mandatory","manhandle","manicotti","manifesto","manliness","marauding","margarine","margarita","marmalade","marshland","marsupial","marvelous","masculine","matchbook","matchless","maternity","matriarch","matrimony","mayflower","modulator","moistness","molecular","monastery","moneybags","moneyless","moneywise","monologue","monstrous","moodiness","moonlight","moonscape","moonshine","moonstone","morbidity","mortality","mortician","mortified","mothproof","motivator","motocross","mountable","mousiness","moustache","multitask","multitude","mummified","municipal","murkiness","murmuring","mushiness","muskiness","mustiness","mutilated","mutilator","mystified","nanometer","nastiness","navigator","nebulizer","neglector","negligent","negotiate","neurology","ninetieth","numerator","nuttiness","obedience","oblivious","obnoxious","obscurity","observant","observing","obsession","obsessive","obstinate","obtrusive","occultist","occupancy","onslaught","operating","operation","operative","oppressed","oppressor","opulently","outnumber","outplayed","outskirts","outsource","outspoken","overblown","overboard","overbuilt","overcrowd","overdraft","overdrawn","overdress","overdrive","overeager","overeater","overexert","overgrown","overjoyed","overlabor","overlying","overnight","overplant","overpower","overprice","overreach","overreact","overshoot","oversight","oversized","oversleep","overspend","overstate","overstock","overstuff","oversweet","overthrow","overvalue","overwrite","oxidation","oxidizing","pacemaker","palatable","palpitate","panhandle","panoramic","pantomime","pantyhose","paparazzi","parachute","paragraph","paralegal","paralyses","paralysis","paramedic","parameter","paramount","parasitic","parchment","partition","partridge","passenger","passivism","patchwork","paternity","patriarch","patronage","patronize","pavestone","pediatric","pedometer","penholder","penniless","pentagram","percolate","perennial","perfected","perfectly","periscope","perkiness","perpetual","perplexed","persecute","persevere","persuaded","persuader","pessimism","pessimist","pesticide","petroleum","petticoat","pettiness","phonebook","phoniness","phosphate","plausible","plausibly","playgroup","playhouse","playmaker","plaything","plentiful","plexiglas","plutonium","pointless","polyester","polygraph","porcupine","portfolio","postnasal","powdering","prankster","preaching","precision","predefine","preflight","preformed","pregnancy","preheated","prelaunch","preoccupy","preschool","prescribe","preseason","president","presuming","pretended","pretender","prevalent","prewashed","primarily","privatize","proactive","probation","probiotic","procedure","procreate","profanity","professed","professor","profusely","prognosis","projector","prolonged","promenade","prominent","promotion","pronounce","proofread","propeller","proponent","protector","prototype","protozoan","providing","provoking","provolone","proximity","prudishly","publisher","pulmonary","pulverize","punctuate","punctured","pureblood","purgatory","purposely","pursuable","pushchair","pushiness","pyromania","qualified","qualifier","quartered","quarterly","quickness","quicksand","quickstep","quintuple","quizzical","quotation","radiantly","radiation","rancidity","ravishing","reacquire","reanalyze","reappoint","reapprove","rearrange","rebalance","recapture","recharger","recipient","reclining","reclusive","recognize","recollect","reconcile","reconfirm","reconvene","rectangle","rectified","recycling","reexamine","referable","reference","refinance","reflected","reflector","reformist","refueling","refurbish","refurnish","refutable","registrar","regretful","regulator","rehydrate","reimburse","reiterate","rejoicing","relapsing","relatable","relenting","relieving","reluctant","remindful","remission","remodeler","removable","rendering","rendition","renewable","renewably","renovator","repackage","repacking","repayment","repossess","repressed","reprimand","reprocess","reproduce","reprogram","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","requisite","reshuffle","residence","residency","resilient","resistant","resisting","resurface","resurrect","retaining","retaliate","retention","retrieval","retriever","reverence","reversing","reversion","revisable","revivable","revocable","revolving","riverbank","riverboat","riverside","rockiness","rockslide","roundness","roundworm","runaround","sacrament","sacrifice","saddlebag","safeguard","safehouse","salvaging","salvation","sanctuary","sandblast","sandpaper","sandstone","sandstorm","sanitizer","sappiness","sarcastic","sasquatch","satirical","satisfied","sauciness","saxophone","scapegoat","scarecrow","scariness","scavenger","schematic","schilling","scientist","scorebook","scorecard","scoreless","scoundrel","scrambled","scrambler","scrimmage","scrounger","sculpture","secluding","seclusion","sectional","selection","selective","semicolon","semifinal","semisweet","sensation","sensitive","sensitize","sensually","september","sequester","serotonin","sevenfold","seventeen","shadiness","shakiness","sharpener","sharpness","shiftless","shininess","shivering","shortcake","shorthand","shortlist","shortness","shortwave","showpiece","showplace","shredding","shrubbery","shuffling","silliness","similarly","simmering","sincerity","situation","sixtyfold","skedaddle","skintight","skyrocket","slackness","slapstick","sliceable","slideshow","slighting","slingshot","slouching","smartness","smilingly","smokeless","smokiness","smuggling","snowboard","snowbound","snowdrift","snowfield","snowflake","snowiness","snowstorm","spearfish","spearhead","spearmint","spectacle","spectator","speculate","spellbind","spendable","spherical","spiritism","spiritual","splashing","spokesman","spotlight","sprinkled","sprinkler","squatting","squealing","squeamish","squeezing","squishier","stability","stabilize","stainable","stainless","stalemate","staleness","starboard","stargazer","starlight","startling","statistic","statutory","steadfast","steadying","steerable","steersman","stegosaur","sterility","sterilize","sternness","stiffness","stillness","stimulant","stimulate","stipulate","stonewall","stoneware","stonework","stoplight","stoppable","stopwatch","storeroom","storewide","straggler","straining","strangely","strategic","strenuous","strongbox","strongman","structure","stumbling","stylishly","subarctic","subatomic","subdivide","subheader","submarine","submersed","submitter","subscribe","subscript","subsector","subsiding","subsidize","substance","subsystem","subwoofer","succulent","suffering","suffocate","sulphuric","superbowl","superglue","superhero","supernova","supervise","supremacy","surcharge","surfacing","surfboard","surrender","surrogate","surviving","sustained","sustainer","swaddling","swampland","swiftness","swimmable","symphonic","synthesis","synthetic","tableware","tackiness","taekwondo","tarantula","tastiness","theatrics","thesaurus","thickness","thirstily","thirsting","threefold","throbbing","throwaway","throwback","thwarting","tightness","tightrope","tinderbox","tiptoeing","tradition","trailside","transform","translate","transpire","transport","transpose","trapezoid","treachery","treadmill","trembling","tribesman","tributary","trickster","trifocals","trimester","troubling","trustable","trustless","turbulent","twentieth","twiddling","twistable","ultimatum","umbilical","unabashed","unadorned","unadvised","unaligned","unaltered","unarmored","unashamed","unaudited","unbalance","unblended","unblessed","unbounded","unbraided","unbuckled","uncertain","unchanged","uncharted","unclaimed","unclamped","unclothed","uncolored","uncorrupt","uncounted","uncrushed","uncurious","undamaged","undaunted","undecided","undefined","undercoat","undercook","underdone","underfeed","underfoot","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underrate","undertake","undertone","undertook","underwear","underwent","underwire","undesired","undiluted","undivided","undrafted","undrilled","uneatable","unelected","unengaged","unethical","unexpired","unexposed","unfailing","unfeeling","unfitting","unfixable","unfocused","unfounded","unfrosted","ungreased","unguarded","unhappily","unhealthy","unhearing","unhelpful","unhitched","uniformed","uniformly","unimpeded","uninjured","uninstall","uninsured","uninvited","unisexual","universal","unknotted","unknowing","unlearned","unleveled","unlighted","unlikable","unlimited","unlivable","unlocking","unlovable","unluckily","unmanaged","unmasking","unmatched","unmindful","unmixable","unmovable","unnamable","unnatural","unnerving","unnoticed","unopposed","unpainted","unpiloted","unplanned","unplanted","unpleased","unpledged","unpopular","unraveled","unreached","unreeling","unrefined","unrelated","unretired","unrevised","unrivaled","unroasted","unruffled","unscathed","unscented","unsecured","unselfish","unsettled","unshackle","unsheathe","unshipped","unsightly","unskilled","unspoiled","unstaffed","unstamped","unsterile","unstirred","unstopped","unstuffed","unstylish","untainted","untangled","untoasted","untouched","untracked","untrained","untreated","untrimmed","unvarying","unveiling","unvisited","unwarlike","unwatched","unwelcome","unwilling","unwitting","unwomanly","unworldly","unworried","unwrapped","unwritten","upcountry","uplifting","urologist","uselessly","vagrantly","vagueness","valuables","vaporizer","vehicular","veneering","ventricle","verbalize","vertebrae","viability","viewpoint","vindicate","violation","viscosity","vivacious","vividness","wackiness","washbasin","washboard","washcloth","washhouse","washstand","whimsical","wieldable","wikipedia","willfully","willpower","wolverine","womanhood","womankind","womanless","womanlike","worrisome","worsening","worshiper","wrongdoer","wrongness","yesterday","zestfully","zigzagged","zookeeper","zoologist","abnormal","abrasion","abrasive","abruptly","absentee","absently","absinthe","absolute","abstract","accuracy","accurate","accustom","achiness","acquaint","activate","activism","activist","activity","aeration","aerobics","affected","affluent","aflutter","agnostic","agreeing","alienate","alkaline","alkalize","almighty","alphabet","although","altitude","aluminum","amaretto","ambiance","ambition","amicably","ammonium","amniotic","amperage","amusable","anaconda","aneurism","animator","annotate","annoying","annually","anointer","anteater","antelope","antennae","antibody","antidote","antihero","antiques","antirust","anyplace","anything","anywhere","appendix","appetite","applause","approach","approval","aptitude","aqueduct","ardently","arguable","arguably","armchair","arrogant","aspirate","astonish","atlantic","atonable","attendee","attitude","atypical","audacity","audience","audition","autistic","avenging","aversion","aviation","babbling","backache","backdrop","backfire","backhand","backlash","backless","backpack","backrest","backroom","backside","backslid","backspin","backstab","backtalk","backward","backwash","backyard","bacteria","baffling","baguette","bakeshop","balsamic","banister","bankable","bankbook","banknote","bankroll","barbecue","bargraph","baritone","barrette","barstool","barterer","battered","blatancy","blighted","blinking","blissful","blizzard","bloating","bloomers","blooming","blustery","boastful","boasting","bondless","bonehead","boneless","bonelike","bootlace","borrower","botanist","bottling","bouncing","bounding","breeches","breeding","brethren","broiling","bronzing","browbeat","browsing","bruising","brunette","brussels","bubbling","buckshot","buckskin","buddhism","buddhist","bullfrog","bullhorn","bullring","bullseye","bullwhip","bunkmate","busybody","cadillac","calamari","calamity","calculus","camisole","campfire","campsite","canister","cannabis","capacity","cardigan","cardinal","careless","carmaker","carnival","cartload","cassette","casually","casualty","catacomb","catalyst","catalyze","catapult","cataract","catching","catering","catfight","cathouse","cautious","cavalier","celibacy","celibate","ceramics","ceremony","cesarean","cesspool","chaffing","champion","chaplain","charcoal","charging","charting","chastise","chastity","chatroom","chatting","cheating","chewable","childish","chirping","chitchat","chivalry","chloride","chlorine","choosing","chowtime","cilantro","cinnamon","circling","circular","citation","clambake","clanking","clapping","clarinet","clavicle","clerical","climatic","clinking","closable","clothing","clubbing","clumsily","coasting","coauthor","coeditor","cogwheel","coherent","cohesive","coleslaw","coliseum","collapse","colonial","colonist","colonize","colossal","commence","commerce","composed","composer","compound","compress","computer","conceded","conclude","concrete","condense","confetti","confider","confined","conflict","confound","confront","confused","congrats","congress","conjuror","constant","consumer","contempt","contents","contrite","cornball","cornhusk","cornmeal","coronary","corporal","corridor","cosigner","counting","covenant","coveting","coziness","crabbing","crablike","crabmeat","cradling","craftily","crawfish","crawlers","crawling","crayfish","creasing","creation","creative","creature","credible","credibly","crescent","cresting","crewless","crewmate","cringing","crisping","criteria","crumpled","cruncher","crusader","crushing","cucumber","cufflink","culinary","culpable","cultural","customer","cylinder","daffodil","daintily","dallying","dandruff","dangling","daringly","darkened","darkness","darkroom","datebook","daughter","daunting","daybreak","daydream","daylight","dazzling","deafness","debating","debtless","deceased","deceiver","december","decipher","declared","decrease","dedicate","deepness","defacing","defender","deferral","deferred","defiance","defiling","definite","deflator","deforest","degraded","degrease","dejected","delegate","deletion","delicacy","delicate","delirium","delivery","delusion","demeanor","democrat","demotion","deniable","departed","deplored","depraved","deputize","deranged","designed","designer","deskwork","desolate","destruct","detached","detector","detonate","detoxify","deviancy","deviator","devotion","devourer","devoutly","diabetes","diabetic","diabolic","diameter","dictator","diffused","diffuser","dilation","diligent","diminish","directed","directly","direness","disabled","disagree","disallow","disarray","disaster","disburse","disclose","discolor","discount","discover","disgrace","dislodge","disloyal","dismount","disorder","dispatch","dispense","displace","disposal","disprove","dissuade","distance","distaste","distinct","distract","distress","district","distrust","dividend","dividers","dividing","divinely","divinity","division","divisive","divorcee","doctrine","document","domelike","domestic","dominion","dominoes","donation","doorbell","doorknob","doornail","doorpost","doorstep","doorstop","doubling","dragging","dragster","drainage","dramatic","dreadful","dreamily","drearily","drilling","drinking","dripping","drivable","driveway","dropkick","drowsily","duckbill","duckling","ducktail","dullness","dumpling","dumpster","duration","dwelling","dynamite","dyslexia","dyslexic","earphone","earpiece","earplugs","easiness","eastward","economic","edginess","educated","educator","eggplant","eggshell","election","elective","elephant","elevator","eligible","eligibly","elliptic","eloquent","embezzle","embolism","emission","emoticon","empathic","emphases","emphasis","emphatic","employed","employee","employer","emporium","encircle","encroach","endanger","endeared","endpoint","enduring","energize","enforced","enforcer","engaging","engraved","engraver","enjoying","enlarged","enlisted","enquirer","entering","enticing","entrench","entryway","envelope","enviable","enviably","envision","epidemic","epidural","epilepsy","epilogue","epiphany","equation","erasable","escalate","escapade","escapist","escargot","espresso","esteemed","estimate","estrogen","eternity","evacuate","evaluate","everyday","everyone","evidence","excavate","exchange","exciting","existing","exorcism","exorcist","expenses","expiring","explicit","exponent","exporter","exposure","extended","exterior","external","fabulous","facebook","facedown","faceless","facelift","facility","familiar","famished","fastball","fastness","favoring","favorite","felt-tip","feminine","feminism","feminist","feminize","fernlike","ferocity","festival","fiddling","fidelity","fiftieth","figurine","filtrate","finalist","finalize","fineness","finished","finisher","fiscally","flagpole","flagship","flanking","flannels","flashily","flashing","flatfoot","flatness","flattery","flatware","flatworm","flavored","flaxseed","flogging","flounder","flypaper","follicle","fondling","fondness","football","footbath","footgear","foothill","foothold","footless","footnote","footpath","footrest","footsore","footwear","footwork","founding","fountain","fraction","fracture","fragment","fragrant","freckled","freckles","freebase","freefall","freehand","freeload","freeness","freeware","freewill","freezing","frenzied","frequent","friction","frighten","frigidly","frostily","frosting","fructose","frugally","galleria","gambling","gangrene","gatherer","gauntlet","generous","genetics","geologic","geometry","geranium","germless","gigabyte","gigantic","giggling","giveaway","glancing","glaucoma","gleaming","gloating","gloomily","glorious","glowworm","goatskin","goldfish","goldmine","goofball","gorgeous","graceful","gracious","gradient","graduate","graffiti","grafting","granddad","grandkid","grandson","granular","gratuity","greasily","greedily","greeting","grieving","grievous","grinning","groggily","grooving","grudging","grueling","grumpily","guidable","guidance","gullible","gurgling","gyration","habitant","habitual","handball","handbook","handcart","handclap","handcuff","handgrip","handheld","handling","handmade","handpick","handrail","handwash","handwork","handyman","hangnail","hangover","happiest","hardcopy","hardcore","harddisk","hardened","hardener","hardhead","hardness","hardship","hardware","hardwood","harmless","hatchery","hatching","hazelnut","haziness","headache","headband","headgear","headlamp","headless","headlock","headrest","headroom","headsman","headwear","helpless","helpline","henchman","heritage","hesitant","hesitate","hexagram","huddling","humbling","humility","humorist","humorous","humpback","hungrily","huntress","huntsman","hydrated","hydrogen","hypnoses","hypnosis","hypnotic","idealism","idealist","idealize","identify","identity","ideology","ignition","illusion","illusive","imagines","imbecile","immature","imminent","immobile","immodest","immortal","immunity","immunize","impaired","impeding","imperial","implicit","impolite","importer","imposing","impotent","imprison","improper","impurity","irrigate","irritant","irritate","islamist","isolated","jailbird","jalapeno","jaundice","jingling","jokester","jokingly","joyfully","joystick","jubilant","judicial","juggling","junction","juncture","junkyard","justness","juvenile","kangaroo","keenness","kerchief","kerosene","kilobyte","kilogram","kilowatt","kindling","kindness","kissable","knapsack","knickers","laboring","labrador","ladylike","landfall","landfill","landlady","landless","landline","landlord","landmark","landmass","landmine","landside","language","latitude","latticed","lavender","laxative","laziness","lecturer","leggings","lethargy","leverage","levitate","licorice","ligament","likeness","likewise","limpness","linguini","linguist","linoleum","litigate","luckless","lukewarm","luminous","lunchbox","luncheon","lushness","lustrous","lyricism","lyricist","macarena","macaroni","magazine","magician","magnetic","magnolia","mahogany","majestic","majority","makeover","managing","mandarin","mandolin","manicure","manpower","marathon","marbling","marigold","maritime","massager","matchbox","matching","material","maternal","maturely","maturing","maturity","maverick","maximize","mobility","mobilize","modified","moisture","molasses","molecule","molehill","monetary","monetize","mongoose","monkhood","monogamy","monogram","monopoly","monorail","monotone","monotype","monoxide","monsieur","monument","moonbeam","moonlike","moonrise","moonwalk","morality","morbidly","morphine","morphing","mortally","mortuary","mothball","motivate","mountain","mounting","mournful","mulberry","multiple","multiply","mumbling","munchkin","muscular","mushroom","mutation","national","nativity","naturist","nautical","navigate","nearness","neatness","negation","negative","negligee","neurosis","neurotic","nickname","nicotine","nineteen","nintendo","numbness","numerate","numerous","nuptials","nutrient","nutshell","obedient","obituary","obligate","oblivion","observer","obsessed","obsolete","obstacle","obstruct","occupant","occupier","ointment","olympics","omission","omnivore","oncoming","onlooker","onscreen","operable","operator","opponent","opposing","opposite","outboard","outbound","outbreak","outburst","outclass","outdated","outdoors","outfield","outflank","outgoing","outhouse","outlying","outmatch","outreach","outright","outscore","outshine","outshoot","outsider","outsmart","outtakes","outthink","outweigh","overarch","overbill","overbite","overbook","overcast","overcoat","overcome","overcook","overfeed","overfill","overflow","overfull","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overkill","overlaid","overload","overlook","overlord","overpass","overplay","overrate","override","overripe","overrule","overshot","oversold","overstay","overstep","overtake","overtime","overtone","overture","overturn","overview","oxymoron","pacifier","pacifism","pacifist","paddling","palpable","pampered","pamperer","pamphlet","pancreas","pandemic","panorama","parabola","parakeet","paralyze","parasail","parasite","parmesan","passable","passably","passcode","passerby","passover","passport","password","pastrami","paternal","patience","pavement","pavilion","paycheck","payphone","peculiar","peddling","pedicure","pedigree","pegboard","penalize","penknife","pentagon","perceive","perjurer","peroxide","petition","phrasing","placidly","platform","platinum","platonic","platypus","playable","playback","playlist","playmate","playroom","playtime","pleading","plethora","plunging","pointing","politely","popsicle","populace","populate","porridge","portable","porthole","portside","possible","possibly","postcard","pouncing","powdered","praising","prancing","prankish","preacher","preamble","precinct","predator","pregnant","premiere","premises","prenatal","preorder","pretense","previous","prideful","princess","pristine","probable","probably","proclaim","procurer","prodigal","profound","progress","prologue","promoter","prompter","promptly","proofing","properly","property","proposal","protegee","protract","protrude","provable","provided","provider","province","prowling","punctual","punisher","purchase","purebred","pureness","purifier","purplish","pursuant","purveyor","pushcart","pushover","puzzling","quadrant","quaintly","quarters","quotable","radiance","radiated","radiator","railroad","rambling","reabsorb","reaction","reactive","reaffirm","reappear","rearview","reassign","reassure","reattach","reburial","rebuttal","reckless","recliner","recovery","recreate","recycled","recycler","reemerge","refinery","refining","refinish","reforest","reformat","reformed","reformer","refreeze","refusing","register","registry","regulate","rekindle","relation","relative","reliable","reliably","reliance","relocate","remedial","remember","reminder","removing","renderer","renegade","renounce","renovate","rentable","reoccupy","repaying","repeated","repeater","rephrase","reporter","reproach","resample","research","reselect","reseller","resemble","resident","residual","resigned","resolute","resolved","resonant","resonate","resource","resubmit","resupply","retainer","retiring","retorted","reusable","reverend","reversal","revision","reviving","revolver","richness","riddance","ripeness","ripening","rippling","riverbed","riveting","robotics","rockband","rockfish","rocklike","rockstar","roulette","rounding","roundish","rumbling","sabotage","saddling","safeness","salaried","salutary","sampling","sanction","sanctity","sandbank","sandfish","sandworm","sanitary","satiable","saturate","saturday","scalding","scallion","scalping","scanning","scarcity","scarring","schedule","scheming","schnapps","scolding","scorpion","scouring","scouting","scowling","scrabble","scraggly","scribble","scribing","scrubbed","scrubber","scrutiny","sculptor","secluded","securely","security","sedation","sedative","sediment","seducing","selected","selector","semantic","semester","semisoft","senorita","sensuous","sequence","serrated","sessions","settling","severity","shakable","shamrock","shelving","shifting","shoplift","shopping","shoptalk","shortage","shortcut","showcase","showdown","showgirl","showroom","shrapnel","shredder","shrewdly","shrouded","shucking","siberian","silenced","silencer","simplify","singular","sinister","situated","sixtieth","sizzling","skeletal","skeleton","skillful","skimming","skimpily","skincare","skinhead","skinless","skinning","skipping","skirmish","skydiver","skylight","slacking","slapping","slashing","slighted","slightly","slimness","slinging","slobbery","sloppily","smashing","smelting","smuggler","smugness","sneezing","snipping","snowbird","snowdrop","snowfall","snowless","snowplow","snowshoe","snowsuit","snugness","spearman","specimen","speckled","spectrum","spelling","spending","spinning","spinster","spirited","splashed","splatter","splendid","splendor","splicing","splinter","splotchy","spoilage","spoiling","spookily","sporting","spotless","spotting","spyglass","squabble","squander","squatted","squatter","squealer","squeegee","squiggle","squiggly","stagnant","stagnate","staining","stalling","stallion","stapling","stardust","starfish","starless","starring","starship","starting","starving","steadier","steadily","steering","sterling","stifling","stimulus","stingily","stinging","stingray","stinking","stoppage","stopping","storable","stowaway","straddle","strained","strainer","stranger","strangle","strategy","strength","stricken","striking","striving","stroller","strongly","struggle","stubborn","stuffing","stunning","sturdily","stylized","subduing","subfloor","subgroup","sublease","sublevel","submerge","subpanel","subprime","subsonic","subtitle","subtotal","subtract","sufferer","suffrage","suitable","suitably","suitcase","sulphate","superior","superjet","superman","supermom","supplier","sureness","surgical","surprise","surround","survival","survivor","suspense","swapping","swimming","swimsuit","swimwear","swinging","sycamore","sympathy","symphony","syndrome","synopses","synopsis","tableful","tackling","tactical","tactless","talisman","tameness","tapeless","tapering","tapestry","tartness","tattered","tattling","theology","theorize","thespian","thieving","thievish","thinness","thinning","thirteen","thousand","threaten","thriving","throttle","throwing","thumping","thursday","tidiness","tightwad","tingling","tinkling","tinsmith","traction","trailing","tranquil","transfer","trapdoor","trapping","traverse","travesty","treading","trespass","triangle","tribunal","trickery","trickily","tricking","tricolor","tricycle","trillion","trimming","trimness","tripping","trolling","trombone","tropical","trousers","trustful","trusting","tubeless","tumbling","turbofan","turbojet","tweezers","twilight","twisting","ultimate","umbrella","unafraid","unbeaten","unbiased","unbitten","unbolted","unbridle","unbroken","unbundle","unburned","unbutton","uncapped","uncaring","uncoated","uncoiled","uncombed","uncommon","uncooked","uncouple","uncurled","underage","underarm","undercut","underdog","underfed","underpay","undertow","underuse","undocked","undusted","unearned","uneasily","unedited","unending","unenvied","unfasten","unfilled","unfitted","unflawed","unframed","unfreeze","unfrozen","unfunded","unglazed","ungloved","ungraded","unguided","unharmed","unheated","unhidden","unicycle","uniquely","unissued","universe","unjustly","unlawful","unleaded","unlinked","unlisted","unloaded","unloader","unlocked","unlovely","unloving","unmanned","unmapped","unmarked","unmasked","unmolded","unmoving","unneeded","unopened","unpadded","unpaired","unpeeled","unpicked","unpinned","unplowed","unproven","unranked","unrented","unrigged","unrushed","unsaddle","unsalted","unsavory","unsealed","unseated","unseeing","unseemly","unselect","unshaken","unshaved","unshaven","unsigned","unsliced","unsmooth","unsocial","unsoiled","unsolved","unsorted","unspoken","unstable","unsteady","unstitch","unsubtle","unsubtly","unsuited","untagged","untapped","unthawed","unthread","untimely","untitled","unturned","unusable","unvalued","unvaried","unveiled","unvented","unviable","unwanted","unwashed","unwieldy","unworthy","upcoming","upheaval","uplifted","uprising","upstairs","upstream","upstroke","upturned","urethane","vacation","vagabond","vagrancy","vanquish","variable","variably","vascular","vaseline","vastness","velocity","vendetta","vengeful","venomous","verbally","vertical","vexingly","vicinity","viewable","viewless","vigorous","vineyard","violator","virtuous","viselike","visiting","vitality","vitalize","vitamins","vocalist","vocalize","vocation","volatile","washable","washbowl","washroom","waviness","whacking","whenever","whisking","whomever","whooping","wildcard","wildfire","wildfowl","wildland","wildlife","wildness","winnings","wireless","wisplike","wobbling","wreckage","wrecking","wrongful","yearbook","yearling","yearning","zeppelin","abdomen","abiding","ability","abreast","abridge","absence","absolve","abstain","acclaim","account","acetone","acquire","acrobat","acronym","actress","acutely","aerosol","affront","ageless","agility","agonize","aground","alfalfa","algebra","almanac","alright","amenity","amiable","ammonia","amnesty","amplify","amusing","anagram","anatomy","anchovy","ancient","android","angelic","angling","angrily","angular","animate","annuity","another","antacid","anthill","antonym","anybody","anymore","anytime","apostle","appease","applaud","applied","approve","apricot","armband","armhole","armless","armoire","armored","armrest","arousal","arrange","arrival","ashamed","aspirin","astound","astride","atrophy","attempt","auction","audible","audibly","average","aviator","awkward","backing","backlit","backlog","badland","badness","baggage","bagging","bagpipe","balance","balcony","banking","banshee","barbell","barcode","barista","barmaid","barrack","barrier","battery","batting","bazooka","blabber","bladder","blaming","blazing","blemish","blinked","blinker","bloated","blooper","blubber","blurred","boaster","bobbing","bobsled","bobtail","bolster","bonanza","bonding","bonfire","booting","bootleg","borough","boxlike","breeder","brewery","brewing","bridged","brigade","brisket","briskly","bristle","brittle","broaden","broadly","broiler","brought","budding","buffalo","buffing","buffoon","bulldog","bullion","bullish","bullpen","bunkbed","busload","cabbage","caboose","cadmium","cahoots","calcium","caliber","caloric","calorie","calzone","camping","candied","canning","canteen","capable","capably","capital","capitol","capsize","capsule","caption","captive","capture","caramel","caravan","cardiac","carless","carload","carnage","carpool","carport","carried","cartoon","carving","carwash","cascade","catalog","catcall","catcher","caterer","catfish","catlike","cattail","catwalk","causing","caution","cavalry","certify","chalice","chamber","channel","chapped","chapter","charger","chariot","charity","charred","charter","chasing","chatter","cheddar","chemist","chevron","chewing","choking","chooser","chowder","citable","citadel","citizen","clapped","clapper","clarify","clarity","clatter","cleaver","clicker","climate","clobber","cloning","closure","clothes","clubbed","clutter","coastal","coaster","cobbler","coconut","coexist","collage","collide","comfort","commend","comment","commode","commute","company","compare","compile","compost","comrade","concave","conceal","concept","concert","concise","condone","conduit","confess","confirm","conform","conical","conjure","consent","console","consult","contact","contend","contest","context","contort","contour","control","convene","convent","copilot","copious","corncob","coroner","correct","corrode","corsage","cottage","country","courier","coveted","coyness","crafter","cranial","cranium","craving","crazily","creamed","creamer","crested","crevice","crewman","cricket","crimson","crinkle","crinkly","crisped","crisply","critter","crouton","crowbar","crucial","crudely","cruelly","cruelty","crumpet","crunchy","crushed","crusher","cryptic","crystal","cubical","cubicle","culprit","culture","cupcake","cupping","curable","curator","curling","cursive","curtain","custard","custody","customs","cycling","cyclist","dancing","darkish","darling","dawdler","daycare","daylong","dayroom","daytime","dazzler","dealing","debrief","decency","decibel","decimal","decline","default","defense","defiant","deflate","defraud","defrost","delouse","density","dentist","denture","deplete","depress","deprive","derived","deserve","desktop","despair","despise","despite","destiny","detract","devalue","deviant","deviate","devious","devotee","diagram","dictate","dimness","dingbat","diocese","dioxide","diploma","dipping","disband","discard","discern","discuss","disdain","disjoin","dislike","dismiss","disobey","display","dispose","dispute","disrupt","distant","distill","distort","divided","dolphin","donated","donator","doorman","doormat","doorway","drained","drainer","drapery","drastic","dreaded","dribble","driller","driving","drizzle","drizzly","dropbox","droplet","dropout","dropper","duchess","ducking","dumping","durable","durably","dutiful","dwelled","dweller","dwindle","dynamic","dynasty","earache","eardrum","earflap","earlobe","earmark","earmuff","earring","earshot","earthen","earthly","easeful","easiest","eatable","eclipse","ecology","economy","edition","effects","egotism","elastic","elderly","elevate","elitism","ellipse","elusive","embargo","embassy","emblaze","emerald","emotion","empathy","emperor","empower","emptier","enclose","encrust","encrypt","endless","endnote","endorse","engaged","engorge","engross","enhance","enjoyer","enslave","ensnare","entitle","entrust","entwine","envious","episode","equator","equinox","erasure","erratic","esquire","essence","etching","eternal","ethanol","evacuee","evasion","evasive","evident","exalted","example","exclaim","exclude","exhaust","expanse","explain","explode","exploit","explore","express","extinct","extrude","faceted","faction","factoid","factual","faculty","failing","falsify","fanatic","fancied","fanfare","fanning","fantasy","fascism","fasting","favored","federal","fencing","ferment","festive","fiction","fidgety","fifteen","figment","filling","finally","finance","finicky","finless","finlike","flaccid","flagman","flakily","flanked","flaring","flatbed","flatten","flattop","fleshed","florist","flyable","flyaway","flyover","footage","footing","footman","footpad","footsie","founder","fragile","framing","frantic","fraying","freebee","freebie","freedom","freeing","freeway","freight","fretful","fretted","frisbee","fritter","frosted","gaining","gallery","gallows","gangway","garbage","garland","garment","garnish","gauging","generic","gentile","geology","gestate","gesture","getaway","getting","giddily","gimmick","gizzard","glacial","glacier","glamour","glaring","glazing","gleeful","gliding","glimmer","glimpse","glisten","glitter","gloater","glorify","glowing","glucose","glutton","goggles","goliath","gondola","gosling","grading","grafted","grandly","grandma","grandpa","granite","granola","grapple","gratify","grating","gravity","grazing","greeter","grimace","gristle","grouped","growing","gruffly","grumble","grumbly","guiding","gumball","gumdrop","gumming","gutless","guzzler","habitat","hacking","hacksaw","haggler","halogen","hammock","hamster","handbag","handful","handgun","handled","handler","handoff","handsaw","handset","hangout","happier","happily","hardhat","harmful","harmony","harness","harpist","harvest","hastily","hatchet","hatless","heading","headset","headway","heavily","heaving","hedging","helpful","helping","hemlock","heroics","heroism","herring","herself","hexagon","humming","hunting","hurling","hurried","husband","hydrant","iciness","ideally","imaging","imitate","immerse","impeach","implant","implode","impound","imprint","improve","impulse","islamic","isotope","issuing","italics","jackpot","janitor","january","jarring","jasmine","jawless","jawline","jaybird","jellied","jitters","jittery","jogging","joining","joyride","jugular","jujitsu","jukebox","juniper","junkman","justice","justify","karaoke","kindred","kinetic","kinfolk","kinship","kinsman","kissing","kitchen","kleenex","krypton","labored","laborer","ladybug","lagging","landing","lantern","lapping","latrine","launder","laundry","legible","legibly","legroom","legwork","leotard","letdown","lettuce","liberty","library","licking","lifting","liftoff","limeade","limping","linseed","liquefy","liqueur","livable","lividly","luckily","lullaby","lumping","lumpish","lustily","machine","magenta","magical","magnify","majesty","mammary","manager","manatee","mandate","manhole","manhood","manhunt","mankind","manlike","manmade","mannish","marbled","marbles","marital","married","marxism","mashing","massive","mastiff","matador","matcher","maximum","moaning","mobster","modular","moisten","mollusk","mongrel","monitor","monsoon","monthly","moocher","moonlit","morally","mortify","mounted","mourner","movable","mullets","mummify","mundane","mushily","mustang","mustard","mutable","myspace","mystify","napping","nastily","natural","nearest","nemeses","nemesis","nervous","neutron","nuclear","nucleus","nullify","numbing","numeral","numeric","nursery","nursing","nurture","nutcase","nutlike","obliged","obscure","obvious","octagon","october","octopus","ominous","onboard","ongoing","onshore","onstage","opacity","operate","opossum","osmosis","outback","outcast","outcome","outgrow","outlast","outline","outlook","outmost","outpost","outpour","outrage","outrank","outsell","outward","overact","overall","overbid","overdue","overfed","overlap","overlay","overpay","overrun","overtly","overuse","oxidant","oxidize","pacific","padding","padlock","pajamas","pampers","pancake","panning","panther","paprika","papyrus","paradox","parched","parking","parkway","parsley","parsnip","partake","parting","partner","passage","passing","passion","passive","pastime","pasture","patient","patriot","payable","payback","payment","payroll","pelican","penalty","pendant","pending","pennant","pension","percent","perfume","perjury","petunia","phantom","phoenix","phonics","placard","placate","planner","plaster","plastic","plating","platter","playful","playing","playoff","playpen","playset","pliable","plunder","plywood","pointed","pointer","polygon","polymer","popcorn","popular","portion","postage","postbox","posting","posture","postwar","pouring","powdery","pranker","praying","preachy","precise","precook","predict","preface","pregame","prelude","premium","prepaid","preplan","preshow","presoak","presume","preteen","pretext","pretzel","prevail","prevent","preview","primary","primate","privacy","private","probing","problem","process","prodigy","produce","product","profane","profile","progeny","program","propose","prorate","proving","provoke","prowess","prowler","pruning","psychic","pulsate","pungent","purging","puritan","pursuit","pushing","pushpin","putdown","pyramid","quaking","qualify","quality","quantum","quarrel","quartet","quicken","quickly","quintet","ragweed","railcar","railing","railway","ranging","ranking","ransack","ranting","rasping","ravioli","reactor","reapply","reawake","rebirth","rebound","rebuild","rebuilt","recital","reclaim","recluse","recolor","recount","rectify","reenact","reenter","reentry","referee","refined","refocus","refract","refrain","refresh","refried","refusal","regalia","regally","regress","regroup","regular","reissue","rejoice","relapse","related","relearn","release","reliant","relieve","relight","remarry","rematch","remnant","remorse","removal","removed","remover","renewal","renewed","reoccur","reorder","repaint","replace","replica","reprint","reprise","reptile","request","require","reroute","rescuer","reshape","reshoot","residue","respect","rethink","retinal","retired","retiree","retouch","retrace","retract","retrain","retread","retreat","retrial","retying","reunion","reunite","reveler","revenge","revenue","revered","reverse","revisit","revival","reviver","rewrite","ribcage","rickety","ricotta","rifling","rigging","rimless","rinsing","ripcord","ripping","riptide","risotto","ritalin","riveter","roaming","robbing","rocking","rotting","rotunda","roundup","routine","routing","rubbing","rubdown","rummage","rundown","running","rupture","sabbath","saddled","sadness","saffron","sagging","salvage","sandbag","sandbar","sandbox","sanding","sandlot","sandpit","sapling","sarcasm","sardine","satchel","satisfy","savanna","savings","scabbed","scalded","scaling","scallop","scandal","scanner","scarily","scholar","science","scooter","scoring","scoured","scratch","scrawny","scrooge","scruffy","scrunch","scuttle","secrecy","secular","segment","seismic","seizing","seltzer","seminar","senator","serpent","service","serving","setback","setting","seventh","seventy","shadily","shading","shakily","shaking","shallot","shallow","shampoo","shaping","sharper","sharpie","sharply","shelter","shifter","shimmer","shindig","shingle","shining","shopper","shorten","shorter","shortly","showbiz","showing","showman","showoff","shrivel","shudder","shuffle","siamese","sibling","sighing","silicon","sincere","singing","sinless","sinuous","sitting","sixfold","sixteen","sixties","sizable","sizably","skating","skeptic","skilled","skillet","skimmed","skimmer","skipper","skittle","skyline","skyward","slacked","slacker","slander","slashed","slather","slicing","sliding","sloping","slouchy","smartly","smasher","smashup","smitten","smoking","smolder","smother","snagged","snaking","snippet","snooper","snoring","snorkel","snowcap","snowman","snuggle","species","specked","speller","spender","spinach","spindle","spinner","spinout","spirits","splashy","splurge","spoiled","spoiler","sponsor","spotted","spotter","spousal","sputter","squeeze","squishy","stadium","staging","stained","stamina","stammer","stardom","staring","starlet","starlit","starter","startle","startup","starved","stature","statute","staunch","stellar","stencil","sterile","sternum","stiffen","stiffly","stimuli","stinger","stipend","stoning","stopped","stopper","storage","stowing","stratus","stretch","strudel","stubbed","stubble","stubbly","student","studied","stuffed","stumble","stunned","stunner","styling","stylist","subdued","subject","sublime","subplot","subside","subsidy","subsoil","subtext","subtype","subzero","suction","suffice","suggest","sulfate","sulfide","sulfite","support","supreme","surface","surgery","surging","surname","surpass","surplus","surreal","survive","suspect","suspend","swagger","swifter","swiftly","swimmer","swinger","swizzle","swooned","symptom","synapse","synergy","t-shirt","tabasco","tabloid","tacking","tactful","tactics","tactile","tadpole","tainted","tannery","tanning","tantrum","tapered","tapioca","tapping","tarnish","tasting","theater","thermal","thermos","thicken","thicket","thimble","thinner","thirsty","thrower","thyself","tidings","tighten","tightly","tigress","timothy","tinfoil","tinwork","tipping","tracing","tractor","trading","traffic","tragedy","traitor","trapeze","trapped","trapper","treason","trekker","tremble","tribune","tribute","triceps","trickle","trident","trilogy","trimmer","trinity","triumph","trivial","trodden","tropics","trouble","truffle","trustee","tubular","tucking","tuesday","tuition","turbine","turmoil","twiddle","twisted","twister","twitter","unaired","unawake","unaware","unbaked","unblock","unboxed","uncanny","unchain","uncheck","uncivil","unclasp","uncloak","uncouth","uncover","uncross","uncrown","uncured","undated","undergo","undoing","undress","undying","unearth","uneaten","unequal","unfazed","unfiled","unfixed","ungodly","unhappy","unheard","unhinge","unicorn","unified","unifier","unkempt","unknown","unlaced","unlatch","unleash","unlined","unloved","unlucky","unmixed","unmoral","unmoved","unnamed","unnerve","unpaved","unquote","unrated","unrobed","unsaved","unscrew","unstuck","unsworn","untaken","untamed","untaxed","untimed","untried","untruth","untwist","untying","unusual","unvocal","unweave","unwired","unwound","unwoven","upchuck","upfront","upgrade","upright","upriver","upscale","upstage","upstart","upstate","upswing","uptight","uranium","urgency","urology","useable","utensil","utility","utilize","vacancy","vaguely","valiant","vanilla","vantage","variety","various","varmint","varnish","varsity","varying","vending","venture","verbose","verdict","version","vertigo","veteran","victory","viewing","village","villain","vintage","violate","virtual","viscous","visible","visibly","visitor","vitally","vividly","vocally","voicing","voltage","volumes","voucher","walmart","wannabe","wanting","washday","washing","washout","washtub","wasting","whoever","whoopee","wielder","wildcat","willing","wincing","winking","wistful","womanly","worried","worrier","wrangle","wrecker","wriggle","wriggly","wrinkle","wrinkly","writing","written","wronged","wrongly","wrought","yanking","yapping","yelling","yiddish","zealous","zipfile","zipping","zoology","abacus","ablaze","abroad","absurd","accent","aching","acting","action","active","affair","affirm","afford","aflame","afloat","afraid","agency","agenda","aghast","agreed","aliens","almost","alumni","always","ambush","amends","amount","amulet","amused","amuser","anchor","anemia","anemic","angled","angler","angles","animal","anthem","antics","antler","anyhow","anyone","anyway","apache","appear","armful","arming","armory","around","arrest","arrive","ascend","ascent","asleep","aspect","aspire","astute","atrium","attach","attain","attest","attire","august","author","autism","avatar","avenge","avenue","awaken","awhile","awning","babble","babied","baboon","backed","backer","backup","badass","baffle","bagful","bagged","baggie","bakery","baking","bamboo","banana","banish","banked","banker","banner","banter","barbed","barber","barley","barman","barrel","basics","basket","batboy","battle","bauble","blazer","bleach","blinks","blouse","bluish","blurry","bobbed","bobble","bobcat","bogged","boggle","bonded","bonnet","bonsai","booted","bootie","boring","botany","bottle","bottom","bounce","bouncy","bovine","boxcar","boxing","breach","breath","breeze","breezy","bright","broken","broker","bronco","bronze","browse","brunch","bubble","bubbly","bucked","bucket","buckle","budget","buffed","buffer","bulgur","bundle","bungee","bunion","busboy","busily","cabana","cabbie","cackle","cactus","caddie","camera","camper","campus","canary","cancel","candle","canine","canned","cannon","cannot","canola","canopy","canyon","capped","carbon","carded","caress","caring","carrot","cartel","carton","casing","casino","casket","catchy","catnap","catnip","catsup","cattle","caucus","causal","caviar","cavity","celery","celtic","cement","census","chance","change","chaste","chatty","cheese","cheesy","cherub","chewer","chirpy","choice","choosy","chosen","chrome","chubby","chummy","cinema","circle","circus","citric","citrus","clammy","clamor","clause","clench","clever","client","clinic","clique","clover","clumsy","clunky","clutch","cobalt","cobweb","coerce","coffee","collar","collie","colony","coming","common","compel","comply","concur","copied","copier","coping","copper","cornea","corned","corner","corral","corset","cortex","cosmic","cosmos","cotton","county","cozily","cradle","crafty","crayon","crazed","crease","create","credit","creole","cringe","crispy","crouch","crummy","crying","cuddle","cuddly","cupped","curdle","curfew","curing","curled","curler","cursor","curtly","curtsy","cussed","cyclic","cymbal","dagger","dainty","dander","danger","dangle","dating","daybed","deacon","dealer","debate","debtor","debunk","decade","deceit","decent","decode","decree","deduce","deduct","deepen","deeply","deface","defame","defeat","defile","define","deftly","defuse","degree","delete","deluge","deluxe","demise","demote","denial","denote","dental","depict","deploy","deport","depose","deputy","derail","detail","detest","device","diaper","dicing","dilute","dimmed","dimmer","dimple","dinghy","dining","dinner","dipped","dipper","disarm","dismay","disown","diving","doable","docile","dollar","dollop","domain","doodle","dorsal","dosage","dotted","douche","dreamt","dreamy","dreary","drench","drippy","driven","driver","drudge","dubbed","duffel","dugout","duller","duplex","duress","during","earful","earthy","earwig","easily","easing","easter","eatery","eating","eclair","edging","editor","effort","egging","eggnog","either","elated","eldest","eleven","elixir","embark","emblem","embody","emboss","enable","enamel","encode","encore","ending","energy","engine","engulf","enrage","enrich","enroll","ensure","entail","entire","entity","entomb","entrap","entree","enzyme","equate","equity","erased","eraser","errand","errant","eskimo","estate","ethics","evolve","excess","excuse","exhale","exhume","exodus","expand","expend","expert","expire","expose","extent","extras","fabric","facial","facing","factor","fading","falcon","family","famine","faster","faucet","fedora","feeble","feisty","feline","fender","ferret","ferris","fervor","fester","fiddle","figure","filing","filled","filler","filter","finale","finite","flashy","flatly","fleshy","flight","flinch","floral","flying","follow","fondly","fondue","footer","fossil","foster","frayed","freely","french","frenzy","friday","fridge","friend","fringe","frolic","frosty","frozen","frying","galley","gallon","galore","gaming","gander","gangly","garage","garden","gargle","garlic","garnet","garter","gating","gazing","geiger","gender","gently","gerbil","giblet","giggle","giggly","gigolo","gilled","girdle","giving","gladly","glance","glider","glitch","glitzy","gloomy","gluten","gnarly","google","gopher","gorged","gossip","gothic","gotten","graded","grader","granny","gravel","graves","greedy","grinch","groggy","groove","groovy","ground","grower","grudge","grunge","gurgle","gutter","hacked","hacker","halved","halves","hamlet","hamper","handed","hangup","hankie","harbor","hardly","hassle","hatbox","hatred","hazard","hazily","hazing","headed","header","helium","helmet","helper","herald","herbal","hermit","hubcap","huddle","humble","humbly","hummus","humped","humvee","hunger","hungry","hunter","hurdle","hurled","hurler","hurray","husked","hybrid","hyphen","idiocy","ignore","iguana","impale","impart","impish","impose","impure","iodine","iodize","iphone","itunes","jackal","jacket","jailer","jargon","jersey","jester","jigsaw","jingle","jockey","jogger","jovial","joyous","juggle","jumble","junior","junkie","jurist","justly","karate","keenly","kennel","kettle","kimono","kindle","kindly","kisser","kitten","kosher","ladder","ladies","lagged","lagoon","landed","lapdog","lapped","laptop","lather","latter","launch","laurel","lavish","lazily","legacy","legend","legged","legume","length","lesser","letter","levers","liable","lifter","likely","liking","lining","linked","liquid","litmus","litter","little","lively","living","lizard","lugged","lumber","lunacy","lushly","luster","luxury","lyrics","maggot","maimed","making","mammal","manger","mangle","manila","manned","mantis","mantra","manual","margin","marina","marine","marlin","maroon","marrow","marshy","mascot","mashed","masses","mating","matrix","matron","matted","matter","mayday","moaner","mobile","mocker","mockup","modify","module","monday","mooing","mooned","morale","mosaic","motion","motive","moving","mowing","mulled","mumble","muppet","museum","musket","muster","mutate","mutiny","mutual","muzzle","myself","naming","napkin","napped","narrow","native","nature","nearby","nearly","neatly","nebula","nectar","negate","nephew","neuron","neuter","nibble","nimble","nimbly","nuclei","nugget","number","numbly","nutmeg","nuzzle","object","oblong","obtain","obtuse","occupy","ocelot","octane","online","onward","oppose","outage","outbid","outfit","outing","outlet","output","outwit","oxford","oxygen","oyster","pacify","padded","paddle","paging","palace","paltry","panama","pantry","papaya","parade","parcel","pardon","parish","parlor","parole","parrot","parted","partly","pasted","pastel","pastor","patchy","patrol","pauper","paving","pawing","payday","paying","pebble","pebbly","pectin","pellet","pelvis","pencil","penpal","perish","pester","petite","petted","phobia","phoney","phrase","plasma","plated","player","pledge","plenty","plural","pointy","poison","poking","police","policy","polish","poncho","poplar","popper","porous","portal","portly","posing","possum","postal","posted","poster","pounce","powwow","prance","prayer","precut","prefix","prelaw","prepay","preppy","preset","pretty","prewar","primal","primer","prison","prissy","pronto","proofs","proton","proved","proven","prozac","public","pucker","pueblo","pumice","pummel","puppet","purely","purify","purist","purity","purple","pusher","pushup","puzzle","python","quarry","quench","quiver","racing","racism","racoon","radial","radish","raffle","ragged","raging","raider","raisin","raking","ramble","ramrod","random","ranged","ranger","ranked","rarity","rascal","ravage","ravine","raving","reason","rebate","reboot","reborn","rebuff","recall","recant","recast","recede","recent","recess","recite","recoil","recopy","record","recoup","rectal","refill","reflex","reflux","refold","refund","refuse","refute","regain","reggae","regime","region","reheat","rehire","rejoin","relish","relive","reload","relock","remake","remark","remedy","remold","remote","rename","rental","rented","renter","reopen","repair","repave","repeal","repent","replay","repose","repost","resale","reseal","resend","resent","resize","resort","result","resume","retail","retake","retold","retool","return","retype","reveal","reverb","revert","revise","revoke","revolt","reward","rewash","rewind","rewire","reword","rework","rewrap","ribbon","riches","richly","ridden","riding","rimmed","ripple","rising","roamer","robust","rocker","rocket","roping","roster","rotten","roving","rubbed","rubber","rubble","ruckus","rudder","ruined","rumble","runner","runway","sacred","sadden","safari","safely","salami","salary","saline","saloon","salute","sample","sandal","sanded","savage","savior","scabby","scarce","scared","scenic","scheme","scorch","scored","scorer","scotch","scouts","screen","scribe","script","scroll","scurvy","second","secret","sector","sedate","seduce","seldom","senate","senior","septic","septum","sequel","series","sermon","sesame","settle","shabby","shaded","shadow","shanty","sheath","shelve","sherry","shield","shifty","shimmy","shorts","shorty","shower","shrank","shriek","shrill","shrimp","shrine","shrink","shrubs","shrunk","siding","sierra","siesta","silent","silica","silver","simile","simple","simply","singer","single","sinner","sister","sitcom","sitter","sizing","sizzle","skater","sketch","skewed","skewer","skiing","skinny","slacks","sleeve","sliced","slicer","slider","slinky","sliver","slogan","sloped","sloppy","sludge","smoked","smooth","smudge","smudgy","smugly","snazzy","sneeze","snitch","snooze","snugly","specks","speech","sphere","sphinx","spider","spiffy","spinal","spiral","spleen","splice","spoils","spoken","sponge","spongy","spooky","sports","sporty","spotty","spouse","sprain","sprang","sprawl","spring","sprint","sprite","sprout","spruce","sprung","squall","squash","squeak","squint","squire","squirt","stable","staple","starch","starry","static","statue","status","stench","stereo","stifle","stingy","stinky","stitch","stooge","streak","stream","street","stress","strewn","strict","stride","strife","strike","strive","strobe","strode","struck","strung","stucco","studio","stuffy","stupor","sturdy","stylus","sublet","subpar","subtly","suburb","subway","sudden","sudoku","suffix","suitor","sulfur","sullen","sultry","supper","supply","surely","surfer","survey","swerve","switch","swivel","swoosh","system","tables","tablet","tackle","taking","talcum","tamale","tamper","tanned","target","tarmac","tartar","tartly","tassel","tattle","tattoo","tavern","thesis","thinly","thirty","thrash","thread","thrift","thrill","thrive","throat","throng","tidbit","tiling","timing","tingle","tingly","tinker","tinsel","tipoff","tipped","tipper","tiptop","tiring","tissue","trance","travel","treble","tremor","trench","triage","tricky","trifle","tripod","trophy","trough","trowel","trunks","tumble","turban","turkey","turret","turtle","twelve","twenty","twisty","twitch","tycoon","umpire","unable","unbend","unbent","unclad","unclip","unclog","uncork","undead","undone","unease","uneasy","uneven","unfair","unfold","unglue","unholy","unhook","unison","unkind","unless","unmade","unpack","unpaid","unplug","unread","unreal","unrest","unripe","unroll","unruly","unsafe","unsaid","unseen","unsent","unsnap","unsold","unsure","untidy","untold","untrue","unused","unwary","unwell","unwind","unworn","upbeat","update","upheld","uphill","uphold","upload","uproar","uproot","upside","uptake","uptown","upward","upwind","urchin","urgent","urging","usable","utmost","utopia","vacant","vacate","valium","valley","vanish","vanity","varied","vastly","veggie","velcro","velvet","vendor","verify","versus","vessel","viable","viewer","violet","violin","vision","volley","voting","voyage","waffle","waggle","waking","walnut","walrus","wanted","wasabi","washed","washer","waving","whacky","whinny","whoops","widely","widget","wilder","wildly","willed","willow","winner","winter","wiring","wisdom","wizard","wobble","wobbly","wooing","wreath","wrench","yearly","yippee","yogurt","yonder","zodiac","zombie","zoning","abide","acorn","affix","afoot","agent","agile","aging","agony","ahead","alarm","album","alias","alibi","alike","alive","aloft","aloha","alone","aloof","amaze","amber","amigo","amino","amiss","among","ample","amply","amuck","anger","anime","ankle","annex","antsy","anvil","aorta","apple","apply","april","apron","aptly","arena","argue","arise","armed","aroma","arose","array","arson","ashen","ashes","aside","askew","atlas","attic","audio","avert","avoid","await","award","aware","awoke","bacon","badge","badly","bagel","baggy","baked","balmy","banjo","barge","basil","basin","basis","batch","baton","blade","blame","blank","blast","bleak","bleep","blend","bless","blimp","bling","blitz","bluff","blunt","blurb","blurt","blush","bogus","boned","boney","bonus","booth","boots","boozy","borax","botch","boxer","briar","bribe","brick","bride","bring","brink","brook","broom","brunt","brush","brute","buddy","buggy","bulge","bully","bunch","bunny","cable","cache","cacti","caddy","cadet","cameo","canal","candy","canon","carat","cargo","carol","carry","carve","catty","cause","cedar","chafe","chain","chair","chant","chaos","chaps","charm","chase","cheek","cheer","chemo","chess","chest","chevy","chewy","chief","chili","chill","chimp","chive","chomp","chuck","chump","chunk","churn","chute","cider","cinch","civic","civil","claim","clamp","clang","clash","clasp","class","clean","clear","cleat","cleft","clerk","cling","cloak","clock","clone","cloud","clump","coach","cocoa","comfy","comic","comma","conch","coral","corny","couch","cough","could","cover","cramp","crane","crank","crate","crave","crazy","creed","creme","crepe","crept","cried","crier","crimp","croak","crock","crook","croon","cross","crowd","crown","crumb","crust","cupid","curly","curry","curse","curve","curvy","cushy","cycle","daily","dairy","daisy","dance","dandy","dares","dealt","debit","debug","decaf","decal","decay","decoy","defog","deity","delay","delta","denim","dense","depth","derby","deuce","diary","dimly","diner","dingo","dingy","ditch","ditto","ditzy","dizzy","dodge","dodgy","doily","doing","dolly","donor","donut","doozy","dowry","drank","dress","dried","drier","drift","drone","drool","droop","drove","drown","ducky","duvet","dwarf","dweeb","eagle","early","easel","eaten","ebony","ebook","ecard","eject","elbow","elite","elope","elude","elves","email","ember","emcee","emote","empty","ended","envoy","equal","error","erupt","essay","ether","evade","evict","evoke","exact","exert","exile","expel","fable","false","fancy","feast","femur","fence","ferry","fetal","fetch","fever","fiber","fifth","fifty","filth","finch","finer","flail","flaky","flame","flask","flick","flier","fling","flint","flirt","float","flock","floss","flyer","folic","foyer","frail","frame","frays","fresh","fried","frill","frisk","front","froth","frown","fruit","gaffe","gains","gamma","gauze","gecko","genre","gents","getup","giant","giddy","gills","given","giver","gizmo","glade","glare","glass","glory","gloss","glove","going","gonad","gooey","goofy","grain","grant","grape","graph","grasp","grass","gravy","green","grief","grill","grime","grimy","groin","groom","grope","grout","grove","growl","grunt","guide","guise","gully","gummy","gusto","gusty","haiku","hanky","happy","hardy","harsh","haste","hasty","haunt","haven","heave","hedge","hefty","hence","henna","herbs","hertz","human","humid","hurry","icing","idiom","igloo","image","imply","irate","issue","ivory","jaunt","jawed","jelly","jiffy","jimmy","jolly","judge","juice","juicy","jumbo","juror","kabob","karma","kebab","kitty","knelt","knoll","koala","kooky","kudos","ladle","lance","lanky","lapel","large","lasso","latch","legal","lemon","level","lilac","lilly","limes","limit","lingo","lived","liver","lucid","lunar","lurch","lusty","lying","macaw","magma","maker","mango","mangy","manly","manor","march","mardi","marry","mauve","maybe","mocha","molar","moody","morse","mossy","motor","motto","mouse","mousy","mouth","movie","mower","mulch","mumbo","mummy","mumps","mural","murky","mushy","music","musky","musty","nacho","nanny","nappy","nervy","never","niece","nifty","ninja","ninth","nutty","nylon","oasis","ocean","olive","omega","onion","onset","opium","other","otter","ought","ounce","outer","ovary","ozone","paced","pagan","pager","panda","panic","pants","paper","parka","party","pasta","pasty","patio","paver","payee","payer","pecan","penny","perch","perky","pesky","petal","petri","petty","phony","photo","plank","plant","plaza","pleat","pluck","poach","poise","poker","polar","polio","polka","poppy","poser","pouch","pound","power","press","pried","primp","print","prior","prism","prize","probe","prone","prong","props","proud","proxy","prude","prune","pulse","punch","pupil","puppy","purge","purse","pushy","quack","quail","quake","qualm","query","quiet","quill","quilt","quirk","quote","rabid","radar","radio","rally","ranch","rants","raven","reach","rebel","rehab","relax","relay","relic","remix","reply","rerun","reset","retry","reuse","rhyme","rigid","rigor","rinse","ritzy","rival","roast","robin","rocky","rogue","roman","rover","royal","rumor","runny","rural","sadly","saggy","saint","salad","salon","salsa","sandy","santa","sappy","sassy","satin","saucy","sauna","saved","savor","scale","scant","scarf","scary","scion","scoff","scone","scoop","scope","scorn","scrap","scuba","scuff","sedan","sepia","serve","setup","shack","shady","shaft","shaky","shale","shame","shank","shape","share","shawl","sheep","sheet","shelf","shell","shine","shiny","shirt","shock","shone","shore","shout","shove","shown","showy","shrug","shush","silly","siren","sixth","skied","skier","skies","skirt","skype","slain","slang","slate","sleek","sleep","sleet","slept","slick","slimy","slurp","slush","small","smell","smile","smirk","smite","smith","smock","smoky","snack","snare","snarl","sneak","sneer","snide","sniff","snore","snort","snout","snowy","snuff","speak","speed","spent","spied","spill","spilt","spiny","spoof","spool","spoon","spore","spout","spray","spree","sprig","squad","squid","stack","staff","stage","stamp","stand","stank","stark","stash","state","stays","steam","steed","steep","stick","stilt","stock","stoic","stoke","stole","stomp","stony","stood","stool","stoop","storm","stout","stove","straw","stray","strep","strum","strut","stuck","study","stump","stung","stunt","suave","sugar","suing","sushi","swarm","swear","sweat","sweep","swell","swept","swipe","swirl","swoop","swore","sworn","swung","syrup","tabby","tacky","talon","tamer","tarot","taste","tasty","taunt","thank","theft","theme","these","thigh","thing","think","thong","thorn","those","thumb","tiara","tibia","tidal","tiger","timid","trace","track","trade","train","traps","trash","treat","trend","trial","tried","trout","truce","truck","trump","truth","tubby","tulip","tummy","tutor","tweak","tweed","tweet","twerp","twice","twine","twins","twirl","tying","udder","ultra","uncle","uncut","unify","union","unlit","untie","until","unwed","unzip","upper","urban","usage","usher","usual","utter","valid","value","vegan","venue","venus","verse","vibes","video","viper","viral","virus","visor","vista","vixen","voice","voter","vowed","vowel","wafer","waged","wager","wages","wagon","waltz","watch","water","wharf","wheat","whiff","whiny","whole","widen","widow","width","wince","wired","wispy","woozy","worry","worst","wound","woven","wrath","wrist","xerox","yahoo","yeast","yield","yo-yo","yodel","yummy","zebra","zesty","zippy","able","acid","acre","acts","afar","aged","ahoy","aide","aids","ajar","aloe","alto","amid","anew","aqua","area","army","ashy","atom","atop","avid","awry","axis","barn","bash","bath","bats","blah","blip","blob","blog","blot","boat","body","boil","bolt","bony","book","boss","both","boxy","brim","bulb","bulk","bunt","bush","bust","buzz","cage","cake","calm","cane","cape","case","cash","chef","chip","chop","chug","city","clad","claw","clay","clip","coat","coil","coke","cola","cold","colt","coma","come","cone","cope","copy","cork","cost","cozy","crib","crop","crux","cube","cure","cusp","darn","dart","dash","data","dawn","dean","deck","deed","deem","defy","deny","dial","dice","dill","dime","dish","disk","dock","dole","dork","dose","dove","down","doze","drab","draw","drew","drum","duct","dude","duke","duly","dupe","dusk","dust","duty","each","eats","ebay","echo","edge","edgy","emit","envy","epic","even","evil","exes","exit","fade","fall","fame","fang","feed","feel","film","five","flap","fled","flip","flop","foam","foil","folk","font","food","fool","from","gala","game","gave","gawk","gear","geek","gift","glue","gnat","goal","goes","golf","gone","gong","good","goon","gore","gory","gout","gown","grab","gray","grew","grid","grip","grit","grub","gulf","gulp","guru","gush","guts","half","halt","hash","hate","hazy","heap","heat","huff","hula","hulk","hull","hunk","hurt","hush","icky","icon","idly","ipad","ipod","iron","item","java","jaws","jazz","jeep","jinx","john","jolt","judo","july","jump","june","jury","keep","kelp","kept","kick","kiln","kilt","king","kite","kiwi","knee","kung","lair","lake","lard","lark","lash","last","late","lazy","left","lego","lend","lens","lent","life","lily","limb","line","lint","lion","lisp","list","lung","lure","lurk","mace","malt","mama","many","math","mold","most","move","much","muck","mule","mute","mutt","myth","nail","name","nape","navy","neon","nerd","nest","next","oboe","ogle","oink","okay","omen","omit","only","onto","onyx","oops","ooze","oozy","opal","open","ouch","oval","oven","palm","pang","path","pelt","perm","peso","plod","plop","plot","plow","ploy","plug","plus","poem","poet","pogo","polo","pond","pony","pope","pork","posh","pout","pull","pulp","puma","punk","purr","putt","quit","race","rack","raft","rage","rake","ramp","rare","rash","ream","rely","reps","rice","ride","rift","rind","rink","riot","rise","risk","robe","romp","rope","rosy","ruby","rule","runt","ruse","rush","rust","saga","sage","said","sake","salt","same","sank","sash","scam","self","send","shed","ship","shun","shut","sift","silk","silo","silt","size","skid","slab","slam","slaw","sled","slip","slit","slot","slug","slum","smog","snap","snub","spew","spry","spud","spur","stem","step","stew","stir","such","suds","sulk","swab","swan","sway","taco","take","tall","tank","taps","task","that","thaw","thee","thud","thus","tidy","tile","till","tilt","tint","tiny","tray","tree","trio","turf","tusk","tutu","twig","tyke","unit","upon","used","user","veal","very","vest","veto","vice","visa","void","wake","walk","wand","wasp","wavy","wham","wick","wife","wifi","wilt","wimp","wind","wing","wipe","wiry","wise","wish","wolf","womb","woof","wool","word","work","xbox","yard","yarn","yeah","yelp","yoga","yoyo","zero","zips","zone","zoom","aim","art","bok","cod","cut","dab","dad","dig","dry","duh","duo","eel","elf","elk","elm","emu","fax","fit","foe","fog","fox","gab","gag","gap","gas","gem","guy","had","hug","hut","ice","icy","ion","irk","ivy","jab","jam","jet","job","jot","keg","lid","lip","map","mom","mop","mud","mug","nag","net","oaf","oak","oat","oil","old","opt","owl","pep","pod","pox","pry","pug","rug","rut","say","shy","sip","sly","tag","try","tug","tux","wad","why","wok","wow","yam","yen","yin","zap","zen","zit"]};var Mt=a(323),jt=a.n(Mt);const Gt=[{id:"not_available",label:"n/a",strength:0},{id:"very-weak",label:"very weak",strength:1},{id:"weak",label:"weak",strength:60},{id:"fair",label:"fair",strength:80},{id:"strong",label:"strong",strength:112},{id:"very-strong",label:"very strong",strength:128}],Lt=[{name:"upper",label:"A-Z",characters:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],active:!0},{name:"lower",label:"a-z",characters:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],active:!0},{name:"digit",label:"0-9",characters:["0","1","2","3","4","5","6","7","8","9"],active:!0},{name:"special_char1",label:"# $ % & @ ^ ~",characters:["#","$","%","&","@","^","~"],active:!0},{name:"parenthesis",label:"{ [ ( | ) ] ] }",characters:["{","(","[","|","]",")","}"],active:!0},{name:"special_char2",label:". , : ;",characters:[".",",",":",";"],active:!0},{name:"special_char3",label:"' \" `",characters:["'",'"',"`"],active:!0},{name:"special_char4",label:"/ \\ _ -",characters:["/","\\","_","-"],active:!0},{name:"special_char5",label:"< * + ! ? =",characters:["<","*","+","!","?","="],active:!0},{name:"emoji",label:"",characters:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]}],Wt=(e="")=>{const t=(new(jt())).splitGraphemes(e);let a=0;for(const e of Lt)t.some((t=>e.characters.includes(t)))&&(a+=e.characters.length);return Vt(t.length,a)},Bt=(e=0,t="")=>{const a=Kt["en-UK"];return Vt(e,128*t.length+a.length+3)},$t=(e=0)=>Gt.reduce(((t,a)=>t?a.strength>t.strength&&e>=a.strength?a:t:a));function Vt(e,t){return e&&t?e*(Math.log(t)/Math.log(2)):0}const Ht=function(e){if(!e)return{isPassphrase:!1};const t=Kt["en-UK"].reduce(((e,t)=>{const a=e.remainingSecret.replace(new RegExp(t,"g"),""),s=(e.remainingSecret.length-a.length)/t.length;return{numberReplacement:e.numberReplacement+s,remainingSecret:a}}),{numberReplacement:0,remainingSecret:e.toLowerCase()}),a=t.numberReplacement-1,s=t.remainingSecret.length/a,n=t.remainingSecret.length%a!=0,r=0==t.remainingSecret.length;if(n)return{isPassphrase:!1};if(r)return{numberWords:t.numberReplacement,separator:"",isPassphrase:!0};const i=t.remainingSecret.substring(0,s),o=String(i).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1"),l=0===t.remainingSecret.replace(new RegExp(o,"g"),"").length;return{numberWords:t.numberReplacement,separator:i,isPassphrase:l&&!e.startsWith(i)&&!e.endsWith(i)}},Zt=e=>{const{numberWords:t,separator:a,isPassphrase:s}=Ht(e);return s?Bt(t,a):Wt(e)};class Yt extends s.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks(),this.createInputRef()}get defaultState(){return{name:"",nameError:"",email:"",emailError:"",algorithm:"RSA",keySize:4096,password:"",passwordError:"",passwordWarning:"",passphraseStyle:{background:"",color:""},securityTokenStyle:{background:this.props.context.userSettings.getSecurityTokenBackgroundColor(),color:this.props.context.userSettings.getSecurityTokenTextColor()},viewPassword:!1,hasAlreadyBeenValidated:!1}}bindCallbacks(){this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleNameInputKeyUp=this.handleNameInputKeyUp.bind(this),this.handleEmailInputKeyUp=this.handleEmailInputKeyUp.bind(this),this.handlePasswordInputFocus=this.handlePasswordInputFocus.bind(this),this.handlePasswordInputBlur=this.handlePasswordInputBlur.bind(this),this.handlePasswordInputKeyUp=this.handlePasswordInputKeyUp.bind(this),this.handleViewPasswordButtonClick=this.handleViewPasswordButtonClick.bind(this)}createInputRef(){this.nameInputRef=s.createRef(),this.emailInputRef=s.createRef(),this.passwordInputRef=s.createRef()}handleNameInputKeyUp(){this.state.hasAlreadyBeenValidated&&this.validateNameInput()}validateNameInput(){let e=null;return this.state.name.trim().length||(e=this.translate("A name is required.")),this.setState({nameError:e}),null===e}handleEmailInputKeyUp(){this.state.hasAlreadyBeenValidated&&this.validateEmailInput()}validateEmailInput(){let e=null;const t=this.state.email.trim();return t.length?this.isEmail(t)||(e=this.translate("Please enter a valid email address.")):e=this.translate("An email is required."),this.setState({email:t,emailError:e}),null===e}isEmail(e){return Fe()("^[\\p{L}0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[\\p{L}0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[_\\p{L}0-9][-_\\p{L}0-9]*\\.)*(?:[\\p{L}0-9][-\\p{L}0-9]{0,62})\\.(?:(?:[a-z]{2}\\.)?[a-z]{2,})$").test(e)}handlePasswordInputKeyUp(){if(this.state.hasAlreadyBeenValidated)this.validatePasswordInput();else{const e=this.state.password.length>=4096,t=this.translate("Warning: this is the maximum size for this field, make sure your data was not truncated"),a=e?t:"";this.setState({passwordWarning:a})}}handleViewPasswordButtonClick(){this.state.processing||this.setState({viewPassword:!this.state.viewPassword})}validatePasswordInput(){let e=null;return this.state.password.length||(e=this.translate("A passphrase is required.")),Zt(this.state.password)<80&&(e=this.translate("A strong passphrase is required. The minimum complexity must be 'fair'")),this.setState({passwordError:e}),null===e}handleInputChange(e){const t=e.target;this.setState({[t.name]:t.value})}handlePasswordInputFocus(){this.setState({passphraseStyle:{background:this.props.context.userSettings.getSecurityTokenBackgroundColor(),color:this.props.context.userSettings.getSecurityTokenTextColor()},securityTokenStyle:{background:this.props.context.userSettings.getSecurityTokenTextColor(),color:this.props.context.userSettings.getSecurityTokenBackgroundColor()}})}handlePasswordInputBlur(){this.setState({passphraseStyle:{background:"",color:""},securityTokenStyle:{background:this.props.context.userSettings.getSecurityTokenBackgroundColor(),color:this.props.context.userSettings.getSecurityTokenTextColor()}})}handleValidateError(){this.focusFirstFieldError()}focusFirstFieldError(){this.state.nameError?this.nameInputRef.current.focus():this.state.emailError?this.emailInputRef.current.focus():this.state.passwordError&&this.passwordInputRef.current.focus()}async handleFormSubmit(e){e.preventDefault(),this.state.processing||await this.save()}async save(){if(this.setState({hasAlreadyBeenValidated:!0}),this.toggleProcessing(),!await this.validate())return this.handleValidateError(),void this.toggleProcessing();const e=await this.generateKey();this.props.onUpdateOrganizationKey(e.public_key.armored_key,e.private_key.armored_key)}async validate(){this.setState({nameError:"",emailError:"",passwordError:""});const e=this.validateNameInput(),t=this.validateEmailInput(),a=this.validatePasswordInput();return e&&t&&a}async generateKey(){const e={name:this.state.name,email:this.state.email,algorithm:this.state.algorithm,keySize:this.state.keySize,passphrase:this.state.password};return await this.props.context.port.request("passbolt.account-recovery.generate-organization-key",e)}toggleProcessing(){this.setState({processing:!this.state.processing})}hasAllInputDisabled(){return this.state.processing}get translate(){return this.props.t}render(){const e=Zt(this.state.password),t=$t(e);return s.createElement("form",{onSubmit:this.handleFormSubmit,noValidate:!0},s.createElement("div",{className:"form-content generate-organization-key"},s.createElement("div",{className:"input text required "+(this.state.nameError?"error":"")},s.createElement("label",{htmlFor:"generate-organization-key-form-name"},s.createElement(v.c,null,"Name")),s.createElement("input",{id:"generate-organization-key-form-name",name:"name",type:"text",value:this.state.name,onKeyUp:this.handleNameInputKeyUp,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),ref:this.nameInputRef,className:"required fluid",maxLength:"64",required:"required",autoComplete:"off",autoFocus:!0,placeholder:this.translate("Name")}),this.state.nameError&&s.createElement("div",{className:"name error-message"},this.state.nameError)),s.createElement("div",{className:"input text required "+(this.state.emailError?"error":"")},s.createElement("label",{htmlFor:"generate-organization-key-form-email"},s.createElement(v.c,null,"Email")),s.createElement("input",{id:"generate-organization-key-form-email",name:"email",ref:this.emailInputRef,className:"required fluid",maxLength:"64",type:"email",autoComplete:"off",value:this.state.email,onChange:this.handleInputChange,placeholder:this.translate("Email Address"),onKeyUp:this.handleEmailInputKeyUp,disabled:this.hasAllInputDisabled(),required:"required"}),this.state.emailError&&s.createElement("div",{className:"email error-message"},this.state.emailError)),s.createElement("div",{className:"input select"},s.createElement("label",{htmlFor:"generate-organization-key-form-algorithm"},s.createElement(v.c,null,"Algorithm"),s.createElement(Ft,{message:this.translate("Algorithm and key size cannot be changed at the moment. These are secure default"),icon:"info-circle"})),s.createElement("input",{id:"generate-organization-key-form-algorithm",name:"algorithm",value:this.state.algorithm,className:"fluid",type:"text",autoComplete:"off",disabled:!0})),s.createElement("div",{className:"input select"},s.createElement("label",{htmlFor:"generate-organization-key-form-keySize"},s.createElement(v.c,null,"Key Size"),s.createElement(Ft,{message:this.translate("Algorithm and key size cannot be changed at the moment. These are secure default"),icon:"info-circle"})),s.createElement("input",{id:"generate-organization-key-form-key-size",name:"keySize",value:this.state.keySize,className:"fluid",type:"text",autoComplete:"off",disabled:!0})),s.createElement("div",{className:"input-password-wrapper input required "+(this.state.passwordError?"error":"")},s.createElement("label",{htmlFor:"generate-organization-key-form-password"},s.createElement(v.c,null,"Organization key passphrase")),s.createElement("div",{className:"input text password"},s.createElement("input",{id:"generate-organization-key-form-password",name:"password",className:"required",maxLength:"4096",placeholder:this.translate("Passphrase"),required:"required",type:this.state.viewPassword?"text":"password",onKeyUp:this.handlePasswordInputKeyUp,value:this.state.password,onFocus:this.handlePasswordInputFocus,onBlur:this.handlePasswordInputBlur,onChange:this.handleInputChange,disabled:this.hasAllInputDisabled(),autoComplete:"new-password",ref:this.passwordInputRef}),s.createElement("a",{onClick:this.handleViewPasswordButtonClick,className:"password-view button button-icon toggle "+(this.state.viewPassword?"selected":"")},s.createElement(G,{name:"eye-open",big:!0}),s.createElement("span",{className:"visually-hidden"},"view")),s.createElement("span",{className:"security-token",style:this.state.securityTokenStyle},this.props.context.userSettings.getSecurityTokenCode())),s.createElement("div",{className:`password-complexity ${t.id}`},s.createElement("span",{className:"progress"},s.createElement("span",{className:`progress-bar ${t.id}`})),s.createElement("span",{className:"complexity-text"},s.createElement("div",null,s.createElement(v.c,null,"Complexity:")," ",s.createElement("strong",null,this.translate(t.label))),s.createElement("div",null,s.createElement(v.c,null,"Entropy:")," ",s.createElement("strong",null,e.toFixed(1)," bits")))),this.state.passwordError&&s.createElement("div",{className:"input text"},s.createElement("div",{className:"password error-message"},this.state.passwordError)),this.state.passwordWarning&&s.createElement("div",{className:"input text"},s.createElement("div",{className:"password warning message"},this.state.passwordWarning)))),!this.state.hasAlreadyBeenValidated&&s.createElement("div",{className:"warning message",id:"generate-organization-key-setting-overridden-banner"},s.createElement("p",null,s.createElement(v.c,null,"Warning, we encourage you to generate your OpenPGP Organization Recovery Key separately. Make sure you keep a backup in a safe place."))),s.createElement("div",{className:"submit-wrapper clearfix"},s.createElement(ot,{disabled:this.hasAllInputDisabled(),processing:this.state.processing,value:this.translate("Generate & Apply")}),s.createElement(Y,{disabled:this.hasAllInputDisabled(),onClick:this.props.onClose})))}}Yt.propTypes={context:i().any,onUpdateOrganizationKey:i().func,onClose:i().func,t:i().func};const Jt=A(g((0,E.Z)("common")(Yt)));function Qt(){return Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Qt.apply(this,arguments)}class Xt extends s.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{processing:!1}}bindCallbacks(){this.handleCloseClick=this.handleCloseClick.bind(this),this.handleApplyChanges=this.handleApplyChanges.bind(this)}handleCloseClick(){this.props.onClose()}handleApplyChanges(e,t){this.handleCloseClick(),this.props.handleUpdateOrganizationKey(e,t)}get translate(){return this.props.t}render(){return s.createElement(H,{title:this.translate("Organization Recovery Key"),onClose:this.handleCloseClick,disabled:this.state.processing,className:"organization-recover-key-dialog"},s.createElement(Dt,{activeTabName:"Import"},s.createElement(Ut,{key:"Import",name:"Import",type:"Import"},s.createElement(_t,Qt({},this.props,{onClose:this.handleCloseClick,onUpdateOrganizationKey:this.handleApplyChanges}))),s.createElement(Ut,{key:"Generate",name:"Generate",type:"Generate"},s.createElement(Jt,Qt({},this.props,{onClose:this.handleCloseClick,onUpdateOrganizationKey:this.handleApplyChanges})))))}}Xt.propTypes={handleUpdateOrganizationKey:i().func,onClose:i().func,t:i().func};const ea=(0,E.Z)("common")(Xt);class ta extends s.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{processing:!1}}bindCallbacks(){this.handleCloseClick=this.handleCloseClick.bind(this)}handleCloseClick(){this.props.onClose()}get translate(){return this.props.t}render(){return s.createElement(H,{title:this.translate("Confirm Organization Recovery Key download"),onClose:this.handleCloseClick,disabled:!1,className:"organization-recover-key-download-dialog"},s.createElement("div",{className:"dialog-body"},s.createElement("p",null,s.createElement(v.c,null,"A download of the organization private key has automatically started."),s.createElement("br",null),s.createElement(v.c,null,"Make sure your print it or store it in a safe place. You may need it later!"))),s.createElement("div",{className:"dialog-footer clearfix"},s.createElement("button",{className:"button button-left cancel medium",type:"button",onClick:this.props.handleDownloadAgain},s.createElement(v.c,null,"Download again")),s.createElement("button",{className:"button primary",role:"button",type:"button",onClick:this.handleCloseClick,disabled:this.isProcessing},s.createElement("span",null,s.createElement(v.c,null,"Ok")))))}}ta.propTypes={onClose:i().func,handleDownloadAgain:i().func,privateKey:i().string,t:i().func};const aa=(0,E.Z)("common")(ta);class sa extends s.Component{constructor(e){super(e),this.state=this.defaultState,this.bindCallbacks()}get defaultState(){return{keyInfoDto:null,loading:!0,processing:!1}}async componentDidMount(){this.props.administrationWorkspaceContext.setDisplayAdministrationWorkspaceAction(It),this.findAccountRecoveryPolicy()}componentWillUnmount(){this.props.administrationWorkspaceContext.resetDisplayAdministrationWorkspaceAction(),this.props.adminAccountRecoveryContext.resetChanges()}async componentDidUpdate(e){const t=e?.adminAccountRecoveryContext?.policyChanges?.publicKey||e?.adminAccountRecoveryContext?.currentPolicy?.account_recovery_organization_public_key?.armored_key;if(Boolean(t)&&this.state.keyInfoDto?.armored_key!==t){const e=await this.props.adminAccountRecoveryContext.getKeyInfo(t);this.setState({keyInfoDto:e})}else!t&&this.state.keyInfoDto&&this.setState({keyInfoDto:null})}bindCallbacks(){this.handlePolicyInputChange=this.handlePolicyInputChange.bind(this),this.HandleUpdatePublicKeyClick=this.HandleUpdatePublicKeyClick.bind(this),this.handleUpdateOrganizationKey=this.handleUpdateOrganizationKey.bind(this),this.downloadPrivateKey=this.downloadPrivateKey.bind(this)}get policy(){return this.props.adminAccountRecoveryContext.policyChanges.policy||this.props.adminAccountRecoveryContext.currentPolicy?.policy}get organizationKey(){return this.props.adminAccountRecoveryContext.policyChanges.publicKey||this.props.adminAccountRecoveryContext.currentPolicy?.account_recovery_organization_public_key.armored_key}get organizationKeyInfo(){return this.state.keyInfoDto}async findAccountRecoveryPolicy(){await this.props.adminAccountRecoveryContext.findAccountRecoveryPolicy(),this.setState({loading:!1})}async handlePolicyInputChange(e){const t=e.target.value;"disabled"===t&&this.resetKeyInfo(),await this.props.adminAccountRecoveryContext.changePolicy(t)}HandleUpdatePublicKeyClick(){this.props.dialogContext.open(ea,{handleUpdateOrganizationKey:this.handleUpdateOrganizationKey})}async handleUpdateOrganizationKey(e,t){this.resetKeyInfo(),await this.props.adminAccountRecoveryContext.changePublicKey(e),t&&await this.downloadPrivateKey(t)}async downloadPrivateKey(e){await this.props.adminAccountRecoveryContext.downloadPrivateKey(e),this.props.dialogContext.open(aa,{privateKey:e,handleDownloadAgain:async()=>{await this.props.adminAccountRecoveryContext.downloadPrivateKey(e)}})}hasAllInputDisabled(){return this.state.processing||this.state.loading}hasOrganisationRecoveryKey(){const e=this.state.keyInfoDto;return Boolean(e)}isPolicyEnabled(){return Boolean("disabled"!==this.policy)}resetKeyInfo(){this.setState({keyInfoDto:null})}async toggleProcessing(){this.setState({processing:!this.state.processing})}formatDateTimeAgo(e){if("Never"===e)return e;const t=st.ou.fromISO(e),a=t.diffNow().toMillis();return a>-1e3&&a<0?this.translate("Just now"):t.toRelative({locale:this.props.context.locale})}formatFingerprint(e){if(!e)return null;const t=e.toUpperCase().replace(/.{4}/g,"$& ");return s.createElement(s.Fragment,null,t.substr(0,24),s.createElement("br",null),t.substr(25))}formatUserIds(e){return e?e.map(((e,t)=>s.createElement(s.Fragment,{key:t},e.name,"<",e.email,">",s.createElement("br",null)))):null}get translate(){return this.props.t}render(){return s.createElement("div",{className:"row"},s.createElement("div",{className:"recover-account-settings col8"},s.createElement("h3",null,s.createElement(v.c,null,"Account Recovery")),this.props.adminAccountRecoveryContext.hasPolicyChanges()&&s.createElement("div",{className:"warning message",id:"email-notification-setting-overridden-banner"},s.createElement("p",null,s.createElement(v.c,null,"Warning, Don't forget to save your settings to apply your modification."))),!this.hasOrganisationRecoveryKey()&&this.isPolicyEnabled()&&s.createElement("div",{className:"warning message",id:"email-notification-setting-overridden-banner"},s.createElement("p",null,s.createElement(v.c,null,"Warning, Don't forget to add an organization recovery key."))),s.createElement("form",{className:"form"},s.createElement("h3",null,s.createElement(v.c,null,"Account Recovery Policy")),s.createElement("p",null,s.createElement(v.c,null,"In this section you can choose the default behavior of account recovery for all users.")),s.createElement("div",{className:"radiolist-alt"},s.createElement("div",{className:"input radio "+("mandatory"===this.policy?"checked":"")},s.createElement("input",{type:"radio",value:"mandatory",onChange:this.handlePolicyInputChange,name:"accountRecoveryPolicy",checked:"mandatory"===this.policy,id:"accountRecoveryPolicyMandatory",disabled:this.hasAllInputDisabled()}),s.createElement("label",{htmlFor:"accountRecoveryPolicyMandatory"},s.createElement("span",{className:"name"},s.createElement(v.c,null,"Mandatory")),s.createElement("span",{className:"info"},s.createElement(v.c,null,"Every user is required to provide a copy of their private key and passphrase during setup."),s.createElement("br",null),s.createElement(v.c,null,"Warning: You should inform your users not to store personal passwords.")))),s.createElement("div",{className:"input radio "+("opt-out"===this.policy?"checked":"")},s.createElement("input",{type:"radio",value:"opt-out",onChange:this.handlePolicyInputChange,name:"accountRecoveryPolicy",checked:"opt-out"===this.policy,id:"accountRecoveryPolicyOptOut",disabled:this.hasAllInputDisabled()}),s.createElement("label",{htmlFor:"accountRecoveryPolicyOptOut"},s.createElement("span",{className:"name"},s.createElement(v.c,null,"Optional, Opt-out")),s.createElement("span",{className:"info"},s.createElement(v.c,null,"Every user will be prompted to provide a copy of their private key and passphrase by default during the setup, but they can opt out.")))),s.createElement("div",{className:"input radio "+("opt-in"===this.policy?"checked":"")},s.createElement("input",{type:"radio",value:"opt-in",onChange:this.handlePolicyInputChange,name:"accountRecoveryPolicy",checked:"opt-in"===this.policy,id:"accountRecoveryPolicyOptIn",disabled:this.hasAllInputDisabled()}),s.createElement("label",{htmlFor:"accountRecoveryPolicyOptIn"},s.createElement("span",{className:"name"},s.createElement(v.c,null,"Optional, Opt-in")),s.createElement("span",{className:"info"},s.createElement(v.c,null,"Every user can decide to provide a copy of their private key and passphrase by default during the setup, but they can opt in.")))),s.createElement("div",{className:"input radio "+("disabled"===this.policy?"checked":"")},s.createElement("input",{type:"radio",value:"disabled",onChange:this.handlePolicyInputChange,name:"accountRecoveryPolicy",checked:"disabled"===this.policy,id:"accountRecoveryPolicyDisable",disabled:this.hasAllInputDisabled()}),s.createElement("label",{htmlFor:"accountRecoveryPolicyDisable"},s.createElement("span",{className:"name"},s.createElement(v.c,null,"Disable (Default)")),s.createElement("span",{className:"info"},s.createElement(v.c,null,"Backup of the private key and passphrase will not be stored. This is the safest option."),s.createElement(v.c,null,"Warning: If users lose their private key and passphrase they will not be able to recover their account."))))),s.createElement("h3",null,s.createElement("span",{className:"input toggle-switch form-element "},s.createElement("input",{type:"checkbox",className:"toggle-switch-checkbox checkbox",name:"organisationRecoveryKeyToggle",disabled:this.hasAllInputDisabled(),checked:this.isPolicyEnabled(),id:"recovery-key-toggle-button"}),s.createElement("label",{className:"toggle-switch-button",htmlFor:"recovery-key-toggle-button"})),s.createElement("label",{htmlFor:"recovery-key-toggle-button"},s.createElement(v.c,null,"Organization Recovery Key"))),this.isPolicyEnabled()&&s.createElement("div",null,s.createElement("p",null,s.createElement(v.c,null,"Your organization recovery key will be used to decrypt and recover the private key and passphrase of the users that are participating in the account recovery program.")," ",s.createElement(v.c,null,"The organization private recovery key should not be stored in passbolt.")," ",s.createElement(v.c,null,"You should keep it offline in a safe place.")),s.createElement("div",{className:"recovery-key-details"},s.createElement("table",{className:"table-info recovery-key"},s.createElement("tbody",null,s.createElement("tr",{className:"user-ids"},s.createElement("td",{className:"label"},s.createElement(v.c,null,"User ids")),this.organizationKeyInfo?.user_ids&&s.createElement("td",{className:"value"},this.formatUserIds(this.organizationKeyInfo.user_ids)),!this.organizationKeyInfo?.user_ids&&s.createElement("td",{className:"empty-value"},s.createElement(v.c,null,"not available")),s.createElement("td",{className:"table-button"},s.createElement("button",{className:"button primary medium",type:"button",disabled:this.hasAllInputDisabled(),onClick:this.HandleUpdatePublicKeyClick},this.hasOrganisationRecoveryKey()&&s.createElement(v.c,null,"Rotate Key"),!this.hasOrganisationRecoveryKey()&&s.createElement(v.c,null,"Add an Organization Recovery Key")))),s.createElement("tr",{className:"fingerprint"},s.createElement("td",{className:"label"},s.createElement(v.c,null,"Fingerprint")),this.organizationKeyInfo?.fingerprint&&s.createElement("td",{className:"value"},this.formatFingerprint(this.organizationKeyInfo.fingerprint)),!this.organizationKeyInfo?.fingerprint&&s.createElement("td",{className:"empty-value"},s.createElement(v.c,null,"not available"))),s.createElement("tr",{className:"algorithm"},s.createElement("td",{className:"label"},s.createElement(v.c,null,"Algorithm")),this.organizationKeyInfo?.algorithm&&s.createElement("td",{className:"value"},this.organizationKeyInfo.algorithm),!this.organizationKeyInfo?.algorithm&&s.createElement("td",{className:"empty-value"},s.createElement(v.c,null,"not available"))),s.createElement("tr",{className:"key-length"},s.createElement("td",{className:"label"},s.createElement(v.c,null,"Key length")),this.organizationKeyInfo?.length&&s.createElement("td",{className:"value"},this.organizationKeyInfo.length),!this.organizationKeyInfo?.length&&s.createElement("td",{className:"empty-value"},s.createElement(v.c,null,"not available"))),s.createElement("tr",{className:"created"},s.createElement("td",{className:"label"},s.createElement(v.c,null,"Created")),this.organizationKeyInfo?.created&&s.createElement("td",{className:"value"},this.formatDateTimeAgo(this.organizationKeyInfo.created)),!this.organizationKeyInfo?.created&&s.createElement("td",{className:"empty-value"},s.createElement(v.c,null,"not available"))),s.createElement("tr",{className:"expires"},s.createElement("td",{className:"label"},s.createElement(v.c,null,"Expires")),this.organizationKeyInfo?.expires&&s.createElement("td",{className:"value"},this.formatDateTimeAgo(this.organizationKeyInfo.expires)),!this.organizationKeyInfo?.expires&&s.createElement("td",{className:"empty-value"},s.createElement(v.c,null,"not available"))))))))),s.createElement("div",{className:"col4 last"},s.createElement("div",{className:"sidebar-help"},s.createElement("h3",null,s.createElement(v.c,null,"Need some help?")),s.createElement("p",null,s.createElement(v.c,null,"For more information about account recovery, checkout the dedicated page on the help website.")),s.createElement("a",{className:"button",href:"",target:"_blank",rel:"noopener noreferrer"},s.createElement(G,{name:"life-ring"}),s.createElement("span",null,s.createElement(v.c,null,"Read the documentation"))))))}}sa.propTypes={context:i().object,dialogContext:i().any,administrationWorkspaceContext:i().object,adminAccountRecoveryContext:i().object,t:i().func};const na=A(g(de(vt((0,E.Z)("common")(sa)))));class ra extends s.Component{isMfaSelected(){return ue.MFA===this.props.administrationWorkspaceContext.selectedAdministration}isUserDirectorySelected(){return ue.USER_DIRECTORY===this.props.administrationWorkspaceContext.selectedAdministration}isEmailNotificationsSelected(){return ue.EMAIL_NOTIFICATION===this.props.administrationWorkspaceContext.selectedAdministration}isSubscriptionSelected(){return ue.SUBSCRIPTION===this.props.administrationWorkspaceContext.selectedAdministration}isInternationalizationSelected(){return ue.INTERNATIONALIZATION===this.props.administrationWorkspaceContext.selectedAdministration}isAccountRecoverySelected(){return ue.ACCOUNT_RECOVERY===this.props.administrationWorkspaceContext.selectedAdministration}render(){const e=this.props.administrationWorkspaceContext.administrationWorkspaceAction;return s.createElement("div",{id:"container",className:"page administration"},s.createElement("div",{id:"app",tabIndex:"1000"},s.createElement("div",{className:"header first"},s.createElement(xe,null)),s.createElement("div",{className:"header second"},s.createElement(Ne,null),s.createElement(at,{disabled:!0}),s.createElement(De,{baseUrl:this.props.context.trustedDomain||this.props.context.userSettings.getTrustedDomain(),user:this.props.context.loggedInUser})),s.createElement("div",{className:"header third"},s.createElement("div",{className:"col1 main-action-wrapper"}),s.createElement(e,null)),s.createElement("div",{className:"panel main"},s.createElement("div",null,s.createElement("div",{className:"panel left"},s.createElement(_e,null)),s.createElement("div",{className:"panel middle"},s.createElement($e,null),s.createElement("div",{className:"workspace-main"},s.createElement("div",{className:"grid grid-responsive-12"},this.isMfaSelected()&&s.createElement(Me,null),this.isUserDirectorySelected()&&s.createElement(Qe,null),this.isEmailNotificationsSelected()&&s.createElement(et,null),this.isSubscriptionSelected()&&s.createElement(pt,null),this.isInternationalizationSelected()&&s.createElement(gt,null),this.isAccountRecoverySelected()&&s.createElement(na,null))))))))}}ra.propTypes={context:i().any,administrationWorkspaceContext:i().object};const ia=A(de(ra));function oa(){return oa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},oa.apply(this,arguments)}class la extends s.Component{get privacyUrl(){return this.props.context.siteSettings.privacyLink}get creditsUrl(){return"https://www.passbolt.com/credits"}get unsafeUrl(){return"https://help.passbolt.com/faq/hosting/why-unsafe"}get termsUrl(){return this.props.context.siteSettings.termsLink}get versions(){const e=[],t=this.props.context.siteSettings.version;return t&&e.push(t),this.props.context.extensionVersion&&e.push(this.props.context.extensionVersion),e.join(" / ")}get isUnsafeMode(){const e=this.props.context.siteSettings.debug,t=this.props.context.siteSettings.url.startsWith("http://");return e||t}get translate(){return this.props.t}render(){return s.createElement("footer",null,s.createElement("div",{className:"footer"},s.createElement("ul",{className:"footer-links"},this.isUnsafeMode&&s.createElement("li",{className:"error-message"},s.createElement("a",{title:"terms of service",href:this.unsafeUrl,target:"_blank",rel:"noopener noreferrer"},s.createElement(v.c,null,"Unsafe mode"))),this.termsUrl&&s.createElement("li",null,s.createElement("a",{href:this.termsUrl,target:"_blank",rel:"noopener noreferrer"},s.createElement(v.c,null,"Terms"))),this.privacyUrl&&s.createElement("li",null,s.createElement("a",{href:this.privacyUrl,target:"_blank",rel:"noopener noreferrer"},s.createElement(v.c,null,"Privacy"))),s.createElement("li",null,s.createElement("a",{href:this.creditsUrl,target:"_blank",rel:"noopener noreferrer"},s.createElement(v.c,null,"Credits"))),s.createElement("li",null,s.createElement("a",oa({href:this.creditsUrl,className:"tooltip-left"},this.versions&&{"data-tooltip":this.versions},{target:"_blank",rel:"noopener noreferrer"}),s.createElement(G,{name:"heart-o"}))))))}}la.propTypes={context:i().any,t:i().func};const ca=A((0,E.Z)("common")(la));class da extends s.Component{get isMfaEnabled(){return this.props.context.siteSettings.canIUse("multiFactorAuthentication")}get canIUseThemeCapability(){return this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("accountSettings")}get translate(){return this.props.t}get canIUseMobileCapability(){return this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("mobile")}get canIUseAccountRecoveryCapability(){return this.props.context.siteSettings&&this.props.context.siteSettings.canIUse("accountRecovery")}render(){const e=e=>this.props.location.pathname.endsWith(e);return s.createElement("div",{className:"navigation-secondary navigation-shortcuts"},s.createElement("ul",null,s.createElement("li",null,s.createElement("div",{className:"row "+(e("profile")?"selected":"")},s.createElement("div",{className:"main-cell-wrapper"},s.createElement("div",{className:"main-cell"},s.createElement("a",{onClick:this.props.navigationContext.onGoToUserSettingsProfileRequested},s.createElement("span",null,s.createElement(v.c,null,"Profile"))))))),s.createElement("li",null,s.createElement("div",{className:"row "+(e("keys")?"selected":"")},s.createElement("div",{className:"main-cell-wrapper"},s.createElement("div",{className:"main-cell"},s.createElement("a",{onClick:this.props.navigationContext.onGoToUserSettingsKeysRequested},s.createElement("span",null,s.createElement(v.c,null,"Keys inspector"))))))),s.createElement("li",null,s.createElement("div",{className:"row "+(e("passphrase")?"selected":"")},s.createElement("div",{className:"main-cell-wrapper"},s.createElement("div",{className:"main-cell"},s.createElement("a",{onClick:this.props.navigationContext.onGoToUserSettingsPassphraseRequested},s.createElement("span",null,s.createElement(v.c,null,"Passphrase"))))))),s.createElement("li",null,s.createElement("div",{className:"row "+(e("security-token")?"selected":"")},s.createElement("div",{className:"main-cell-wrapper"},s.createElement("div",{className:"main-cell"},s.createElement("a",{onClick:this.props.navigationContext.onGoToUserSettingsSecurityTokenRequested},s.createElement("span",null,s.createElement(v.c,null,"Security Token"))))))),this.canIUseThemeCapability&&s.createElement("li",null,s.createElement("div",{className:"row "+(e("theme")?"selected":"")},s.createElement("div",{className:"main-cell-wrapper"},s.createElement("div",{className:"main-cell"},s.createElement("a",{onClick:this.props.navigationContext.onGoToUserSettingsThemeRequested},s.createElement("span",null,s.createElement(v.c,null,"Theme"))))))),this.isMfaEnabled&&s.createElement("li",null,s.createElement("div",{className:"row "+(e("mfa")?"selected":"")},s.createElement("div",{className:"main-cell-wrapper"},s.createElement("div",{className:"main-cell"},s.createElement("a",{onClick:this.props.navigationContext.onGoToUserSettingsMfaRequested},s.createElement("span",null,s.createElement(v.c,null,"Multi Factor Authentication"))))))),this.canIUseAccountRecoveryCapability&&s.createElement("li",null,s.createElement("div",{className:"row "+(e("account-recovery")?"selected":"")},s.createElement("div",{className:"main-cell-wrapper"},s.createElement("div",{className:"main-cell"},s.createElement("a",{onClick:this.props.navigationContext.onGoToUserSettingsAccountRecoveryRequested},s.createElement("span",null,s.createElement(v.c,null,"Account Recovery"),this.props.hasPendingAccountRecoveryChoice&&s.createElement(G,{name:"exclamation"}))))))),this.canIUseMobileCapability&&s.createElement("li",null,s.createElement("div",{className:"row "+(e("mobile")?"selected":"")},s.createElement("div",{className:"main-cell-wrapper"},s.createElement("div",{className:"main-cell"},s.createElement("a",{onClick:this.props.navigationContext.onGoToUserSettingsMobileRequested},s.createElement("span",null,s.createElement(v.c,null,"Mobile setup")))))))))}}da.propTypes={context:i().any,navigationContext:i().any,history:i().object,location:i().object,hasPendingAccountRecoveryChoice:i().bool,t:i().func};const ua=A((0,N.EN)(ke((0,E.Z)("common")(da))));class ha extends s.Component{get items(){return[s.createElement(We,{key:"bread-1",name:this.translate("All users"),onClick:this.props.navigationContext.onGoToUsersRequested}),s.createElement(We,{key:"bread-2",name:this.loggedInUserName,onClick:this.props.navigationContext.onGoToUserSettingsProfileRequested}),s.createElement(We,{key:"bread-3",name:this.getLastBreadcrumbItemName,onClick:this.onLastBreadcrumbClick.bind(this)})]}get loggedInUserName(){const e=this.props.context.loggedInUser;return e?`${e.profile.first_name} ${e.profile.last_name}`:""}get getLastBreadcrumbItemName(){const e={profile:this.translate("Profile"),passphrase:this.translate("Passphrase"),"security-token":this.translate("Security Token"),theme:this.translate("Theme"),mfa:this.translate("Multi Factor Authentication"),keys:this.translate("Keys inspector"),mobile:this.translate("Mobile transfer"),"account-recovery":this.translate("Account recovery")};return e[Object.keys(e).find((e=>this.props.location.pathname.endsWith(e)))]}async onLastBreadcrumbClick(){const e=this.props.location.pathname;this.props.history.push({pathname:e})}get translate(){return this.props.t}render(){return s.createElement(Ge,{items:this.items})}}ha.propTypes={context:i().any,location:i().object,history:i().object,navigationContext:i().any,t:i().func};const pa=A((0,N.EN)(ke((0,E.Z)("common")(ha))));class ma extends s.Component{render(){return s.createElement("iframe",{src:`${this.props.context.trustedDomain}/mfa/setup/select`,width:"100%",height:"100%"})}}ma.propTypes={context:i().any};const ga=A(ma);class ya extends s.Component{render(){return s.createElement("div",null,s.createElement("div",{className:"header second"},s.createElement(Ne,null),s.createElement(at,{disabled:!0}),s.createElement(De,{baseUrl:this.props.context.trustedDomain,user:this.props.context.loggedInUser})),s.createElement("div",{className:"header third"}),s.createElement("div",{className:"panel main"},s.createElement("div",{className:"panel left"},s.createElement(ua,null)),s.createElement("div",{className:"panel middle"},s.createElement(pa,null),s.createElement(N.AW,{path:"/app/settings/mfa",component:ga}))))}}ya.propTypes={context:i().any};const ba=(0,N.EN)(A(ya));class fa extends s.Component{constructor(e){super(e),this.initEventHandlers(),this.createReferences()}initEventHandlers(){this.handleCloseClick=this.handleCloseClick.bind(this)}createReferences(){this.loginLinkRef=s.createRef()}handleCloseClick(){this.goToLogin()}goToLogin(){this.loginLinkRef.current.click()}get loginUrl(){let e=this.props.context.userSettings&&this.props.context.userSettings.getTrustedDomain();return e=e||this.props.context.trustedDomain,`${e}/auth/login`}get translate(){return this.props.t}render(){return s.createElement(H,{title:this.translate("Session Expired"),onClose:this.handleCloseClick,className:"session-expired-dialog"},s.createElement("div",{className:"form-content"},s.createElement("p",null,s.createElement(v.c,null,"Your session has expired, you need to sign in."))),s.createElement("div",{className:"submit-wrapper clearfix"},s.createElement("a",{ref:this.loginLinkRef,href:this.loginUrl,className:"primary button",target:"_parent",role:"button",rel:"noopener noreferrer"},s.createElement(v.c,null,"Sign in"))))}}fa.propTypes={context:i().any,t:i().func};const va=A((0,N.EN)((0,E.Z)("common")(fa)));class Ea extends s.Component{constructor(e){super(e),this.bindCallbacks(),this.scheduledCheckIsAuthenticatedTimeout=null}bindCallbacks(){this.handleSessionExpiredEvent=this.handleSessionExpiredEvent.bind(this)}componentDidMount(){this.scheduleCheckIsAuthenticated()}componentWillUnmount(){clearTimeout(this.scheduledCheckIsAuthenticatedTimeout)}scheduleCheckIsAuthenticated(){this.scheduledCheckIsAuthenticatedTimeout=setTimeout((async()=>{await this.checkIsAuthenticated()?this.scheduleCheckIsAuthenticated():this.handleSessionExpiredEvent()}),6e4)}async checkIsAuthenticated(){return await this.props.context.onCheckIsAuthenticatedRequested()}handleSessionExpiredEvent(){this.props.dialogContext.open(va)}render(){return s.createElement(s.Fragment,null)}}Ea.propTypes={context:i().any,dialogContext:i().any};const wa=A(g(Ea));function ka(){return ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},ka.apply(this,arguments)}const Ca=s.createContext({announcements:[],show:()=>{},close:()=>{}});class xa extends s.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{announcements:[],show:(e,t)=>{const a=(0,o.Z)();return this.setState({announcements:[...this.state.announcements,{key:a,Announcement:e,AnnouncementProps:t}]}),a},close:async e=>await this.setState({announcements:this.state.announcements.filter((t=>e!==t.key))})}}render(){return s.createElement(Ca.Provider,{value:this.state},this.props.children)}}function Sa(e){return class extends s.Component{render(){return s.createElement(Ca.Consumer,null,(t=>s.createElement(e,ka({announcementContext:t},this.props))))}}}xa.displayName="AnnouncementContextProvider",xa.propTypes={children:i().any};class Na extends s.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleClose=this.handleClose.bind(this)}handleClose(){this.props.onClose()}render(){return s.createElement("div",{className:`${this.props.className} announcement`},s.createElement("div",{className:"announcement-content"},this.props.canClose&&s.createElement("a",{className:"announcement-close",onClick:this.handleClose,role:"button"},s.createElement(G,{name:"close"}),s.createElement("span",{className:"visually-hidden"},"Close")),this.props.children))}}Na.propTypes={children:i().node,className:i().string,canClose:i().bool,onClose:i().func};const qa=Na;class Ra extends s.Component{formatDateTimeAgo(e){const t=st.ou.fromISO(e),a=t.diffNow().toMillis();return a>-1e3&&a<0?this.translate("Just now"):t.toRelative({locale:this.props.context.locale})}render(){return s.createElement(qa,{className:"subscription",onClose:this.props.onClose,canClose:!0},s.createElement("p",null,s.createElement(v.c,null,"Warning: "),s.createElement(v.c,null,"your subscription key will expire")," ",this.formatDateTimeAgo(this.props.expiry),".",s.createElement("a",{onClick:this.props.navigationContext.onGoToAdministrationSubscriptionRequested},s.createElement(v.c,null,"Manage Subscription"))))}}Ra.propTypes={context:i().any,expiry:i().string,navigationContext:i().any,onClose:i().func};const Aa=A(ke(Sa((0,E.Z)("common")(Ra))));class Ia extends s.Component{render(){return s.createElement(qa,{className:"subscription",onClose:this.props.onClose,canClose:!1},s.createElement("p",null,s.createElement(v.c,null,"Warning: "),s.createElement(v.c,null,"your subscription key has expired. The stability of the application is at risk."),s.createElement("a",{onClick:this.props.navigationContext.onGoToAdministrationSubscriptionRequested},s.createElement(v.c,null,"Manage Subscription"))))}}Ia.propTypes={navigationContext:i().any,onClose:i().func,i18n:i().any};const Ta=ke(Sa((0,E.Z)("common")(Ia)));class Ua extends s.Component{render(){return s.createElement(qa,{className:"subscription",onClose:this.props.onClose,canClose:!1},s.createElement("p",null,s.createElement(v.c,null,"Warning: "),s.createElement(v.c,null,"your subscription key is not valid. The stability of the application is at risk."),s.createElement("a",{onClick:this.props.navigationContext.onGoToAdministrationSubscriptionRequested},s.createElement(v.c,null,"Manage Subscription"))))}}Ua.propTypes={navigationContext:i().any,onClose:i().func,i18n:i().any};const za=ke(Sa((0,E.Z)("common")(Ua)));class Da extends s.Component{constructor(e){super(e),this.bindCallbacks()}bindCallbacks(){this.handleAnnouncementSubscriptionEvent=this.handleAnnouncementSubscriptionEvent.bind(this)}componentDidMount(){this.handleAnnouncementSubscriptionEvent()}componentDidUpdate(e){this.handleRefreshSubscriptionAnnouncement(e.context.refreshSubscriptionAnnouncement)}async handleRefreshSubscriptionAnnouncement(e){this.props.context.refreshSubscriptionAnnouncement!==e&&this.props.context.refreshSubscriptionAnnouncement&&(await this.handleAnnouncementSubscriptionEvent(),this.props.context.setContext({refreshSubscriptionAnnouncement:null}))}async handleAnnouncementSubscriptionEvent(){this.hideSubscriptionAnnouncement();try{const e=await this.props.context.onGetSubscriptionKeyRequested();this.isSubscriptionGoingToExpire(e.expiry)&&this.props.announcementContext.show(Aa,{expiry:e.expiry})}catch(e){"PassboltSubscriptionError"===e.name?this.props.announcementContext.show(Ta):this.props.announcementContext.show(za)}}hideSubscriptionAnnouncement(){const e=[Aa,Ta,za];this.props.announcementContext.announcements.forEach((t=>{e.some((e=>e===t.Announcement))&&this.props.announcementContext.close(t.key)}))}isSubscriptionGoingToExpire(e){return st.ou.fromISO(e)<st.ou.now().plus({days:30})}render(){return s.createElement(s.Fragment,null)}}Da.propTypes={context:i().any,announcementContext:i().any};const Pa=A(Sa(Da));function _a(){return _a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},_a.apply(this,arguments)}class Oa extends s.Component{constructor(e){super(e),this.bindCallback()}bindCallback(){this.close=this.close.bind(this)}async close(e){this.props.announcementContext.close(e)}render(){return s.createElement(s.Fragment,null,this.props.announcementContext.announcements.map((({key:e,Announcement:t,AnnouncementProps:a})=>s.createElement(t,_a({key:e,onClose:()=>this.close(e)},a)))),this.props.children)}}Oa.propTypes={announcementContext:i().any,children:i().any};const Fa=Sa(Oa),Ka=(e,t)=>t.split(".").reduce(((e,t)=>void 0===e?e:e[t]),e),Ma=(e,t)=>{if(void 0===e||"string"!=typeof e||!e.length)return!1;if((t=t||{}).whitelistedProtocols&&!Array.isArray(t.whitelistedProtocols))throw new TypeError("The whitelistedProtocols should be an array of string.");if(t.defaultProtocol&&"string"!=typeof t.defaultProtocol)throw new TypeError("The defaultProtocol should be a string.");const a=t.whitelistedProtocols||[ja.HTTP,ja.HTTPS],s=[ja.JAVASCRIPT],n=t.defaultProtocol||"";!/^((?!:\/\/).)*:\/\//.test(e)&&n&&(e=`${n}//${e}`);try{const t=new URL(e);return!s.includes(t.protocol)&&!!a.includes(t.protocol)&&t.href}catch(e){return!1}},ja={FTP:"http:",FTPS:"https:",HTTP:"http:",HTTPS:"https:",JAVASCRIPT:"javascript:",SSH:"ssh:"};class Ga{constructor(e){this.settings=e}canIUse(e){let t=!1;const a=`passbolt.plugins.${e}`,s=Ka(this.settings,a)||null;if(s&&"object"==typeof s){const e=Ka(s,"enabled");void 0!==e&&!0!==e||(t=!0)}return t}getPluginSettings(e){const t=`passbolt.plugins.${e}`;return Ka(this.settings,t)}getRememberMeOptions(){return(this.getPluginSettings("rememberMe")||{}).options||{}}get hasRememberMeUntilILogoutOption(){return void 0!==(this.getRememberMeOptions()||{})[-1]}getServerTimezone(){return Ka(this.settings,"passbolt.app.server_timezone")}get termsLink(){const e=Ka(this.settings,"passbolt.legal.terms.url");return!!e&&Ma(e)}get privacyLink(){const e=Ka(this.settings,"passbolt.legal.privacy_policy.url");return!!e&&Ma(e)}get registrationPublic(){return!0===Ka(this.settings,"passbolt.registration.public")}get debug(){return!0===Ka(this.settings,"app.debug")}get url(){return Ka(this.settings,"app.url")||""}get version(){return Ka(this.settings,"app.version.number")}get locale(){return Ka(this.settings,"app.locale")||Ga.DEFAULT_LOCALE.locale}async setLocale(e){this.settings.app.locale=e}get supportedLocales(){return Ka(this.settings,"passbolt.plugins.locale.options")||Ga.DEFAULT_SUPPORTED_LOCALES}get generatorConfiguration(){return Ka(this.settings,"passbolt.plugins.generator.configuration")}static get DEFAULT_SUPPORTED_LOCALES(){return[Ga.DEFAULT_LOCALE]}static get DEFAULT_LOCALE(){return{locale:"en-UK",label:"English"}}}class La{constructor(e){this.setToken(e)}setToken(e){this.validate(e),this.token=e}validate(e){if(!e)throw new TypeError("CSRF token cannot be empty.");if("string"!=typeof e)throw new TypeError("CSRF token should be a string.")}toFetchHeaders(){return{"X-CSRF-Token":this.token}}}class Wa{setBaseUrl(e){if(!e)throw new TypeError("ApiClientOption baseUrl is required.");if("string"==typeof e)try{this.baseUrl=new URL(e)}catch(e){throw new TypeError("ApiClientOption baseUrl is invalid.")}else{if(!(e instanceof URL))throw new TypeError("ApiClientOptions baseurl should be a string or URL");this.baseUrl=e}return this}setCsrfToken(e){if(!e)throw new TypeError("ApiClientOption csrfToken is required.");if("string"==typeof e)this.csrfToken=new La(e);else{if(!(e instanceof La))throw new TypeError("ApiClientOption csrfToken should be a string or a valid CsrfToken.");this.csrfToken=e}return this}setResourceName(e){if(!e)throw new TypeError("ApiClientOptions.setResourceName resourceName is required.");if("string"!=typeof e)throw new TypeError("ApiClientOptions.setResourceName resourceName should be a valid string.");return this.resourceName=e,this}getBaseUrl(){return this.baseUrl}getResourceName(){return this.resourceName}getHeaders(){if(this.csrfToken)return this.csrfToken.toFetchHeaders()}}class Ba extends Error{constructor(e,t={}){super(e),this.name="PassboltSubscriptionError",this.subscription=t}}const $a=Ba;class Va extends s.Component{constructor(e){super(e),this.state=this.defaultState}async componentDidMount(){await this.getLoggedInUser(),await this.getSiteSettings(),this.initLocale(),this.removeSplashScreen()}get defaultState(){return{name:"api",loggedInUser:null,siteSettings:null,trustedDomain:this.baseUrl,basename:new URL(this.baseUrl).pathname,getApiClientOptions:this.getApiClientOptions.bind(this),locale:null,displayTestUserDirectoryDialogProps:{userDirectoryTestResult:null},setContext:e=>{this.setState(e)},onLogoutRequested:()=>this.onLogoutRequested(),onCheckIsAuthenticatedRequested:()=>this.onCheckIsAuthenticatedRequested(),onGetSubscriptionKeyRequested:()=>this.onGetSubscriptionKeyRequested(),onRefreshLocaleRequested:this.onRefreshLocaleRequested.bind(this)}}get isReady(){return null!==this.state.siteSettings&&null!==this.state.locale}get baseUrl(){const e=document.getElementsByTagName("base")&&document.getElementsByTagName("base")[0];return e?e.attributes.href.value.replace(/\/*$/g,""):(console.error("Unable to retrieve the page base tag"),"")}getApiClientOptions(){return(new Wa).setBaseUrl(this.state.trustedDomain).setCsrfToken(this.getCsrfToken())}getCsrfToken(){const e=document.cookie;if(!e)return;const t=e.split("; ");if(!t)return;const a=t.find((e=>e.startsWith("csrfToken")));if(!a)return;const s=a.split("=");return s&&2===s.length?s[1]:void 0}async getLoggedInUser(){const e=this.getApiClientOptions().setResourceName("users"),t=new M(e),a=(await t.get("me")).body;this.setState({loggedInUser:a})}async getSiteSettings(){const e=this.getApiClientOptions().setResourceName("settings"),t=new M(e),a=await t.findAll();await this.setState({siteSettings:new Ga(a.body)})}async initLocale(){const e=await this.getUserLocale();if(e)return this.setState({locale:e.locale});const t=this.state.siteSettings.locale;return this.setState({locale:t})}async getUserLocale(){const e=(await this.getUserSettings()).find((e=>"locale"===e.property));if(e)return this.state.siteSettings.supportedLocales.find((t=>t.locale===e.value))}async getUserSettings(){const e=this.getApiClientOptions().setResourceName("account/settings"),t=new M(e);return(await t.findAll()).body}removeSplashScreen(){document.getElementsByTagName("html")[0].classList.remove("launching")}onLogoutRequested(){document.location.href=`${this.state.trustedDomain}/auth/logout`}async onCheckIsAuthenticatedRequested(){try{const e=this.getApiClientOptions().setResourceName("auth"),t=new M(e);return await t.get("is-authenticated"),!0}catch(e){if(e instanceof P&&401===e.data.code)return!1;throw e}}async onGetSubscriptionKeyRequested(){try{const e=this.getApiClientOptions().setResourceName("ee/subscription"),t=new M(e);return(await t.get("key")).body}catch(e){if(e instanceof P&&e.data&&402===e.data.code){const t=e.data.body;throw new $a(e.message,t)}throw e}}onRefreshLocaleRequested(e){this.state.siteSettings.setLocale(e),this.initLocale()}render(){const e=this.isReady;return s.createElement(I.Provider,{value:this.state},e&&this.props.children)}}Va.propTypes={children:i().any};const Ha=Va;var Za=a(8309),Ya=a(8718),Ja=a(3554);class Qa extends s.Component{constructor(e){super(e),this.state=this.defaultState}get defaultState(){return{ready:!1}}async componentDidMount(){await Za.ZP.use(Ya.Db).use(Ja.Z).init({lng:this.locale,load:"currentOnly",interpolation:{escapeValue:!1},react:{useSuspense:!1},backend:{loadPath:this.props.loadingPath||"/locales/{{lng}}/{{ns}}.json"},supportedLngs:this.supportedLocales,fallbackLng:!1,ns:["common"],defaultNS:"common",keySeparator:!1,nsSeparator:!1,debug:!1,compatibilityJSON:"v3"}),this.setState({ready:!0})}get supportedLocales(){return this.props.context.siteSettings.supportedLocales?this.props.context.siteSettings.supportedLocales.map((e=>e.locale)):[this.locale]}get locale(){return this.props.context.locale}async componentDidUpdate(e){await this.handleLocaleChange(e.context.locale)}async handleLocaleChange(e){this.locale!==e&&await Za.ZP.changeLanguage(this.locale)}get isReady(){return this.state.ready}render(){return s.createElement(s.Fragment,null,this.isReady&&this.props.children)}}Qa.propTypes={context:i().any,loadingPath:i().any,children:i().any};const Xa=A(Qa);class es{constructor(){this.baseUrl=this.getBaseUrl()}async getOrganizationAccountRecoverySettings(){const e=this.getApiClientOptions().setResourceName("account-recovery/organization-policies"),t=new M(e);return(await t.findAll()).body}getBaseUrl(){const e=document.getElementsByTagName("base")&&document.getElementsByTagName("base")[0];return e?e.attributes.href.value.replace(/\/*$/g,""):(console.error("Unable to retrieve the page base tag"),"")}getApiClientOptions(){return(new Wa).setBaseUrl(this.baseUrl).setCsrfToken(this.getCsrfToken())}getCsrfToken(){const e=document.cookie;if(!e)return;const t=e.split("; ");if(!t)return;const a=t.find((e=>e.startsWith("csrfToken")));if(!a)return;const s=a.split("=");return s&&2===s.length?s[1]:void 0}}class ts extends s.Component{render(){const e=new es;return s.createElement(Ha,null,s.createElement(I.Consumer,null,(t=>s.createElement(Xa,{loadingPath:`${t.trustedDomain}/locales/{{lng}}/{{ns}}.json`},s.createElement(Ie,{accountRecoveryUserService:e},s.createElement(d,null,s.createElement(m,null,s.createElement(xa,null,s.createElement(f,null,s.createElement(x,null),s.createElement(wa,null),t.loggedInUser&&"admin"===t.loggedInUser.role.name&&t.siteSettings.canIUse("ee")&&s.createElement(Pa,null),s.createElement(S.VK,{basename:t.basename},s.createElement(we,null,s.createElement(N.rs,null,s.createElement(N.AW,{exact:!0,path:["/app/administration/subscription","/app/administration/account-recovery"]}),s.createElement(N.AW,{path:"/app/administration"},s.createElement(le,null,s.createElement(me,null),s.createElement(be,null),s.createElement(Fa,null),s.createElement(ia,null))),s.createElement(N.AW,{path:"/app/settings/mfa"},s.createElement(me,null),s.createElement(be,null),s.createElement(Fa,null),s.createElement("div",{id:"container",className:"page settings"},s.createElement("div",{id:"app",className:"app",tabIndex:"1000"},s.createElement("div",{className:"header first"},s.createElement(xe,null)),s.createElement(ba,null))))))),s.createElement(ca,null))))))))))}}const as=ts,ss=document.createElement("div");document.body.appendChild(ss),n.render(s.createElement(as,null),ss)}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={exports:{}};return s[e].call(a.exports,a,a.exports,r),a.exports}r.m=s,e=[],r.O=(t,a,s,n)=>{if(!a){var i=1/0;for(d=0;d<e.length;d++){for(var[a,s,n]=e[d],o=!0,l=0;l<a.length;l++)(!1&n||i>=n)&&Object.keys(r.O).every((e=>r.O[e](a[l])))?a.splice(l--,1):(o=!1,n<i&&(i=n));if(o){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[a,s,n]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},a=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(e,s){if(1&s&&(e=this(e)),8&s)return e;if("object"==typeof e&&e){if(4&s&&e.__esModule)return e;if(16&s&&"function"==typeof e.then)return e}var n=Object.create(null);r.r(n);var i={};t=t||[null,a({}),a([]),a(a)];for(var o=2&s&&e;"object"==typeof o&&!~t.indexOf(o);o=a(o))Object.getOwnPropertyNames(o).forEach((t=>i[t]=()=>e[t]));return i.default=()=>e,r.d(n,i),n},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.j=978,(()=>{var e={978:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var s,n,[i,o,l]=a,c=0;for(s in o)r.o(o,s)&&(r.m[s]=o[s]);if(l)var d=l(r);for(t&&t(a);c<i.length;c++)n=i[c],r.o(e,n)&&e[n]&&e[n][0](),e[i[c]]=0;return r.O(d)},a=self.webpackChunkpassbolt_styleguide=self.webpackChunkpassbolt_styleguide||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var i=r.O(void 0,[596],(()=>r(23)));i=r.O(i)})();