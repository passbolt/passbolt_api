<div id='out'></div>
<script src="../../../node_modules/steal/steal.js" main="@empty"></script>
<script>
steal("can/view/bindings", "can/view/mustache", function(){
		
var template = can.view.mustache(
  "<p><input type='checkbox' can-value='owns.car'/> Car</p>"+
  "<p><input type='checkbox' can-value='owns.bike'/> Bike</p>"+
  "<p><input type='checkbox' can-value='owns.sled'/> Dog Sled</p>"+
  "<p>You own: {{ownership}}</p>")
		
var person = new can.Map({
  owns: {
    bike: true
  }
})

$("#out").html( template(person, {
  ownership: function(){
    var list = [],
    	owns = person.attr('owns');
    can.each(can.Map.keys(owns), function(prop){
    	if(owns.attr(prop) ) {
          list.push(prop)
        }
    });
    return list.length ? list.join(" and ") : "nothing";
    
  }
}) )


})
</script>

